!function(E, I) {
    function t(t) {
        var e, i, n = F[t] = {};
        for (e = 0,
        i = (t = t.split(/\s+/)).length; e < i; e++)
            n[t[e]] = !0;
        return n
    }
    function c(t, e, i) {
        if (i === I && 1 === t.nodeType) {
            var n = "data-" + e.replace($, "-$1").toLowerCase();
            if ("string" == typeof (i = t.getAttribute(n))) {
                try {
                    i = "true" === i || "false" !== i && ("null" === i ? null : R.isNumeric(i) ? +i : V.test(i) ? R.parseJSON(i) : i)
                } catch (s) {}
                R.data(t, e, i)
            } else
                i = I
        }
        return i
    }
    function h(t) {
        for (var e in t)
            if (("data" !== e || !R.isEmptyObject(t[e])) && "toJSON" !== e)
                return !1;
        return !0
    }
    function r(t, e, i) {
        var n = e + "defer"
          , s = e + "queue"
          , r = e + "mark"
          , o = R._data(t, n);
        !o || "queue" !== i && R._data(t, s) || "mark" !== i && R._data(t, r) || setTimeout(function() {
            R._data(t, s) || R._data(t, r) || (R.removeData(t, n, !0),
            o.fire())
        }, 0)
    }
    function a() {
        return !1
    }
    function i() {
        return !0
    }
    function s(t) {
        return !t || !t.parentNode || 11 === t.parentNode.nodeType
    }
    function e(t, i, n) {
        if (i = i || 0,
        R.isFunction(i))
            return R.grep(t, function(t, e) {
                return !!i.call(t, e, t) === n
            });
        if (i.nodeType)
            return R.grep(t, function(t) {
                return t === i === n
            });
        if ("string" == typeof i) {
            var e = R.grep(t, function(t) {
                return 1 === t.nodeType
            });
            if (ht.test(i))
                return R.filter(i, e, !n);
            i = R.filter(i, e)
        }
        return R.grep(t, function(t) {
            return 0 <= R.inArray(t, i) === n
        })
    }
    function w(t) {
        var e = mt.split("|")
          , i = t.createDocumentFragment();
        if (i.createElement)
            for (; e.length; )
                i.createElement(e.pop());
        return i
    }
    function p(t) {
        return R.nodeName(t, "table") ? t.getElementsByTagName("tbody")[0] || t.appendChild(t.ownerDocument.createElement("tbody")) : t
    }
    function l(t, e) {
        if (1 === e.nodeType && R.hasData(t)) {
            var i, n, s, r = R._data(t), o = R._data(e, r), a = r.events;
            if (a)
                for (i in delete o.handle,
                o.events = {},
                a)
                    for (n = 0,
                    s = a[i].length; n < s; n++)
                        R.event.add(e, i, a[i][n]);
            o.data && (o.data = R.extend({}, o.data))
        }
    }
    function u(t, e) {
        var i;
        1 === e.nodeType && (e.clearAttributes && e.clearAttributes(),
        e.mergeAttributes && e.mergeAttributes(t),
        "object" === (i = e.nodeName.toLowerCase()) ? e.outerHTML = t.outerHTML : "input" !== i || "checkbox" !== t.type && "radio" !== t.type ? "option" === i ? e.selected = t.defaultSelected : "input" === i || "textarea" === i ? e.defaultValue = t.defaultValue : "script" === i && e.text !== t.text && (e.text = t.text) : (t.checked && (e.defaultChecked = e.checked = t.checked),
        e.value !== t.value && (e.value = t.value)),
        e.removeAttribute(R.expando),
        e.removeAttribute("_submit_attached"),
        e.removeAttribute("_change_attached"))
    }
    function d(t) {
        return "undefined" != typeof t.getElementsByTagName ? t.getElementsByTagName("*") : "undefined" != typeof t.querySelectorAll ? t.querySelectorAll("*") : []
    }
    function n(t) {
        "checkbox" !== t.type && "radio" !== t.type || (t.defaultChecked = t.checked)
    }
    function b(t) {
        var e = (t.nodeName || "").toLowerCase();
        "input" === e ? n(t) : "script" !== e && "undefined" != typeof t.getElementsByTagName && R.grep(t.getElementsByTagName("input"), n)
    }
    function f(t) {
        var e = N.createElement("div");
        return Mt.appendChild(e),
        e.innerHTML = t.outerHTML,
        e.firstChild
    }
    function o(t, e, i) {
        var n = "width" === e ? t.offsetWidth : t.offsetHeight
          , s = "width" === e ? 1 : 0
          , r = 4;
        if (0 < n) {
            if ("border" !== i)
                for (; s < r; s += 2)
                    i || (n -= parseFloat(R.css(t, "padding" + Lt[s])) || 0),
                    "margin" === i ? n += parseFloat(R.css(t, i + Lt[s])) || 0 : n -= parseFloat(R.css(t, "border" + Lt[s] + "Width")) || 0;
            return n + "px"
        }
        if (((n = qt(t, e)) < 0 || null == n) && (n = t.style[e]),
        Ft.test(n))
            return n;
        if (n = parseFloat(n) || 0,
        i)
            for (; s < r; s += 2)
                n += parseFloat(R.css(t, "padding" + Lt[s])) || 0,
                "padding" !== i && (n += parseFloat(R.css(t, "border" + Lt[s] + "Width")) || 0),
                "margin" === i && (n += parseFloat(R.css(t, i + Lt[s])) || 0);
        return n + "px"
    }
    function m(a) {
        return function(t, e) {
            if ("string" != typeof t && (e = t,
            t = "*"),
            R.isFunction(e))
                for (var i, n, s = t.toLowerCase().split(ie), r = 0, o = s.length; r < o; r++)
                    i = s[r],
                    (n = /^\+/.test(i)) && (i = i.substr(1) || "*"),
                    (a[i] = a[i] || [])[n ? "unshift" : "push"](e)
        }
    }
    function C(t, e, i, n, s, r) {
        (r = r || {})[s = s || e.dataTypes[0]] = !0;
        for (var o, a = t[s], l = 0, u = a ? a.length : 0, c = t === oe; l < u && (c || !o); l++)
            "string" == typeof (o = a[l](e, i, n)) && (!c || r[o] ? o = I : (e.dataTypes.unshift(o),
            o = C(t, e, i, n, o, r)));
        return !c && o || r["*"] || (o = C(t, e, i, n, "*", r)),
        o
    }
    function g(t, e) {
        var i, n, s = R.ajaxSettings.flatOptions || {};
        for (i in e)
            e[i] !== I && ((s[i] ? t : n || (n = {}))[i] = e[i]);
        n && R.extend(!0, t, n)
    }
    function y(i, t, n, s) {
        if (R.isArray(t))
            R.each(t, function(t, e) {
                n || Jt.test(i) ? s(i, e) : y(i + "[" + ("object" == typeof e ? t : "") + "]", e, n, s)
            });
        else if (n || "object" !== R.type(t))
            s(i, t);
        else
            for (var e in t)
                y(i + "[" + e + "]", t[e], n, s)
    }
    function S(t, e, i) {
        var n, s, r, o, a = t.contents, l = t.dataTypes, u = t.responseFields;
        for (s in u)
            s in i && (e[u[s]] = i[s]);
        for (; "*" === l[0]; )
            l.shift(),
            n === I && (n = t.mimeType || e.getResponseHeader("content-type"));
        if (n)
            for (s in a)
                if (a[s] && a[s].test(n)) {
                    l.unshift(s);
                    break
                }
        if (l[0]in i)
            r = l[0];
        else {
            for (s in i) {
                if (!l[0] || t.converters[s + " " + l[0]]) {
                    r = s;
                    break
                }
                o || (o = s)
            }
            r = r || o
        }
        if (r)
            return r !== l[0] && l.unshift(r),
            i[r]
    }
    function T(t, e) {
        t.dataFilter && (e = t.dataFilter(e, t.dataType));
        var i, n, s, r, o, a, l, u, c = t.dataTypes, h = {}, p = c.length, d = c[0];
        for (i = 1; i < p; i++) {
            if (1 === i)
                for (n in t.converters)
                    "string" == typeof n && (h[n.toLowerCase()] = t.converters[n]);
            if (r = d,
            "*" === (d = c[i]))
                d = r;
            else if ("*" !== r && r !== d) {
                if (!(a = h[o = r + " " + d] || h["* " + d]))
                    for (l in u = I,
                    h)
                        if (((s = l.split(" "))[0] === r || "*" === s[0]) && (u = h[s[1] + " " + d])) {
                            !0 === (l = h[l]) ? a = u : !0 === u && (a = l);
                            break
                        }
                a || u || R.error("No conversion from " + o.replace(" ", " to ")),
                !0 !== a && (e = a ? a(e) : u(l(e)))
            }
        }
        return e
    }
    function v() {
        try {
            return new E.XMLHttpRequest
        } catch (t) {}
    }
    function x() {
        try {
            return new E.ActiveXObject("Microsoft.XMLHTTP")
        } catch (t) {}
    }
    function k() {
        return setTimeout(A, 0),
        _e = R.now()
    }
    function A() {
        _e = I
    }
    function D(t, e) {
        var i = {};
        return R.each(xe.concat.apply([], xe.slice(0, e)), function() {
            i[this] = t
        }),
        i
    }
    function M(t) {
        if (!ve[t]) {
            var e = N.body
              , i = R("<" + t + ">").appendTo(e)
              , n = i.css("display");
            i.remove(),
            "none" !== n && "" !== n || (me || ((me = N.createElement("iframe")).frameBorder = me.width = me.height = 0),
            e.appendChild(me),
            ge && me.createElement || ((ge = (me.contentWindow || me.contentDocument).document).write((R.support.boxModel ? "<!doctype html>" : "") + "<html><body>"),
            ge.close()),
            i = ge.createElement(t),
            ge.body.appendChild(i),
            n = R.css(i, "display"),
            e.removeChild(me)),
            ve[t] = n
        }
        return ve[t]
    }
    function q(t) {
        return R.isWindow(t) ? t : 9 === t.nodeType && (t.defaultView || t.parentWindow)
    }
    var N = E.document
      , O = E.navigator
      , P = E.location
      , R = function() {
        function i() {
            if (!p.isReady) {
                try {
                    N.documentElement.doScroll("left")
                } catch (t) {
                    return void setTimeout(i, 1)
                }
                p.ready()
            }
        }
        var n, t, s, r, p = function(t, e) {
            return new p.fn.init(t,e,n)
        }, e = E.jQuery, o = E.$, a = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/, l = /\S/, u = /^\s+/, c = /\s+$/, h = /^<(\w+)\s*\/?>(?:<\/\1>)?$/, d = /^[\],:{}\s]*$/, f = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, m = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, g = /(?:^|:|,)(?:\s*\[)+/g, y = /(webkit)[ \/]([\w.]+)/, _ = /(opera)(?:.*version)?[ \/]([\w.]+)/, v = /(msie) ([\w.]+)/, w = /(mozilla)(?:.*? rv:([\w.]+))?/, b = /-([a-z]|[0-9])/gi, x = /^-ms-/, k = function(t, e) {
            return (e + "").toUpperCase()
        }, C = O.userAgent, S = Object.prototype.toString, T = Object.prototype.hasOwnProperty, A = Array.prototype.push, D = Array.prototype.slice, M = String.prototype.trim, q = Array.prototype.indexOf, P = {};
        return p.fn = p.prototype = {
            constructor: p,
            init: function(t, e, i) {
                var n, s, r, o;
                if (!t)
                    return this;
                if (t.nodeType)
                    return this.context = this[0] = t,
                    this.length = 1,
                    this;
                if ("body" === t && !e && N.body)
                    return this.context = N,
                    this[0] = N.body,
                    this.selector = t,
                    this.length = 1,
                    this;
                if ("string" != typeof t)
                    return p.isFunction(t) ? i.ready(t) : (t.selector !== I && (this.selector = t.selector,
                    this.context = t.context),
                    p.makeArray(t, this));
                if (!(n = "<" === t.charAt(0) && ">" === t.charAt(t.length - 1) && 3 <= t.length ? [null, t, null] : a.exec(t)) || !n[1] && e)
                    return !e || e.jquery ? (e || i).find(t) : this.constructor(e).find(t);
                if (n[1])
                    return o = (e = e instanceof p ? e[0] : e) ? e.ownerDocument || e : N,
                    (r = h.exec(t)) ? p.isPlainObject(e) ? (t = [N.createElement(r[1])],
                    p.fn.attr.call(t, e, !0)) : t = [o.createElement(r[1])] : t = ((r = p.buildFragment([n[1]], [o])).cacheable ? p.clone(r.fragment) : r.fragment).childNodes,
                    p.merge(this, t);
                if ((s = N.getElementById(n[2])) && s.parentNode) {
                    if (s.id !== n[2])
                        return i.find(t);
                    this.length = 1,
                    this[0] = s
                }
                return this.context = N,
                this.selector = t,
                this
            },
            selector: "",
            jquery: "1.7.2",
            length: 0,
            size: function() {
                return this.length
            },
            toArray: function() {
                return D.call(this, 0)
            },
            get: function(t) {
                return null == t ? this.toArray() : t < 0 ? this[this.length + t] : this[t]
            },
            pushStack: function(t, e, i) {
                var n = this.constructor();
                return p.isArray(t) ? A.apply(n, t) : p.merge(n, t),
                n.prevObject = this,
                n.context = this.context,
                "find" === e ? n.selector = this.selector + (this.selector ? " " : "") + i : e && (n.selector = this.selector + "." + e + "(" + i + ")"),
                n
            },
            each: function(t, e) {
                return p.each(this, t, e)
            },
            ready: function(t) {
                return p.bindReady(),
                s.add(t),
                this
            },
            eq: function(t) {
                return -1 === (t = +t) ? this.slice(t) : this.slice(t, t + 1)
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            slice: function() {
                return this.pushStack(D.apply(this, arguments), "slice", D.call(arguments).join(","))
            },
            map: function(i) {
                return this.pushStack(p.map(this, function(t, e) {
                    return i.call(t, e, t)
                }))
            },
            end: function() {
                return this.prevObject || this.constructor(null)
            },
            push: A,
            sort: [].sort,
            splice: [].splice
        },
        p.fn.init.prototype = p.fn,
        p.extend = p.fn.extend = function(t, e) {
            var i, n, s, r, o, a, l = t || {}, u = 1, c = arguments.length, h = !1;
            for ("boolean" == typeof l && (h = l,
            l = e || {},
            u = 2),
            "object" == typeof l || p.isFunction(l) || (l = {}),
            c === u && (l = this,
            --u); u < c; u++)
                if (null != (i = arguments[u]))
                    for (n in i)
                        s = l[n],
                        l !== (r = i[n]) && (h && r && (p.isPlainObject(r) || (o = p.isArray(r))) ? (o ? (o = !1,
                        a = s && p.isArray(s) ? s : []) : a = s && p.isPlainObject(s) ? s : {},
                        l[n] = p.extend(h, a, r)) : r !== I && (l[n] = r));
            return l
        }
        ,
        p.extend({
            noConflict: function(t) {
                return E.$ === p && (E.$ = o),
                t && E.jQuery === p && (E.jQuery = e),
                p
            },
            isReady: !1,
            readyWait: 1,
            holdReady: function(t) {
                t ? p.readyWait++ : p.ready(!0)
            },
            ready: function(t) {
                if (!0 === t && !--p.readyWait || !0 !== t && !p.isReady) {
                    if (!N.body)
                        return setTimeout(p.ready, 1);
                    if ((p.isReady = !0) !== t && 0 < --p.readyWait)
                        return;
                    s.fireWith(N, [p]),
                    p.fn.trigger && p(N).trigger("ready").off("ready")
                }
            },
            bindReady: function() {
                if (!s) {
                    if (s = p.Callbacks("once memory"),
                    "complete" === N.readyState)
                        return setTimeout(p.ready, 1);
                    if (N.addEventListener)
                        N.addEventListener("DOMContentLoaded", r, !1),
                        E.addEventListener("load", p.ready, !1);
                    else if (N.attachEvent) {
                        N.attachEvent("onreadystatechange", r),
                        E.attachEvent("onload", p.ready);
                        var t = !1;
                        try {
                            t = null == E.frameElement
                        } catch (e) {}
                        N.documentElement.doScroll && t && i()
                    }
                }
            },
            isFunction: function(t) {
                return "function" === p.type(t)
            },
            isArray: Array.isArray || function(t) {
                return "array" === p.type(t)
            }
            ,
            isWindow: function(t) {
                return null != t && t == t.window
            },
            isNumeric: function(t) {
                return !isNaN(parseFloat(t)) && isFinite(t)
            },
            type: function(t) {
                return null == t ? String(t) : P[S.call(t)] || "object"
            },
            isPlainObject: function(t) {
                if (!t || "object" !== p.type(t) || t.nodeType || p.isWindow(t))
                    return !1;
                try {
                    if (t.constructor && !T.call(t, "constructor") && !T.call(t.constructor.prototype, "isPrototypeOf"))
                        return !1
                } catch (i) {
                    return !1
                }
                var e;
                for (e in t)
                    ;
                return e === I || T.call(t, e)
            },
            isEmptyObject: function(t) {
                for (var e in t)
                    return !1;
                return !0
            },
            error: function(t) {
                throw new Error(t)
            },
            parseJSON: function(t) {
                return "string" == typeof t && t ? (t = p.trim(t),
                E.JSON && E.JSON.parse ? E.JSON.parse(t) : d.test(t.replace(f, "@").replace(m, "]").replace(g, "")) ? new Function("return " + t)() : void p.error("Invalid JSON: " + t)) : null
            },
            parseXML: function(t) {
                if ("string" != typeof t || !t)
                    return null;
                var e;
                try {
                    E.DOMParser ? e = (new DOMParser).parseFromString(t, "text/xml") : ((e = new ActiveXObject("Microsoft.XMLDOM")).async = "false",
                    e.loadXML(t))
                } catch (i) {
                    e = I
                }
                return e && e.documentElement && !e.getElementsByTagName("parsererror").length || p.error("Invalid XML: " + t),
                e
            },
            noop: function() {},
            globalEval: function(t) {
                t && l.test(t) && (E.execScript || function(t) {
                    E.eval.call(E, t)
                }
                )(t)
            },
            camelCase: function(t) {
                return t.replace(x, "ms-").replace(b, k)
            },
            nodeName: function(t, e) {
                return t.nodeName && t.nodeName.toUpperCase() === e.toUpperCase()
            },
            each: function(t, e, i) {
                var n, s = 0, r = t.length, o = r === I || p.isFunction(t);
                if (i)
                    if (o) {
                        for (n in t)
                            if (!1 === e.apply(t[n], i))
                                break
                    } else
                        for (; s < r && !1 !== e.apply(t[s++], i); )
                            ;
                else if (o) {
                    for (n in t)
                        if (!1 === e.call(t[n], n, t[n]))
                            break
                } else
                    for (; s < r && !1 !== e.call(t[s], s, t[s++]); )
                        ;
                return t
            },
            trim: M ? function(t) {
                return null == t ? "" : M.call(t)
            }
            : function(t) {
                return null == t ? "" : t.toString().replace(u, "").replace(c, "")
            }
            ,
            makeArray: function(t, e) {
                var i = e || [];
                if (null != t) {
                    var n = p.type(t);
                    null == t.length || "string" === n || "function" === n || "regexp" === n || p.isWindow(t) ? A.call(i, t) : p.merge(i, t)
                }
                return i
            },
            inArray: function(t, e, i) {
                var n;
                if (e) {
                    if (q)
                        return q.call(e, t, i);
                    for (n = e.length,
                    i = i ? i < 0 ? Math.max(0, n + i) : i : 0; i < n; i++)
                        if (i in e && e[i] === t)
                            return i
                }
                return -1
            },
            merge: function(t, e) {
                var i = t.length
                  , n = 0;
                if ("number" == typeof e.length)
                    for (var s = e.length; n < s; n++)
                        t[i++] = e[n];
                else
                    for (; e[n] !== I; )
                        t[i++] = e[n++];
                return t.length = i,
                t
            },
            grep: function(t, e, i) {
                var n = [];
                i = !!i;
                for (var s = 0, r = t.length; s < r; s++)
                    i !== !!e(t[s], s) && n.push(t[s]);
                return n
            },
            map: function(t, e, i) {
                var n, s, r = [], o = 0, a = t.length;
                if (t instanceof p || a !== I && "number" == typeof a && (0 < a && t[0] && t[a - 1] || 0 === a || p.isArray(t)))
                    for (; o < a; o++)
                        null != (n = e(t[o], o, i)) && (r[r.length] = n);
                else
                    for (s in t)
                        null != (n = e(t[s], s, i)) && (r[r.length] = n);
                return r.concat.apply([], r)
            },
            guid: 1,
            proxy: function(t, e) {
                if ("string" == typeof e) {
                    var i = t[e];
                    e = t,
                    t = i
                }
                if (!p.isFunction(t))
                    return I;
                var n = D.call(arguments, 2)
                  , s = function() {
                    return t.apply(e, n.concat(D.call(arguments)))
                };
                return s.guid = t.guid = t.guid || s.guid || p.guid++,
                s
            },
            access: function(t, e, i, n, s, r, o) {
                var a, l = null == i, u = 0, c = t.length;
                if (i && "object" == typeof i) {
                    for (u in i)
                        p.access(t, e, u, i[u], 1, r, n);
                    s = 1
                } else if (n !== I) {
                    if (a = o === I && p.isFunction(n),
                    l && (a ? (a = e,
                    e = function(t, e, i) {
                        return a.call(p(t), i)
                    }
                    ) : (e.call(t, n),
                    e = null)),
                    e)
                        for (; u < c; u++)
                            e(t[u], i, a ? n.call(t[u], u, e(t[u], i)) : n, o);
                    s = 1
                }
                return s ? t : l ? e.call(t) : c ? e(t[0], i) : r
            },
            now: function() {
                return (new Date).getTime()
            },
            uaMatch: function(t) {
                t = t.toLowerCase();
                var e = y.exec(t) || _.exec(t) || v.exec(t) || t.indexOf("compatible") < 0 && w.exec(t) || [];
                return {
                    browser: e[1] || "",
                    version: e[2] || "0"
                }
            },
            sub: function() {
                function i(t, e) {
                    return new i.fn.init(t,e)
                }
                p.extend(!0, i, this),
                i.superclass = this,
                i.fn = i.prototype = this(),
                (i.fn.constructor = i).sub = this.sub,
                i.fn.init = function s(t, e) {
                    return e && e instanceof p && !(e instanceof i) && (e = i(e)),
                    p.fn.init.call(this, t, e, n)
                }
                ,
                i.fn.init.prototype = i.fn;
                var n = i(N);
                return i
            },
            browser: {}
        }),
        p.each("Boolean Number String Function Array Date RegExp Object".split(" "), function(t, e) {
            P["[object " + e + "]"] = e.toLowerCase()
        }),
        (t = p.uaMatch(C)).browser && (p.browser[t.browser] = !0,
        p.browser.version = t.version),
        p.browser.webkit && (p.browser.safari = !0),
        l.test("\xa0") && (u = /^[\s\xA0]+/,
        c = /[\s\xA0]+$/),
        n = p(N),
        N.addEventListener ? r = function() {
            N.removeEventListener("DOMContentLoaded", r, !1),
            p.ready()
        }
        : N.attachEvent && (r = function() {
            "complete" === N.readyState && (N.detachEvent("onreadystatechange", r),
            p.ready())
        }
        ),
        p
    }()
      , F = {};
    R.Callbacks = function(r) {
        r = r ? F[r] || t(r) : {};
        var i, n, s, o, a, l, u = [], c = [], h = function(t) {
            var e, i, n, s;
            for (e = 0,
            i = t.length; e < i; e++)
                n = t[e],
                "array" === (s = R.type(n)) ? h(n) : "function" === s && (r.unique && d.has(n) || u.push(n))
        }, p = function(t, e) {
            for (e = e || [],
            i = !r.memory || [t, e],
            s = n = !0,
            l = o || 0,
            o = 0,
            a = u.length; u && l < a; l++)
                if (!1 === u[l].apply(t, e) && r.stopOnFalse) {
                    i = !0;
                    break
                }
            s = !1,
            u && (r.once ? !0 === i ? d.disable() : u = [] : c && c.length && (i = c.shift(),
            d.fireWith(i[0], i[1])))
        }, d = {
            add: function() {
                if (u) {
                    var t = u.length;
                    h(arguments),
                    s ? a = u.length : i && !0 !== i && (o = t,
                    p(i[0], i[1]))
                }
                return this
            },
            remove: function() {
                if (u)
                    for (var t = arguments, e = 0, i = t.length; e < i; e++)
                        for (var n = 0; n < u.length && (t[e] !== u[n] || (s && n <= a && (a--,
                        n <= l && l--),
                        u.splice(n--, 1),
                        !r.unique)); n++)
                            ;
                return this
            },
            has: function(t) {
                if (u)
                    for (var e = 0, i = u.length; e < i; e++)
                        if (t === u[e])
                            return !0;
                return !1
            },
            empty: function() {
                return u = [],
                this
            },
            disable: function() {
                return u = c = i = I,
                this
            },
            disabled: function() {
                return !u
            },
            lock: function() {
                return c = I,
                i && !0 !== i || d.disable(),
                this
            },
            locked: function() {
                return !c
            },
            fireWith: function(t, e) {
                return c && (s ? r.once || c.push([t, e]) : r.once && i || p(t, e)),
                this
            },
            fire: function() {
                return d.fireWith(this, arguments),
                this
            },
            fired: function() {
                return !!n
            }
        };
        return d
    }
    ;
    var H = [].slice;
    R.extend({
        Deferred: function(t) {
            var e, i = R.Callbacks("once memory"), n = R.Callbacks("once memory"), s = R.Callbacks("memory"), r = "pending", o = {
                resolve: i,
                reject: n,
                notify: s
            }, a = {
                done: i.add,
                fail: n.add,
                progress: s.add,
                state: function() {
                    return r
                },
                isResolved: i.fired,
                isRejected: n.fired,
                then: function(t, e, i) {
                    return l.done(t).fail(e).progress(i),
                    this
                },
                always: function() {
                    return l.done.apply(l, arguments).fail.apply(l, arguments),
                    this
                },
                pipe: function(t, e, i) {
                    return R.Deferred(function(r) {
                        R.each({
                            done: [t, "resolve"],
                            fail: [e, "reject"],
                            progress: [i, "notify"]
                        }, function(t, e) {
                            var i, n = e[0], s = e[1];
                            R.isFunction(n) ? l[t](function() {
                                (i = n.apply(this, arguments)) && R.isFunction(i.promise) ? i.promise().then(r.resolve, r.reject, r.notify) : r[s + "With"](this === l ? r : this, [i])
                            }) : l[t](r[s])
                        })
                    }).promise()
                },
                promise: function(t) {
                    if (null == t)
                        t = a;
                    else
                        for (var e in a)
                            t[e] = a[e];
                    return t
                }
            }, l = a.promise({});
            for (e in o)
                l[e] = o[e].fire,
                l[e + "With"] = o[e].fireWith;
            return l.done(function() {
                r = "resolved"
            }, n.disable, s.lock).fail(function() {
                r = "rejected"
            }, i.disable, s.lock),
            t && t.call(l, l),
            l
        },
        when: function(t) {
            function e(e) {
                return function(t) {
                    n[e] = 1 < arguments.length ? H.call(arguments, 0) : t,
                    --a || l.resolveWith(l, n)
                }
            }
            function i(e) {
                return function(t) {
                    o[e] = 1 < arguments.length ? H.call(arguments, 0) : t,
                    l.notifyWith(u, o)
                }
            }
            var n = H.call(arguments, 0)
              , s = 0
              , r = n.length
              , o = new Array(r)
              , a = r
              , l = r <= 1 && t && R.isFunction(t.promise) ? t : R.Deferred()
              , u = l.promise();
            if (1 < r) {
                for (; s < r; s++)
                    n[s] && n[s].promise && R.isFunction(n[s].promise) ? n[s].promise().then(e(s), l.reject, i(s)) : --a;
                a || l.resolveWith(l, n)
            } else
                l !== t && l.resolveWith(l, r ? [t] : []);
            return u
        }
    }),
    R.support = function() {
        var d, t, e, i, n, s, r, f, o, a, m, g = N.createElement("div");
        N.documentElement;
        if (g.setAttribute("className", "t"),
        g.innerHTML = "   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",
        t = g.getElementsByTagName("*"),
        e = g.getElementsByTagName("a")[0],
        !t || !t.length || !e)
            return {};
        n = (i = N.createElement("select")).appendChild(N.createElement("option")),
        s = g.getElementsByTagName("input")[0],
        d = {
            leadingWhitespace: 3 === g.firstChild.nodeType,
            tbody: !g.getElementsByTagName("tbody").length,
            htmlSerialize: !!g.getElementsByTagName("link").length,
            style: /top/.test(e.getAttribute("style")),
            hrefNormalized: "/a" === e.getAttribute("href"),
            opacity: /^0.55/.test(e.style.opacity),
            cssFloat: !!e.style.cssFloat,
            checkOn: "on" === s.value,
            optSelected: n.selected,
            getSetAttribute: "t" !== g.className,
            enctype: !!N.createElement("form").enctype,
            html5Clone: "<:nav></:nav>" !== N.createElement("nav").cloneNode(!0).outerHTML,
            submitBubbles: !0,
            changeBubbles: !0,
            focusinBubbles: !1,
            deleteExpando: !0,
            noCloneEvent: !0,
            inlineBlockNeedsLayout: !1,
            shrinkWrapBlocks: !1,
            reliableMarginRight: !0,
            pixelMargin: !0
        },
        R.boxModel = d.boxModel = "CSS1Compat" === N.compatMode,
        s.checked = !0,
        d.noCloneChecked = s.cloneNode(!0).checked,
        i.disabled = !0,
        d.optDisabled = !n.disabled;
        try {
            delete g.test
        } catch (l) {
            d.deleteExpando = !1
        }
        if (!g.addEventListener && g.attachEvent && g.fireEvent && (g.attachEvent("onclick", function() {
            d.noCloneEvent = !1
        }),
        g.cloneNode(!0).fireEvent("onclick")),
        (s = N.createElement("input")).value = "t",
        s.setAttribute("type", "radio"),
        d.radioValue = "t" === s.value,
        s.setAttribute("checked", "checked"),
        s.setAttribute("name", "t"),
        g.appendChild(s),
        (r = N.createDocumentFragment()).appendChild(g.lastChild),
        d.checkClone = r.cloneNode(!0).cloneNode(!0).lastChild.checked,
        d.appendChecked = s.checked,
        r.removeChild(s),
        r.appendChild(g),
        g.attachEvent)
            for (a in {
                submit: 1,
                change: 1,
                focusin: 1
            })
                (m = (o = "on" + a)in g) || (g.setAttribute(o, "return;"),
                m = "function" == typeof g[o]),
                d[a + "Bubbles"] = m;
        return r.removeChild(g),
        r = i = n = g = s = null,
        R(function() {
            var t, e, i, n, s, r, o, a, l, u, c, h, p = N.getElementsByTagName("body")[0];
            p && (o = 1,
            c = (h = "padding:0;margin:0;border:") + "0;visibility:hidden;",
            l = "<div " + (a = "style='" + (u = "position:absolute;top:0;left:0;width:1px;height:1px;") + h + "5px solid #000;") + "display:block;'><div style='" + h + "0;display:block;overflow:hidden;'></div></div><table " + a + "' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",
            (t = N.createElement("div")).style.cssText = c + "width:0;height:0;position:static;top:0;margin-top:" + o + "px",
            p.insertBefore(t, p.firstChild),
            g = N.createElement("div"),
            t.appendChild(g),
            g.innerHTML = "<table><tr><td style='" + h + "0;display:none'></td><td>t</td></tr></table>",
            f = g.getElementsByTagName("td"),
            m = 0 === f[0].offsetHeight,
            f[0].style.display = "",
            f[1].style.display = "none",
            d.reliableHiddenOffsets = m && 0 === f[0].offsetHeight,
            E.getComputedStyle && (g.innerHTML = "",
            (r = N.createElement("div")).style.width = "0",
            r.style.marginRight = "0",
            g.style.width = "2px",
            g.appendChild(r),
            d.reliableMarginRight = 0 === (parseInt((E.getComputedStyle(r, null) || {
                marginRight: 0
            }).marginRight, 10) || 0)),
            "undefined" != typeof g.style.zoom && (g.innerHTML = "",
            g.style.width = g.style.padding = "1px",
            g.style.border = 0,
            g.style.overflow = "hidden",
            g.style.display = "inline",
            g.style.zoom = 1,
            d.inlineBlockNeedsLayout = 3 === g.offsetWidth,
            g.style.display = "block",
            g.style.overflow = "visible",
            g.innerHTML = "<div style='width:5px;'></div>",
            d.shrinkWrapBlocks = 3 !== g.offsetWidth),
            g.style.cssText = u + c,
            g.innerHTML = l,
            i = (e = g.firstChild).firstChild,
            n = e.nextSibling.firstChild.firstChild,
            s = {
                doesNotAddBorder: 5 !== i.offsetTop,
                doesAddBorderForTableAndCells: 5 === n.offsetTop
            },
            i.style.position = "fixed",
            i.style.top = "20px",
            s.fixedPosition = 20 === i.offsetTop || 15 === i.offsetTop,
            i.style.position = i.style.top = "",
            e.style.overflow = "hidden",
            e.style.position = "relative",
            s.subtractsBorderForOverflowNotVisible = -5 === i.offsetTop,
            s.doesNotIncludeMarginInBodyOffset = p.offsetTop !== o,
            E.getComputedStyle && (g.style.marginTop = "1%",
            d.pixelMargin = "1%" !== (E.getComputedStyle(g, null) || {
                marginTop: 0
            }).marginTop),
            "undefined" != typeof t.style.zoom && (t.style.zoom = 1),
            p.removeChild(t),
            r = g = t = null,
            R.extend(d, s))
        }),
        d
    }();
    var V = /^(?:\{.*\}|\[.*\])$/
      , $ = /([A-Z])/g;
    R.extend({
        cache: {},
        uuid: 0,
        expando: "jQuery" + (R.fn.jquery + Math.random()).replace(/\D/g, ""),
        noData: {
            embed: !0,
            object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
            applet: !0
        },
        hasData: function(t) {
            return !!(t = t.nodeType ? R.cache[t[R.expando]] : t[R.expando]) && !h(t)
        },
        data: function(t, e, i, n) {
            if (R.acceptData(t)) {
                var s, r, o, a = R.expando, l = "string" == typeof e, u = t.nodeType, c = u ? R.cache : t, h = u ? t[a] : t[a] && a, p = "events" === e;
                if (h && c[h] && (p || n || c[h].data) || !l || i !== I)
                    return h || (u ? t[a] = h = ++R.uuid : h = a),
                    c[h] || (c[h] = {},
                    u || (c[h].toJSON = R.noop)),
                    "object" != typeof e && "function" != typeof e || (n ? c[h] = R.extend(c[h], e) : c[h].data = R.extend(c[h].data, e)),
                    s = r = c[h],
                    n || (r.data || (r.data = {}),
                    r = r.data),
                    i !== I && (r[R.camelCase(e)] = i),
                    p && !r[e] ? s.events : (l ? null == (o = r[e]) && (o = r[R.camelCase(e)]) : o = r,
                    o)
            }
        },
        removeData: function(t, e, i) {
            if (R.acceptData(t)) {
                var n, s, r, o = R.expando, a = t.nodeType, l = a ? R.cache : t, u = a ? t[o] : o;
                if (l[u]) {
                    if (e && (n = i ? l[u] : l[u].data)) {
                        R.isArray(e) || (e = e in n ? [e] : (e = R.camelCase(e))in n ? [e] : e.split(" "));
                        for (s = 0,
                        r = e.length; s < r; s++)
                            delete n[e[s]];
                        if (!(i ? h : R.isEmptyObject)(n))
                            return
                    }
                    (i || (delete l[u].data,
                    h(l[u]))) && (R.support.deleteExpando || !l.setInterval ? delete l[u] : l[u] = null,
                    a && (R.support.deleteExpando ? delete t[o] : t.removeAttribute ? t.removeAttribute(o) : t[o] = null))
                }
            }
        },
        _data: function(t, e, i) {
            return R.data(t, e, i, !0)
        },
        acceptData: function(t) {
            if (t.nodeName) {
                var e = R.noData[t.nodeName.toLowerCase()];
                if (e)
                    return !(!0 === e || t.getAttribute("classid") !== e)
            }
            return !0
        }
    }),
    R.fn.extend({
        data: function(i, t) {
            var n, s, e, r, o, a = this[0], l = 0, u = null;
            if (i !== I)
                return "object" == typeof i ? this.each(function() {
                    R.data(this, i)
                }) : ((n = i.split(".", 2))[1] = n[1] ? "." + n[1] : "",
                s = n[1] + "!",
                R.access(this, function(e) {
                    if (e === I)
                        return (u = this.triggerHandler("getData" + s, [n[0]])) === I && a && (u = R.data(a, i),
                        u = c(a, i, u)),
                        u === I && n[1] ? this.data(n[0]) : u;
                    n[1] = e,
                    this.each(function() {
                        var t = R(this);
                        t.triggerHandler("setData" + s, n),
                        R.data(this, i, e),
                        t.triggerHandler("changeData" + s, n)
                    })
                }, null, t, 1 < arguments.length, null, !1));
            if (this.length && (u = R.data(a),
            1 === a.nodeType && !R._data(a, "parsedAttrs"))) {
                for (o = (e = a.attributes).length; l < o; l++)
                    0 === (r = e[l].name).indexOf("data-") && (r = R.camelCase(r.substring(5)),
                    c(a, r, u[r]));
                R._data(a, "parsedAttrs", !0)
            }
            return u
        },
        removeData: function(t) {
            return this.each(function() {
                R.removeData(this, t)
            })
        }
    }),
    R.extend({
        _mark: function(t, e) {
            t && (e = (e || "fx") + "mark",
            R._data(t, e, (R._data(t, e) || 0) + 1))
        },
        _unmark: function(t, e, i) {
            if (!0 !== t && (i = e,
            e = t,
            t = !1),
            e) {
                var n = (i = i || "fx") + "mark"
                  , s = t ? 0 : (R._data(e, n) || 1) - 1;
                s ? R._data(e, n, s) : (R.removeData(e, n, !0),
                r(e, i, "mark"))
            }
        },
        queue: function(t, e, i) {
            var n;
            if (t)
                return e = (e || "fx") + "queue",
                n = R._data(t, e),
                i && (!n || R.isArray(i) ? n = R._data(t, e, R.makeArray(i)) : n.push(i)),
                n || []
        },
        dequeue: function(t, e) {
            e = e || "fx";
            var i = R.queue(t, e)
              , n = i.shift()
              , s = {};
            "inprogress" === n && (n = i.shift()),
            n && ("fx" === e && i.unshift("inprogress"),
            R._data(t, e + ".run", s),
            n.call(t, function() {
                R.dequeue(t, e)
            }, s)),
            i.length || (R.removeData(t, e + "queue " + e + ".run", !0),
            r(t, e, "queue"))
        }
    }),
    R.fn.extend({
        queue: function(e, i) {
            var t = 2;
            return "string" != typeof e && (i = e,
            e = "fx",
            t--),
            arguments.length < t ? R.queue(this[0], e) : i === I ? this : this.each(function() {
                var t = R.queue(this, e, i);
                "fx" === e && "inprogress" !== t[0] && R.dequeue(this, e)
            })
        },
        dequeue: function(t) {
            return this.each(function() {
                R.dequeue(this, t)
            })
        },
        delay: function(n, t) {
            return n = R.fx && R.fx.speeds[n] || n,
            t = t || "fx",
            this.queue(t, function(t, e) {
                var i = setTimeout(t, n);
                e.stop = function() {
                    clearTimeout(i)
                }
            })
        },
        clearQueue: function(t) {
            return this.queue(t || "fx", [])
        },
        promise: function(t, e) {
            function i() {
                --a || s.resolveWith(r, [r])
            }
            "string" != typeof t && (e = t,
            t = I),
            t = t || "fx";
            for (var n, s = R.Deferred(), r = this, o = r.length, a = 1, l = t + "defer", u = t + "queue", c = t + "mark"; o--; )
                (n = R.data(r[o], l, I, !0) || (R.data(r[o], u, I, !0) || R.data(r[o], c, I, !0)) && R.data(r[o], l, R.Callbacks("once memory"), !0)) && (a++,
                n.add(i));
            return i(),
            s.promise(e)
        }
    });
    var L, B, z, j = /[\n\t\r]/g, J = /\s+/, W = /\r/g, U = /^(?:button|input)$/i, Y = /^(?:button|input|object|select|textarea)$/i, Q = /^a(?:rea)?$/i, G = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i, X = R.support.getSetAttribute;
    R.fn.extend({
        attr: function(t, e) {
            return R.access(this, R.attr, t, e, 1 < arguments.length)
        },
        removeAttr: function(t) {
            return this.each(function() {
                R.removeAttr(this, t)
            })
        },
        prop: function(t, e) {
            return R.access(this, R.prop, t, e, 1 < arguments.length)
        },
        removeProp: function(e) {
            return e = R.propFix[e] || e,
            this.each(function() {
                try {
                    this[e] = I,
                    delete this[e]
                } catch (t) {}
            })
        },
        addClass: function(e) {
            var t, i, n, s, r, o, a;
            if (R.isFunction(e))
                return this.each(function(t) {
                    R(this).addClass(e.call(this, t, this.className))
                });
            if (e && "string" == typeof e)
                for (t = e.split(J),
                i = 0,
                n = this.length; i < n; i++)
                    if (1 === (s = this[i]).nodeType)
                        if (s.className || 1 !== t.length) {
                            for (r = " " + s.className + " ",
                            o = 0,
                            a = t.length; o < a; o++)
                                ~r.indexOf(" " + t[o] + " ") || (r += t[o] + " ");
                            s.className = R.trim(r)
                        } else
                            s.className = e;
            return this
        },
        removeClass: function(e) {
            var t, i, n, s, r, o, a;
            if (R.isFunction(e))
                return this.each(function(t) {
                    R(this).removeClass(e.call(this, t, this.className))
                });
            if (e && "string" == typeof e || e === I)
                for (t = (e || "").split(J),
                i = 0,
                n = this.length; i < n; i++)
                    if (1 === (s = this[i]).nodeType && s.className)
                        if (e) {
                            for (r = (" " + s.className + " ").replace(j, " "),
                            o = 0,
                            a = t.length; o < a; o++)
                                r = r.replace(" " + t[o] + " ", " ");
                            s.className = R.trim(r)
                        } else
                            s.className = "";
            return this
        },
        toggleClass: function(r, o) {
            var a = typeof r
              , l = "boolean" == typeof o;
            return R.isFunction(r) ? this.each(function(t) {
                R(this).toggleClass(r.call(this, t, this.className, o), o)
            }) : this.each(function() {
                if ("string" === a)
                    for (var t, e = 0, i = R(this), n = o, s = r.split(J); t = s[e++]; )
                        n = l ? n : !i.hasClass(t),
                        i[n ? "addClass" : "removeClass"](t);
                else
                    "undefined" !== a && "boolean" !== a || (this.className && R._data(this, "__className__", this.className),
                    this.className = this.className || !1 === r ? "" : R._data(this, "__className__") || "")
            })
        },
        hasClass: function(t) {
            for (var e = " " + t + " ", i = 0, n = this.length; i < n; i++)
                if (1 === this[i].nodeType && -1 < (" " + this[i].className + " ").replace(j, " ").indexOf(e))
                    return !0;
            return !1
        },
        val: function(n) {
            var s, t, r, e = this[0];
            return arguments.length ? (r = R.isFunction(n),
            this.each(function(t) {
                var e, i = R(this);
                1 === this.nodeType && (null == (e = r ? n.call(this, t, i.val()) : n) ? e = "" : "number" == typeof e ? e += "" : R.isArray(e) && (e = R.map(e, function(t) {
                    return null == t ? "" : t + ""
                })),
                (s = R.valHooks[this.type] || R.valHooks[this.nodeName.toLowerCase()]) && "set"in s && s.set(this, e, "value") !== I || (this.value = e))
            })) : e ? (s = R.valHooks[e.type] || R.valHooks[e.nodeName.toLowerCase()]) && "get"in s && (t = s.get(e, "value")) !== I ? t : "string" == typeof (t = e.value) ? t.replace(W, "") : null == t ? "" : t : void 0
        }
    }),
    R.extend({
        valHooks: {
            option: {
                get: function(t) {
                    var e = t.attributes.value;
                    return !e || e.specified ? t.value : t.text
                }
            },
            select: {
                get: function(t) {
                    var e, i, n, s, r = t.selectedIndex, o = [], a = t.options, l = "select-one" === t.type;
                    if (r < 0)
                        return null;
                    for (i = l ? r : 0,
                    n = l ? r + 1 : a.length; i < n; i++)
                        if ((s = a[i]).selected && (R.support.optDisabled ? !s.disabled : null === s.getAttribute("disabled")) && (!s.parentNode.disabled || !R.nodeName(s.parentNode, "optgroup"))) {
                            if (e = R(s).val(),
                            l)
                                return e;
                            o.push(e)
                        }
                    return l && !o.length && a.length ? R(a[r]).val() : o
                },
                set: function(t, e) {
                    var i = R.makeArray(e);
                    return R(t).find("option").each(function() {
                        this.selected = 0 <= R.inArray(R(this).val(), i)
                    }),
                    i.length || (t.selectedIndex = -1),
                    i
                }
            }
        },
        attrFn: {
            val: !0,
            css: !0,
            html: !0,
            text: !0,
            data: !0,
            width: !0,
            height: !0,
            offset: !0
        },
        attr: function(t, e, i, n) {
            var s, r, o, a = t.nodeType;
            if (t && 3 !== a && 8 !== a && 2 !== a)
                return n && e in R.attrFn ? R(t)[e](i) : "undefined" == typeof t.getAttribute ? R.prop(t, e, i) : ((o = 1 !== a || !R.isXMLDoc(t)) && (e = e.toLowerCase(),
                r = R.attrHooks[e] || (G.test(e) ? B : L)),
                i !== I ? null === i ? void R.removeAttr(t, e) : r && "set"in r && o && (s = r.set(t, i, e)) !== I ? s : (t.setAttribute(e, "" + i),
                i) : r && "get"in r && o && null !== (s = r.get(t, e)) ? s : null === (s = t.getAttribute(e)) ? I : s)
        },
        removeAttr: function(t, e) {
            var i, n, s, r, o, a = 0;
            if (e && 1 === t.nodeType)
                for (r = (n = e.toLowerCase().split(J)).length; a < r; a++)
                    (s = n[a]) && (i = R.propFix[s] || s,
                    (o = G.test(s)) || R.attr(t, s, ""),
                    t.removeAttribute(X ? s : i),
                    o && i in t && (t[i] = !1))
        },
        attrHooks: {
            type: {
                set: function(t, e) {
                    if (U.test(t.nodeName) && t.parentNode)
                        R.error("type property can't be changed");
                    else if (!R.support.radioValue && "radio" === e && R.nodeName(t, "input")) {
                        var i = t.value;
                        return t.setAttribute("type", e),
                        i && (t.value = i),
                        e
                    }
                }
            },
            value: {
                get: function(t, e) {
                    return L && R.nodeName(t, "button") ? L.get(t, e) : e in t ? t.value : null
                },
                set: function(t, e, i) {
                    if (L && R.nodeName(t, "button"))
                        return L.set(t, e, i);
                    t.value = e
                }
            }
        },
        propFix: {
            tabindex: "tabIndex",
            readonly: "readOnly",
            "for": "htmlFor",
            "class": "className",
            maxlength: "maxLength",
            cellspacing: "cellSpacing",
            cellpadding: "cellPadding",
            rowspan: "rowSpan",
            colspan: "colSpan",
            usemap: "useMap",
            frameborder: "frameBorder",
            contenteditable: "contentEditable"
        },
        prop: function(t, e, i) {
            var n, s, r = t.nodeType;
            if (t && 3 !== r && 8 !== r && 2 !== r)
                return (1 !== r || !R.isXMLDoc(t)) && (e = R.propFix[e] || e,
                s = R.propHooks[e]),
                i !== I ? s && "set"in s && (n = s.set(t, i, e)) !== I ? n : t[e] = i : s && "get"in s && null !== (n = s.get(t, e)) ? n : t[e]
        },
        propHooks: {
            tabIndex: {
                get: function(t) {
                    var e = t.getAttributeNode("tabindex");
                    return e && e.specified ? parseInt(e.value, 10) : Y.test(t.nodeName) || Q.test(t.nodeName) && t.href ? 0 : I
                }
            }
        }
    }),
    R.attrHooks.tabindex = R.propHooks.tabIndex,
    B = {
        get: function(t, e) {
            var i, n = R.prop(t, e);
            return !0 === n || "boolean" != typeof n && (i = t.getAttributeNode(e)) && !1 !== i.nodeValue ? e.toLowerCase() : I
        },
        set: function(t, e, i) {
            var n;
            return !1 === e ? R.removeAttr(t, i) : ((n = R.propFix[i] || i)in t && (t[n] = !0),
            t.setAttribute(i, i.toLowerCase())),
            i
        }
    },
    X || (z = {
        name: !0,
        id: !0,
        coords: !0
    },
    L = R.valHooks.button = {
        get: function(t, e) {
            var i;
            return (i = t.getAttributeNode(e)) && (z[e] ? "" !== i.nodeValue : i.specified) ? i.nodeValue : I
        },
        set: function(t, e, i) {
            return "aria" != i.substring(0, 4) ? ((n = t.getAttributeNode(i)) || (n = N.createAttribute(i),
            t.setAttributeNode(n)),
            n.nodeValue = e + "") : ((n = t.getAttributeNode(i)) || (n = N.createAttribute(i),
            t.setAttributeNode(n)),
            t.setAttribute(i, e + ""),
            n.value);
            var n
        }
    },
    R.attrHooks.tabindex.set = L.set,
    R.each(["width", "height"], function(t, i) {
        R.attrHooks[i] = R.extend(R.attrHooks[i], {
            set: function(t, e) {
                if ("" === e)
                    return t.setAttribute(i, "auto"),
                    e
            }
        })
    }),
    R.attrHooks.contenteditable = {
        get: L.get,
        set: function(t, e, i) {
            "" === e && (e = "false"),
            L.set(t, e, i)
        }
    }),
    R.support.hrefNormalized || R.each(["href", "src", "width", "height"], function(t, i) {
        R.attrHooks[i] = R.extend(R.attrHooks[i], {
            get: function(t) {
                var e = t.getAttribute(i, 2);
                return null === e ? I : e
            }
        })
    }),
    R.support.style || (R.attrHooks.style = {
        get: function(t) {
            return t.style.cssText.toLowerCase() || I
        },
        set: function(t, e) {
            return t.style.cssText = "" + e
        }
    }),
    R.support.optSelected || (R.propHooks.selected = R.extend(R.propHooks.selected, {
        get: function(t) {
            var e = t.parentNode;
            return e && (e.selectedIndex,
            e.parentNode && e.parentNode.selectedIndex),
            null
        }
    })),
    R.support.enctype || (R.propFix.enctype = "encoding"),
    R.support.checkOn || R.each(["radio", "checkbox"], function() {
        R.valHooks[this] = {
            get: function(t) {
                return null === t.getAttribute("value") ? "on" : t.value
            }
        }
    }),
    R.each(["radio", "checkbox"], function() {
        R.valHooks[this] = R.extend(R.valHooks[this], {
            set: function(t, e) {
                if (R.isArray(e))
                    return t.checked = 0 <= R.inArray(R(t).val(), e)
            }
        })
    });
    var K = /^(?:textarea|input|select)$/i
      , Z = /^([^\.]*)?(?:\.(.+))?$/
      , tt = /(?:^|\s)hover(\.\S+)?\b/
      , et = /^key/
      , it = /^(?:mouse|contextmenu)|click/
      , nt = /^(?:focusinfocus|focusoutblur)$/
      , st = /^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/
      , rt = function(t) {
        var e = st.exec(t);
        return e && (e[1] = (e[1] || "").toLowerCase(),
        e[3] = e[3] && new RegExp("(?:^|\\s)" + e[3] + "(?:\\s|$)")),
        e
    }
      , ot = function(t, e) {
        var i = t.attributes || {};
        return (!e[1] || t.nodeName.toLowerCase() === e[1]) && (!e[2] || (i.id || {}).value === e[2]) && (!e[3] || e[3].test((i["class"] || {}).value))
    }
      , at = function(t) {
        return R.event.special.hover ? t : t.replace(tt, "mouseenter$1 mouseleave$1")
    };
    R.event = {
        add: function(t, e, i, n, s) {
            var r, o, a, l, u, c, h, p, d, f, m;
            if (3 !== t.nodeType && 8 !== t.nodeType && e && i && (r = R._data(t))) {
                for (i.handler && (i = (d = i).handler,
                s = d.selector),
                i.guid || (i.guid = R.guid++),
                (a = r.events) || (r.events = a = {}),
                (o = r.handle) || (r.handle = o = function(t) {
                    return void 0 === R || t && R.event.triggered === t.type ? I : R.event.dispatch.apply(o.elem, arguments)
                }
                ,
                o.elem = t),
                e = R.trim(at(e)).split(" "),
                l = 0; l < e.length; l++)
                    c = (u = Z.exec(e[l]) || [])[1],
                    h = (u[2] || "").split(".").sort(),
                    m = R.event.special[c] || {},
                    c = (s ? m.delegateType : m.bindType) || c,
                    m = R.event.special[c] || {},
                    p = R.extend({
                        type: c,
                        origType: u[1],
                        data: n,
                        handler: i,
                        guid: i.guid,
                        selector: s,
                        quick: s && rt(s),
                        namespace: h.join(".")
                    }, d),
                    (f = a[c]) || ((f = a[c] = []).delegateCount = 0,
                    m.setup && !1 !== m.setup.call(t, n, h, o) || (t.addEventListener ? t.addEventListener(c, o, !1) : t.attachEvent && t.attachEvent("on" + c, o))),
                    m.add && (m.add.call(t, p),
                    p.handler.guid || (p.handler.guid = i.guid)),
                    s ? f.splice(f.delegateCount++, 0, p) : f.push(p),
                    R.event.global[c] = !0;
                t = null
            }
        },
        global: {},
        remove: function(t, e, i, n, s) {
            var r, o, a, l, u, c, h, p, d, f, m, g, y = R.hasData(t) && R._data(t);
            if (y && (p = y.events)) {
                for (e = R.trim(at(e || "")).split(" "),
                r = 0; r < e.length; r++)
                    if (a = l = (o = Z.exec(e[r]) || [])[1],
                    u = o[2],
                    a) {
                        for (d = R.event.special[a] || {},
                        c = (m = p[a = (n ? d.delegateType : d.bindType) || a] || []).length,
                        u = u ? new RegExp("(^|\\.)" + u.split(".").sort().join("\\.(?:.*\\.)?") + "(\\.|$)") : null,
                        h = 0; h < m.length; h++)
                            g = m[h],
                            !s && l !== g.origType || i && i.guid !== g.guid || u && !u.test(g.namespace) || n && n !== g.selector && ("**" !== n || !g.selector) || (m.splice(h--, 1),
                            g.selector && m.delegateCount--,
                            d.remove && d.remove.call(t, g));
                        0 === m.length && c !== m.length && (d.teardown && !1 !== d.teardown.call(t, u) || R.removeEvent(t, a, y.handle),
                        delete p[a])
                    } else
                        for (a in p)
                            R.event.remove(t, a + e[r], i, n, !0);
                R.isEmptyObject(p) && ((f = y.handle) && (f.elem = null),
                R.removeData(t, ["events", "handle"], !0))
            }
        },
        customEvent: {
            getData: !0,
            setData: !0,
            changeData: !0
        },
        trigger: function(t, e, i, n) {
            if (!i || 3 !== i.nodeType && 8 !== i.nodeType) {
                var s, r, o, a, l, u, c, h, p, d, f = t.type || t, m = [];
                if (!nt.test(f + R.event.triggered) && (0 <= f.indexOf("!") && (f = f.slice(0, -1),
                r = !0),
                0 <= f.indexOf(".") && (f = (m = f.split(".")).shift(),
                m.sort()),
                i && !R.event.customEvent[f] || R.event.global[f]))
                    if ((t = "object" == typeof t ? t[R.expando] ? t : new R.Event(f,t) : new R.Event(f)).type = f,
                    t.isTrigger = !0,
                    t.exclusive = r,
                    t.namespace = m.join("."),
                    t.namespace_re = t.namespace ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.)?") + "(\\.|$)") : null,
                    u = f.indexOf(":") < 0 ? "on" + f : "",
                    i) {
                        if (t.result = I,
                        t.target || (t.target = i),
                        (e = null != e ? R.makeArray(e) : []).unshift(t),
                        !(c = R.event.special[f] || {}).trigger || !1 !== c.trigger.apply(i, e)) {
                            if (p = [[i, c.bindType || f]],
                            !n && !c.noBubble && !R.isWindow(i)) {
                                for (d = c.delegateType || f,
                                a = nt.test(d + f) ? i : i.parentNode,
                                l = null; a; a = a.parentNode)
                                    p.push([a, d]),
                                    l = a;
                                l && l === i.ownerDocument && p.push([l.defaultView || l.parentWindow || E, d])
                            }
                            for (o = 0; o < p.length && !t.isPropagationStopped(); o++)
                                a = p[o][0],
                                t.type = p[o][1],
                                (h = (R._data(a, "events") || {})[t.type] && R._data(a, "handle")) && h.apply(a, e),
                                (h = u && a[u]) && R.acceptData(a) && !1 === h.apply(a, e) && t.preventDefault();
                            return t.type = f,
                            n || t.isDefaultPrevented() || c._default && !1 !== c._default.apply(i.ownerDocument, e) || "click" === f && R.nodeName(i, "a") || !R.acceptData(i) || u && i[f] && ("focus" !== f && "blur" !== f || 0 !== t.target.offsetWidth) && !R.isWindow(i) && ((l = i[u]) && (i[u] = null),
                            i[R.event.triggered = f](),
                            R.event.triggered = I,
                            l && (i[u] = l)),
                            t.result
                        }
                    } else
                        for (o in s = R.cache)
                            s[o].events && s[o].events[f] && R.event.trigger(t, e, s[o].handle.elem, !0)
            }
        },
        dispatch: function(t) {
            t = R.event.fix(t || E.event);
            var e, i, n, s, r, o, a, l, u, c, h = (R._data(this, "events") || {})[t.type] || [], p = h.delegateCount, d = [].slice.call(arguments, 0), f = !t.exclusive && !t.namespace, m = R.event.special[t.type] || {}, g = [];
            if ((d[0] = t).delegateTarget = this,
            !m.preDispatch || !1 !== m.preDispatch.call(this, t)) {
                if (p && (!t.button || "click" !== t.type))
                    for ((s = R(this)).context = this.ownerDocument || this,
                    n = t.target; n != this; n = n.parentNode || this)
                        if (!0 !== n.disabled) {
                            for (o = {},
                            l = [],
                            s[0] = n,
                            e = 0; e < p; e++)
                                o[c = (u = h[e]).selector] === I && (o[c] = u.quick ? ot(n, u.quick) : s.is(c)),
                                o[c] && l.push(u);
                            l.length && g.push({
                                elem: n,
                                matches: l
                            })
                        }
                for (h.length > p && g.push({
                    elem: this,
                    matches: h.slice(p)
                }),
                e = 0; e < g.length && !t.isPropagationStopped(); e++)
                    for (a = g[e],
                    t.currentTarget = a.elem,
                    i = 0; i < a.matches.length && !t.isImmediatePropagationStopped(); i++)
                        u = a.matches[i],
                        (f || !t.namespace && !u.namespace || t.namespace_re && t.namespace_re.test(u.namespace)) && (t.data = u.data,
                        t.handleObj = u,
                        (r = ((R.event.special[u.origType] || {}).handle || u.handler).apply(a.elem, d)) !== I && !1 === (t.result = r) && (t.preventDefault(),
                        t.stopPropagation()));
                return m.postDispatch && m.postDispatch.call(this, t),
                t.result
            }
        },
        props: "attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(t, e) {
                return null == t.which && (t.which = null != e.charCode ? e.charCode : e.keyCode),
                t
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(t, e) {
                var i, n, s, r = e.button, o = e.fromElement;
                return null == t.pageX && null != e.clientX && (n = (i = t.target.ownerDocument || N).documentElement,
                s = i.body,
                t.pageX = e.clientX + (n && n.scrollLeft || s && s.scrollLeft || 0) - (n && n.clientLeft || s && s.clientLeft || 0),
                t.pageY = e.clientY + (n && n.scrollTop || s && s.scrollTop || 0) - (n && n.clientTop || s && s.clientTop || 0)),
                !t.relatedTarget && o && (t.relatedTarget = o === t.target ? e.toElement : o),
                t.which || r === I || (t.which = 1 & r ? 1 : 2 & r ? 3 : 4 & r ? 2 : 0),
                t
            }
        },
        fix: function(t) {
            if (t[R.expando])
                return t;
            var e, i, n = t, s = R.event.fixHooks[t.type] || {}, r = s.props ? this.props.concat(s.props) : this.props;
            for (t = R.Event(n),
            e = r.length; e; )
                t[i = r[--e]] = n[i];
            return t.target || (t.target = n.srcElement || N),
            3 === t.target.nodeType && (t.target = t.target.parentNode),
            t.metaKey === I && (t.metaKey = t.ctrlKey),
            s.filter ? s.filter(t, n) : t
        },
        special: {
            ready: {
                setup: R.bindReady
            },
            load: {
                noBubble: !0
            },
            focus: {
                delegateType: "focusin"
            },
            blur: {
                delegateType: "focusout"
            },
            beforeunload: {
                setup: function(t, e, i) {
                    R.isWindow(this) && (this.onbeforeunload = i)
                },
                teardown: function(t, e) {
                    this.onbeforeunload === e && (this.onbeforeunload = null)
                }
            }
        },
        simulate: function(t, e, i, n) {
            var s = R.extend(new R.Event, i, {
                type: t,
                isSimulated: !0,
                originalEvent: {}
            });
            n ? R.event.trigger(s, null, e) : R.event.dispatch.call(e, s),
            s.isDefaultPrevented() && i.preventDefault()
        }
    },
    R.event.handle = R.event.dispatch,
    R.removeEvent = N.removeEventListener ? function(t, e, i) {
        t.removeEventListener && t.removeEventListener(e, i, !1)
    }
    : function(t, e, i) {
        t.detachEvent && t.detachEvent("on" + e, i)
    }
    ,
    R.Event = function(t, e) {
        if (!(this instanceof R.Event))
            return new R.Event(t,e);
        t && t.type ? (this.originalEvent = t,
        this.type = t.type,
        this.isDefaultPrevented = t.defaultPrevented || !1 === t.returnValue || t.getPreventDefault && t.getPreventDefault() ? i : a) : this.type = t,
        e && R.extend(this, e),
        this.timeStamp = t && t.timeStamp || R.now(),
        this[R.expando] = !0
    }
    ,
    R.Event.prototype = {
        preventDefault: function() {
            this.isDefaultPrevented = i;
            var t = this.originalEvent;
            t && (t.preventDefault ? t.preventDefault() : t.returnValue = !1)
        },
        stopPropagation: function() {
            this.isPropagationStopped = i;
            var t = this.originalEvent;
            t && (t.stopPropagation && t.stopPropagation(),
            t.cancelBubble = !0)
        },
        stopImmediatePropagation: function() {
            this.isImmediatePropagationStopped = i,
            this.stopPropagation()
        },
        isDefaultPrevented: a,
        isPropagationStopped: a,
        isImmediatePropagationStopped: a
    },
    R.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    }, function(t, r) {
        R.event.special[t] = {
            delegateType: r,
            bindType: r,
            handle: function(t) {
                var e, i = this, n = t.relatedTarget, s = t.handleObj;
                s.selector;
                return n && (n === i || R.contains(i, n)) || (t.type = s.origType,
                e = s.handler.apply(this, arguments),
                t.type = r),
                e
            }
        }
    }),
    R.support.submitBubbles || (R.event.special.submit = {
        setup: function() {
            if (R.nodeName(this, "form"))
                return !1;
            R.event.add(this, "click._submit keypress._submit", function(t) {
                var e = t.target
                  , i = R.nodeName(e, "input") || R.nodeName(e, "button") ? e.form : I;
                i && !i._submit_attached && (R.event.add(i, "submit._submit", function(t) {
                    t._submit_bubble = !0
                }),
                i._submit_attached = !0)
            })
        },
        postDispatch: function(t) {
            t._submit_bubble && (delete t._submit_bubble,
            this.parentNode && !t.isTrigger && R.event.simulate("submit", this.parentNode, t, !0))
        },
        teardown: function() {
            if (R.nodeName(this, "form"))
                return !1;
            R.event.remove(this, "._submit")
        }
    }),
    R.support.changeBubbles || (R.event.special.change = {
        setup: function() {
            if (K.test(this.nodeName))
                return "checkbox" !== this.type && "radio" !== this.type || (R.event.add(this, "propertychange._change", function(t) {
                    "checked" === t.originalEvent.propertyName && (this._just_changed = !0)
                }),
                R.event.add(this, "click._change", function(t) {
                    this._just_changed && !t.isTrigger && (this._just_changed = !1,
                    R.event.simulate("change", this, t, !0))
                })),
                !1;
            R.event.add(this, "beforeactivate._change", function(t) {
                var e = t.target;
                K.test(e.nodeName) && !e._change_attached && (R.event.add(e, "change._change", function(t) {
                    !this.parentNode || t.isSimulated || t.isTrigger || R.event.simulate("change", this.parentNode, t, !0)
                }),
                e._change_attached = !0)
            })
        },
        handle: function(t) {
            var e = t.target;
            if (this !== e || t.isSimulated || t.isTrigger || "radio" !== e.type && "checkbox" !== e.type)
                return t.handleObj.handler.apply(this, arguments)
        },
        teardown: function() {
            return R.event.remove(this, "._change"),
            K.test(this.nodeName)
        }
    }),
    R.support.focusinBubbles || R.each({
        focus: "focusin",
        blur: "focusout"
    }, function(t, e) {
        var i = 0
          , n = function(t) {
            R.event.simulate(e, t.target, R.event.fix(t), !0)
        };
        R.event.special[e] = {
            setup: function() {
                0 == i++ && N.addEventListener(t, n, !0)
            },
            teardown: function() {
                0 == --i && N.removeEventListener(t, n, !0)
            }
        }
    }),
    R.fn.extend({
        on: function(t, e, i, n, s) {
            var r, o;
            if ("object" == typeof t) {
                for (o in "string" != typeof e && (i = i || e,
                e = I),
                t)
                    this.on(o, e, i, t[o], s);
                return this
            }
            if (null == i && null == n ? (n = e,
            i = e = I) : null == n && ("string" == typeof e ? (n = i,
            i = I) : (n = i,
            i = e,
            e = I)),
            !1 === n)
                n = a;
            else if (!n)
                return this;
            return 1 === s && (r = n,
            (n = function(t) {
                return R().off(t),
                r.apply(this, arguments)
            }
            ).guid = r.guid || (r.guid = R.guid++)),
            this.each(function() {
                R.event.add(this, t, n, i, e)
            })
        },
        one: function(t, e, i, n) {
            return this.on(t, e, i, n, 1)
        },
        off: function(t, e, i) {
            if (t && t.preventDefault && t.handleObj) {
                var n = t.handleObj;
                return R(t.delegateTarget).off(n.namespace ? n.origType + "." + n.namespace : n.origType, n.selector, n.handler),
                this
            }
            if ("object" != typeof t)
                return !1 !== e && "function" != typeof e || (i = e,
                e = I),
                !1 === i && (i = a),
                this.each(function() {
                    R.event.remove(this, t, i, e)
                });
            for (var s in t)
                this.off(s, e, t[s]);
            return this
        },
        bind: function(t, e, i) {
            return this.on(t, null, e, i)
        },
        unbind: function(t, e) {
            return this.off(t, null, e)
        },
        live: function(t, e, i) {
            return R(this.context).on(t, this.selector, e, i),
            this
        },
        die: function(t, e) {
            return R(this.context).off(t, this.selector || "**", e),
            this
        },
        delegate: function(t, e, i, n) {
            return this.on(e, t, i, n)
        },
        undelegate: function(t, e, i) {
            return 1 == arguments.length ? this.off(t, "**") : this.off(e, t, i)
        },
        trigger: function(t, e) {
            return this.each(function() {
                R.event.trigger(t, e, this)
            })
        },
        triggerHandler: function(t, e) {
            if (this[0])
                return R.event.trigger(t, e, this[0], !0)
        },
        toggle: function(i) {
            var n = arguments
              , t = i.guid || R.guid++
              , s = 0
              , e = function(t) {
                var e = (R._data(this, "lastToggle" + i.guid) || 0) % s;
                return R._data(this, "lastToggle" + i.guid, e + 1),
                t.preventDefault(),
                n[e].apply(this, arguments) || !1
            };
            for (e.guid = t; s < n.length; )
                n[s++].guid = t;
            return this.click(e)
        },
        hover: function(t, e) {
            return this.mouseenter(t).mouseleave(e || t)
        }
    }),
    R.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(t, i) {
        R.fn[i] = function(t, e) {
            return null == e && (e = t,
            t = null),
            0 < arguments.length ? this.on(i, null, t, e) : this.trigger(i)
        }
        ,
        R.attrFn && (R.attrFn[i] = !0),
        et.test(i) && (R.event.fixHooks[i] = R.event.keyHooks),
        it.test(i) && (R.event.fixHooks[i] = R.event.mouseHooks)
    }),
    function() {
        function o(t, e, i, n, s, r) {
            for (var o = 0, a = n.length; o < a; o++) {
                var l = n[o];
                if (l) {
                    var u = !1;
                    for (l = l[t]; l; ) {
                        if (l[c] === i) {
                            u = n[l.sizset];
                            break
                        }
                        if (1 !== l.nodeType || r || (l[c] = i,
                        l.sizset = o),
                        l.nodeName.toLowerCase() === e) {
                            u = l;
                            break
                        }
                        l = l[t]
                    }
                    n[o] = u
                }
            }
        }
        function a(t, e, i, n, s, r) {
            for (var o = 0, a = n.length; o < a; o++) {
                var l = n[o];
                if (l) {
                    var u = !1;
                    for (l = l[t]; l; ) {
                        if (l[c] === i) {
                            u = n[l.sizset];
                            break
                        }
                        if (1 === l.nodeType)
                            if (r || (l[c] = i,
                            l.sizset = o),
                            "string" != typeof e) {
                                if (l === e) {
                                    u = !0;
                                    break
                                }
                            } else if (0 < v.filter(e, [l]).length) {
                                u = l;
                                break
                            }
                        l = l[t]
                    }
                    n[o] = u
                }
            }
        }
        var y = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g
          , c = "sizcache" + (Math.random() + "").replace(".", "")
          , l = 0
          , _ = Object.prototype.toString
          , h = !1
          , i = !0
          , u = /\\/g
          , r = /\r\n/g
          , p = /\W/;
        [0, 0].sort(function() {
            return i = !1,
            0
        });
        var v = function(t, e, i, n) {
            i = i || [];
            var s = e = e || N;
            if (1 !== e.nodeType && 9 !== e.nodeType)
                return [];
            if (!t || "string" != typeof t)
                return i;
            var r, o, a, l, u, c, h, p, d = !0, f = v.isXML(e), m = [], g = t;
            do {
                if (y.exec(""),
                (r = y.exec(g)) && (g = r[3],
                m.push(r[1]),
                r[2])) {
                    l = r[3];
                    break
                }
            } while (r);
            if (1 < m.length && b.exec(t))
                if (2 === m.length && w.relative[m[0]])
                    o = S(m[0] + m[1], e, n);
                else
                    for (o = w.relative[m[0]] ? [e] : v(m.shift(), e); m.length; )
                        t = m.shift(),
                        w.relative[t] && (t += m.shift()),
                        o = S(t, o, n);
            else if (!n && 1 < m.length && 9 === e.nodeType && !f && w.match.ID.test(m[0]) && !w.match.ID.test(m[m.length - 1]) && (e = (u = v.find(m.shift(), e, f)).expr ? v.filter(u.expr, u.set)[0] : u.set[0]),
            e)
                for (o = (u = n ? {
                    expr: m.pop(),
                    set: C(n)
                } : v.find(m.pop(), 1 !== m.length || "~" !== m[0] && "+" !== m[0] || !e.parentNode ? e : e.parentNode, f)).expr ? v.filter(u.expr, u.set) : u.set,
                0 < m.length ? a = C(o) : d = !1; m.length; )
                    h = c = m.pop(),
                    w.relative[c] ? h = m.pop() : c = "",
                    null == h && (h = e),
                    w.relative[c](a, h, f);
            else
                a = m = [];
            if (a || (a = o),
            a || v.error(c || t),
            "[object Array]" === _.call(a))
                if (d)
                    if (e && 1 === e.nodeType)
                        for (p = 0; null != a[p]; p++)
                            a[p] && (!0 === a[p] || 1 === a[p].nodeType && v.contains(e, a[p])) && i.push(o[p]);
                    else
                        for (p = 0; null != a[p]; p++)
                            a[p] && 1 === a[p].nodeType && i.push(o[p]);
                else
                    i.push.apply(i, a);
            else
                C(a, i);
            return l && (v(l, s, i, n),
            v.uniqueSort(i)),
            i
        };
        v.uniqueSort = function(t) {
            if (n && (h = i,
            t.sort(n),
            h))
                for (var e = 1; e < t.length; e++)
                    t[e] === t[e - 1] && t.splice(e--, 1);
            return t
        }
        ,
        v.matches = function(t, e) {
            return v(t, null, null, e)
        }
        ,
        v.matchesSelector = function(t, e) {
            return 0 < v(e, null, null, [t]).length
        }
        ,
        v.find = function(t, e, i) {
            var n, s, r, o, a, l;
            if (!t)
                return [];
            for (s = 0,
            r = w.order.length; s < r; s++)
                if (a = w.order[s],
                (o = w.leftMatch[a].exec(t)) && (l = o[1],
                o.splice(1, 1),
                "\\" !== l.substr(l.length - 1) && (o[1] = (o[1] || "").replace(u, ""),
                null != (n = w.find[a](o, e, i))))) {
                    t = t.replace(w.match[a], "");
                    break
                }
            return n || (n = "undefined" != typeof e.getElementsByTagName ? e.getElementsByTagName("*") : []),
            {
                set: n,
                expr: t
            }
        }
        ,
        v.filter = function(t, e, i, n) {
            for (var s, r, o, a, l, u, c, h, p, d = t, f = [], m = e, g = e && e[0] && v.isXML(e[0]); t && e.length; ) {
                for (o in w.filter)
                    if (null != (s = w.leftMatch[o].exec(t)) && s[2]) {
                        if (u = w.filter[o],
                        c = s[1],
                        r = !1,
                        s.splice(1, 1),
                        "\\" === c.substr(c.length - 1))
                            continue;
                        if (m === f && (f = []),
                        w.preFilter[o])
                            if (s = w.preFilter[o](s, m, i, f, n, g)) {
                                if (!0 === s)
                                    continue
                            } else
                                r = a = !0;
                        if (s)
                            for (h = 0; null != (l = m[h]); h++)
                                l && (p = n ^ (a = u(l, s, h, m)),
                                i && null != a ? p ? r = !0 : m[h] = !1 : p && (f.push(l),
                                r = !0));
                        if (a !== I) {
                            if (i || (m = f),
                            t = t.replace(w.match[o], ""),
                            !r)
                                return [];
                            break
                        }
                    }
                if (t === d) {
                    if (null != r)
                        break;
                    v.error(t)
                }
                d = t
            }
            return m
        }
        ,
        v.error = function(t) {
            throw new Error("Syntax error, unrecognized expression: " + t)
        }
        ;
        var d = v.getText = function(t) {
            var e, i, n = t.nodeType, s = "";
            if (n) {
                if (1 === n || 9 === n || 11 === n) {
                    if ("string" == typeof t.textContent)
                        return t.textContent;
                    if ("string" == typeof t.innerText)
                        return t.innerText.replace(r, "");
                    for (t = t.firstChild; t; t = t.nextSibling)
                        s += d(t)
                } else if (3 === n || 4 === n)
                    return t.nodeValue
            } else
                for (e = 0; i = t[e]; e++)
                    8 !== i.nodeType && (s += d(i));
            return s
        }
          , w = v.selectors = {
            order: ["ID", "NAME", "TAG"],
            match: {
                ID: /#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
                CLASS: /\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
                NAME: /\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
                ATTR: /\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
                TAG: /^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,
                CHILD: /:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
                POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,
                PSEUDO: /:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/
            },
            leftMatch: {},
            attrMap: {
                "class": "className",
                "for": "htmlFor"
            },
            attrHandle: {
                href: function(t) {
                    return t.getAttribute("href")
                },
                type: function(t) {
                    return t.getAttribute("type")
                }
            },
            relative: {
                "+": function(t, e) {
                    var i = "string" == typeof e
                      , n = i && !p.test(e)
                      , s = i && !n;
                    n && (e = e.toLowerCase());
                    for (var r, o = 0, a = t.length; o < a; o++)
                        if (r = t[o]) {
                            for (; (r = r.previousSibling) && 1 !== r.nodeType; )
                                ;
                            t[o] = s || r && r.nodeName.toLowerCase() === e ? r || !1 : r === e
                        }
                    s && v.filter(e, t, !0)
                },
                ">": function(t, e) {
                    var i, n = "string" == typeof e, s = 0, r = t.length;
                    if (n && !p.test(e)) {
                        for (e = e.toLowerCase(); s < r; s++)
                            if (i = t[s]) {
                                var o = i.parentNode;
                                t[s] = o.nodeName.toLowerCase() === e && o
                            }
                    } else {
                        for (; s < r; s++)
                            (i = t[s]) && (t[s] = n ? i.parentNode : i.parentNode === e);
                        n && v.filter(e, t, !0)
                    }
                },
                "": function(t, e, i) {
                    var n, s = l++, r = a;
                    "string" != typeof e || p.test(e) || (n = e = e.toLowerCase(),
                    r = o),
                    r("parentNode", e, s, t, n, i)
                },
                "~": function(t, e, i) {
                    var n, s = l++, r = a;
                    "string" != typeof e || p.test(e) || (n = e = e.toLowerCase(),
                    r = o),
                    r("previousSibling", e, s, t, n, i)
                }
            },
            find: {
                ID: function(t, e, i) {
                    if ("undefined" != typeof e.getElementById && !i) {
                        var n = e.getElementById(t[1]);
                        return n && n.parentNode ? [n] : []
                    }
                },
                NAME: function(t, e) {
                    if ("undefined" != typeof e.getElementsByName) {
                        for (var i = [], n = e.getElementsByName(t[1]), s = 0, r = n.length; s < r; s++)
                            n[s].getAttribute("name") === t[1] && i.push(n[s]);
                        return 0 === i.length ? null : i
                    }
                },
                TAG: function(t, e) {
                    if ("undefined" != typeof e.getElementsByTagName)
                        return e.getElementsByTagName(t[1])
                }
            },
            preFilter: {
                CLASS: function(t, e, i, n, s, r) {
                    if (t = " " + t[1].replace(u, "") + " ",
                    r)
                        return t;
                    for (var o, a = 0; null != (o = e[a]); a++)
                        o && (s ^ (o.className && 0 <= (" " + o.className + " ").replace(/[\t\n\r]/g, " ").indexOf(t)) ? i || n.push(o) : i && (e[a] = !1));
                    return !1
                },
                ID: function(t) {
                    return t[1].replace(u, "")
                },
                TAG: function(t) {
                    return t[1].replace(u, "").toLowerCase()
                },
                CHILD: function(t) {
                    if ("nth" === t[1]) {
                        t[2] || v.error(t[0]),
                        t[2] = t[2].replace(/^\+|\s*/g, "");
                        var e = /(-?)(\d*)(?:n([+\-]?\d*))?/.exec(("even" === t[2] ? "2n" : "odd" === t[2] && "2n+1") || !/\D/.test(t[2]) && "0n+" + t[2] || t[2]);
                        t[2] = e[1] + (e[2] || 1) - 0,
                        t[3] = e[3] - 0
                    } else
                        t[2] && v.error(t[0]);
                    return t[0] = l++,
                    t
                },
                ATTR: function(t, e, i, n, s, r) {
                    var o = t[1] = t[1].replace(u, "");
                    return !r && w.attrMap[o] && (t[1] = w.attrMap[o]),
                    t[4] = (t[4] || t[5] || "").replace(u, ""),
                    "~=" === t[2] && (t[4] = " " + t[4] + " "),
                    t
                },
                PSEUDO: function(t, e, i, n, s) {
                    if ("not" === t[1]) {
                        if (!(1 < (y.exec(t[3]) || "").length || /^\w/.test(t[3]))) {
                            var r = v.filter(t[3], e, i, !0 ^ s);
                            return i || n.push.apply(n, r),
                            !1
                        }
                        t[3] = v(t[3], null, null, e)
                    } else if (w.match.POS.test(t[0]) || w.match.CHILD.test(t[0]))
                        return !0;
                    return t
                },
                POS: function(t) {
                    return t.unshift(!0),
                    t
                }
            },
            filters: {
                enabled: function(t) {
                    return !1 === t.disabled && "hidden" !== t.type
                },
                disabled: function(t) {
                    return !0 === t.disabled
                },
                checked: function(t) {
                    return !0 === t.checked
                },
                selected: function(t) {
                    return t.parentNode && t.parentNode.selectedIndex,
                    !0 === t.selected
                },
                parent: function(t) {
                    return !!t.firstChild
                },
                empty: function(t) {
                    return !t.firstChild
                },
                has: function(t, e, i) {
                    return !!v(i[3], t).length
                },
                header: function(t) {
                    return /h\d/i.test(t.nodeName)
                },
                text: function(t) {
                    var e = t.getAttribute("type")
                      , i = t.type;
                    return "input" === t.nodeName.toLowerCase() && "text" === i && (e === i || null === e)
                },
                radio: function(t) {
                    return "input" === t.nodeName.toLowerCase() && "radio" === t.type
                },
                checkbox: function(t) {
                    return "input" === t.nodeName.toLowerCase() && "checkbox" === t.type
                },
                file: function(t) {
                    return "input" === t.nodeName.toLowerCase() && "file" === t.type
                },
                password: function(t) {
                    return "input" === t.nodeName.toLowerCase() && "password" === t.type
                },
                submit: function(t) {
                    var e = t.nodeName.toLowerCase();
                    return ("input" === e || "button" === e) && "submit" === t.type
                },
                image: function(t) {
                    return "input" === t.nodeName.toLowerCase() && "image" === t.type
                },
                reset: function(t) {
                    var e = t.nodeName.toLowerCase();
                    return ("input" === e || "button" === e) && "reset" === t.type
                },
                button: function(t) {
                    var e = t.nodeName.toLowerCase();
                    return "input" === e && "button" === t.type || "button" === e
                },
                input: function(t) {
                    return /input|select|textarea|button/i.test(t.nodeName)
                },
                focus: function(t) {
                    return t === t.ownerDocument.activeElement
                }
            },
            setFilters: {
                first: function(t, e) {
                    return 0 === e
                },
                last: function(t, e, i, n) {
                    return e === n.length - 1
                },
                even: function(t, e) {
                    return e % 2 == 0
                },
                odd: function(t, e) {
                    return e % 2 == 1
                },
                lt: function(t, e, i) {
                    return e < i[3] - 0
                },
                gt: function(t, e, i) {
                    return e > i[3] - 0
                },
                nth: function(t, e, i) {
                    return i[3] - 0 === e
                },
                eq: function(t, e, i) {
                    return i[3] - 0 === e
                }
            },
            filter: {
                PSEUDO: function(t, e, i, n) {
                    var s = e[1]
                      , r = w.filters[s];
                    if (r)
                        return r(t, i, e, n);
                    if ("contains" === s)
                        return 0 <= (t.textContent || t.innerText || d([t]) || "").indexOf(e[3]);
                    if ("not" === s) {
                        for (var o = e[3], a = 0, l = o.length; a < l; a++)
                            if (o[a] === t)
                                return !1;
                        return !0
                    }
                    v.error(s)
                },
                CHILD: function(t, e) {
                    var i, n, s, r, o, a, l = e[1], u = t;
                    switch (l) {
                    case "only":
                    case "first":
                        for (; u = u.previousSibling; )
                            if (1 === u.nodeType)
                                return !1;
                        if ("first" === l)
                            return !0;
                        u = t;
                    case "last":
                        for (; u = u.nextSibling; )
                            if (1 === u.nodeType)
                                return !1;
                        return !0;
                    case "nth":
                        if (i = e[2],
                        n = e[3],
                        1 === i && 0 === n)
                            return !0;
                        if (s = e[0],
                        (r = t.parentNode) && (r[c] !== s || !t.nodeIndex)) {
                            for (o = 0,
                            u = r.firstChild; u; u = u.nextSibling)
                                1 === u.nodeType && (u.nodeIndex = ++o);
                            r[c] = s
                        }
                        return a = t.nodeIndex - n,
                        0 === i ? 0 === a : a % i == 0 && 0 <= a / i
                    }
                },
                ID: function(t, e) {
                    return 1 === t.nodeType && t.getAttribute("id") === e
                },
                TAG: function(t, e) {
                    return "*" === e && 1 === t.nodeType || !!t.nodeName && t.nodeName.toLowerCase() === e
                },
                CLASS: function(t, e) {
                    return -1 < (" " + (t.className || t.getAttribute("class")) + " ").indexOf(e)
                },
                ATTR: function(t, e) {
                    var i = e[1]
                      , n = v.attr ? v.attr(t, i) : w.attrHandle[i] ? w.attrHandle[i](t) : null != t[i] ? t[i] : t.getAttribute(i)
                      , s = n + ""
                      , r = e[2]
                      , o = e[4];
                    return null == n ? "!=" === r : !r && v.attr ? null != n : "=" === r ? s === o : "*=" === r ? 0 <= s.indexOf(o) : "~=" === r ? 0 <= (" " + s + " ").indexOf(o) : o ? "!=" === r ? s !== o : "^=" === r ? 0 === s.indexOf(o) : "$=" === r ? s.substr(s.length - o.length) === o : "|=" === r && (s === o || s.substr(0, o.length + 1) === o + "-") : s && !1 !== n
                },
                POS: function(t, e, i, n) {
                    var s = e[2]
                      , r = w.setFilters[s];
                    if (r)
                        return r(t, i, e, n)
                }
            }
        }
          , b = w.match.POS
          , t = function(t, e) {
            return "\\" + (e - 0 + 1)
        };
        for (var e in w.match)
            w.match[e] = new RegExp(w.match[e].source + /(?![^\[]*\])(?![^\(]*\))/.source),
            w.leftMatch[e] = new RegExp(/(^(?:.|\r|\n)*?)/.source + w.match[e].source.replace(/\\(\d+)/g, t));
        w.match.globalPOS = b;
        var n, f, s, m, g, x, k, C = function(t, e) {
            return t = Array.prototype.slice.call(t, 0),
            e ? (e.push.apply(e, t),
            e) : t
        };
        try {
            Array.prototype.slice.call(N.documentElement.childNodes, 0)[0].nodeType
        } catch (T) {
            C = function(t, e) {
                var i = 0
                  , n = e || [];
                if ("[object Array]" === _.call(t))
                    Array.prototype.push.apply(n, t);
                else if ("number" == typeof t.length)
                    for (var s = t.length; i < s; i++)
                        n.push(t[i]);
                else
                    for (; t[i]; i++)
                        n.push(t[i]);
                return n
            }
        }
        N.documentElement.compareDocumentPosition ? n = function(t, e) {
            return t === e ? (h = !0,
            0) : t.compareDocumentPosition && e.compareDocumentPosition ? 4 & t.compareDocumentPosition(e) ? -1 : 1 : t.compareDocumentPosition ? -1 : 1
        }
        : (n = function(t, e) {
            if (t === e)
                return h = !0,
                0;
            if (t.sourceIndex && e.sourceIndex)
                return t.sourceIndex - e.sourceIndex;
            var i, n, s = [], r = [], o = t.parentNode, a = e.parentNode, l = o;
            if (o === a)
                return f(t, e);
            if (!o)
                return -1;
            if (!a)
                return 1;
            for (; l; )
                s.unshift(l),
                l = l.parentNode;
            for (l = a; l; )
                r.unshift(l),
                l = l.parentNode;
            i = s.length,
            n = r.length;
            for (var u = 0; u < i && u < n; u++)
                if (s[u] !== r[u])
                    return f(s[u], r[u]);
            return u === i ? f(t, r[u], -1) : f(s[u], e, 1)
        }
        ,
        f = function(t, e, i) {
            if (t === e)
                return i;
            for (var n = t.nextSibling; n; ) {
                if (n === e)
                    return -1;
                n = n.nextSibling
            }
            return 1
        }
        ),
        s = N.createElement("div"),
        m = "script" + (new Date).getTime(),
        g = N.documentElement,
        s.innerHTML = "<a name='" + m + "'/>",
        g.insertBefore(s, g.firstChild),
        N.getElementById(m) && (w.find.ID = function(t, e, i) {
            if ("undefined" != typeof e.getElementById && !i) {
                var n = e.getElementById(t[1]);
                return n ? n.id === t[1] || "undefined" != typeof n.getAttributeNode && n.getAttributeNode("id").nodeValue === t[1] ? [n] : I : []
            }
        }
        ,
        w.filter.ID = function(t, e) {
            var i = "undefined" != typeof t.getAttributeNode && t.getAttributeNode("id");
            return 1 === t.nodeType && i && i.nodeValue === e
        }
        ),
        g.removeChild(s),
        g = s = null,
        (x = N.createElement("div")).appendChild(N.createComment("")),
        0 < x.getElementsByTagName("*").length && (w.find.TAG = function(t, e) {
            var i = e.getElementsByTagName(t[1]);
            if ("*" === t[1]) {
                for (var n = [], s = 0; i[s]; s++)
                    1 === i[s].nodeType && n.push(i[s]);
                i = n
            }
            return i
        }
        ),
        x.innerHTML = "<a href='#'></a>",
        x.firstChild && "undefined" != typeof x.firstChild.getAttribute && "#" !== x.firstChild.getAttribute("href") && (w.attrHandle.href = function(t) {
            return t.getAttribute("href", 2)
        }
        ),
        x = null,
        N.querySelectorAll && function() {
            var d = v
              , t = N.createElement("div")
              , f = "__sizzle__";
            if (t.innerHTML = "<p class='TEST'></p>",
            !t.querySelectorAll || 0 !== t.querySelectorAll(".TEST").length) {
                for (var e in v = function(t, e, i, n) {
                    if (e = e || N,
                    !n && !v.isXML(e)) {
                        var s = /^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);
                        if (s && (1 === e.nodeType || 9 === e.nodeType)) {
                            if (s[1])
                                return C(e.getElementsByTagName(t), i);
                            if (s[2] && w.find.CLASS && e.getElementsByClassName)
                                return C(e.getElementsByClassName(s[2]), i)
                        }
                        if (9 === e.nodeType) {
                            if ("body" === t && e.body)
                                return C([e.body], i);
                            if (s && s[3]) {
                                var r = e.getElementById(s[3]);
                                if (!r || !r.parentNode)
                                    return C([], i);
                                if (r.id === s[3])
                                    return C([r], i)
                            }
                            try {
                                return C(e.querySelectorAll(t), i)
                            } catch (h) {}
                        } else if (1 === e.nodeType && "object" !== e.nodeName.toLowerCase()) {
                            var o = e
                              , a = e.getAttribute("id")
                              , l = a || f
                              , u = e.parentNode
                              , c = /^\s*[+~]/.test(t);
                            a ? l = l.replace(/'/g, "\\$&") : e.setAttribute("id", l),
                            c && u && (e = e.parentNode);
                            try {
                                if (!c || u)
                                    return C(e.querySelectorAll("[id='" + l + "'] " + t), i)
                            } catch (p) {} finally {
                                a || o.removeAttribute("id")
                            }
                        }
                    }
                    return d(t, e, i, n)
                }
                ,
                d)
                    v[e] = d[e];
                t = null
            }
        }(),
        function() {
            var t = N.documentElement
              , n = t.matchesSelector || t.mozMatchesSelector || t.webkitMatchesSelector || t.msMatchesSelector;
            if (n) {
                var s = !n.call(N.createElement("div"), "div")
                  , r = !1;
                try {
                    n.call(N.documentElement, "[test!='']:sizzle")
                } catch (e) {
                    r = !0
                }
                v.matchesSelector = function(t, e) {
                    if (e = e.replace(/\=\s*([^'"\]]*)\s*\]/g, "='$1']"),
                    !v.isXML(t))
                        try {
                            if (r || !w.match.PSEUDO.test(e) && !/!=/.test(e)) {
                                var i = n.call(t, e);
                                if (i || !s || t.document && 11 !== t.document.nodeType)
                                    return i
                            }
                        } catch (T) {}
                    return 0 < v(e, null, null, [t]).length
                }
            }
        }(),
        (k = N.createElement("div")).innerHTML = "<div class='test e'></div><div class='test'></div>",
        k.getElementsByClassName && 0 !== k.getElementsByClassName("e").length && (k.lastChild.className = "e",
        1 !== k.getElementsByClassName("e").length && (w.order.splice(1, 0, "CLASS"),
        w.find.CLASS = function(t, e, i) {
            if ("undefined" != typeof e.getElementsByClassName && !i)
                return e.getElementsByClassName(t[1])
        }
        ,
        k = null)),
        N.documentElement.contains ? v.contains = function(t, e) {
            return t !== e && (!t.contains || t.contains(e))
        }
        : N.documentElement.compareDocumentPosition ? v.contains = function(t, e) {
            return !!(16 & t.compareDocumentPosition(e))
        }
        : v.contains = function() {
            return !1
        }
        ,
        v.isXML = function(t) {
            var e = (t ? t.ownerDocument || t : 0).documentElement;
            return !!e && "HTML" !== e.nodeName
        }
        ;
        var S = function(t, e, i) {
            for (var n, s = [], r = "", o = e.nodeType ? [e] : e; n = w.match.PSEUDO.exec(t); )
                r += n[0],
                t = t.replace(w.match.PSEUDO, "");
            t = w.relative[t] ? t + "*" : t;
            for (var a = 0, l = o.length; a < l; a++)
                v(t, o[a], s, i);
            return v.filter(r, s)
        };
        v.attr = R.attr,
        v.selectors.attrMap = {},
        R.find = v,
        R.expr = v.selectors,
        R.expr[":"] = R.expr.filters,
        R.unique = v.uniqueSort,
        R.text = v.getText,
        R.isXMLDoc = v.isXML,
        R.contains = v.contains
    }();
    var lt = /Until$/
      , ut = /^(?:parents|prevUntil|prevAll)/
      , ct = /,/
      , ht = /^.[^:#\[\.,]*$/
      , pt = Array.prototype.slice
      , dt = R.expr.match.globalPOS
      , ft = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    R.fn.extend({
        find: function(t) {
            var e, i, n = this;
            if ("string" != typeof t)
                return R(t).filter(function() {
                    for (e = 0,
                    i = n.length; e < i; e++)
                        if (R.contains(n[e], this))
                            return !0
                });
            var s, r, o, a = this.pushStack("", "find", t);
            for (e = 0,
            i = this.length; e < i; e++)
                if (s = a.length,
                R.find(t, this[e], a),
                0 < e)
                    for (r = s; r < a.length; r++)
                        for (o = 0; o < s; o++)
                            if (a[o] === a[r]) {
                                a.splice(r--, 1);
                                break
                            }
            return a
        },
        has: function(t) {
            var i = R(t);
            return this.filter(function() {
                for (var t = 0, e = i.length; t < e; t++)
                    if (R.contains(this, i[t]))
                        return !0
            })
        },
        not: function(t) {
            return this.pushStack(e(this, t, !1), "not", t)
        },
        filter: function(t) {
            return this.pushStack(e(this, t, !0), "filter", t)
        },
        is: function(t) {
            return !!t && ("string" == typeof t ? dt.test(t) ? 0 <= R(t, this.context).index(this[0]) : 0 < R.filter(t, this).length : 0 < this.filter(t).length)
        },
        closest: function(t, e) {
            var i, n, s = [], r = this[0];
            if (R.isArray(t)) {
                for (var o = 1; r && r.ownerDocument && r !== e; ) {
                    for (i = 0; i < t.length; i++)
                        R(r).is(t[i]) && s.push({
                            selector: t[i],
                            elem: r,
                            level: o
                        });
                    r = r.parentNode,
                    o++
                }
                return s
            }
            var a = dt.test(t) || "string" != typeof t ? R(t, e || this.context) : 0;
            for (i = 0,
            n = this.length; i < n; i++)
                for (r = this[i]; r; ) {
                    if (a ? -1 < a.index(r) : R.find.matchesSelector(r, t)) {
                        s.push(r);
                        break
                    }
                    if (!(r = r.parentNode) || !r.ownerDocument || r === e || 11 === r.nodeType)
                        break
                }
            return s = 1 < s.length ? R.unique(s) : s,
            this.pushStack(s, "closest", t)
        },
        index: function(t) {
            return t ? "string" == typeof t ? R.inArray(this[0], R(t)) : R.inArray(t.jquery ? t[0] : t, this) : this[0] && this[0].parentNode ? this.prevAll().length : -1
        },
        add: function(t, e) {
            var i = "string" == typeof t ? R(t, e) : R.makeArray(t && t.nodeType ? [t] : t)
              , n = R.merge(this.get(), i);
            return this.pushStack(s(i[0]) || s(n[0]) ? n : R.unique(n))
        },
        andSelf: function() {
            return this.add(this.prevObject)
        }
    }),
    R.each({
        parent: function(t) {
            var e = t.parentNode;
            return e && 11 !== e.nodeType ? e : null
        },
        parents: function(t) {
            return R.dir(t, "parentNode")
        },
        parentsUntil: function(t, e, i) {
            return R.dir(t, "parentNode", i)
        },
        next: function(t) {
            return R.nth(t, 2, "nextSibling")
        },
        prev: function(t) {
            return R.nth(t, 2, "previousSibling")
        },
        nextAll: function(t) {
            return R.dir(t, "nextSibling")
        },
        prevAll: function(t) {
            return R.dir(t, "previousSibling")
        },
        nextUntil: function(t, e, i) {
            return R.dir(t, "nextSibling", i)
        },
        prevUntil: function(t, e, i) {
            return R.dir(t, "previousSibling", i)
        },
        siblings: function(t) {
            return R.sibling((t.parentNode || {}).firstChild, t)
        },
        children: function(t) {
            return R.sibling(t.firstChild)
        },
        contents: function(t) {
            return R.nodeName(t, "iframe") ? t.contentDocument || t.contentWindow.document : R.makeArray(t.childNodes)
        }
    }, function(n, s) {
        R.fn[n] = function(t, e) {
            var i = R.map(this, s, t);
            return lt.test(n) || (e = t),
            e && "string" == typeof e && (i = R.filter(e, i)),
            i = 1 < this.length && !ft[n] ? R.unique(i) : i,
            (1 < this.length || ct.test(e)) && ut.test(n) && (i = i.reverse()),
            this.pushStack(i, n, pt.call(arguments).join(","))
        }
    }),
    R.extend({
        filter: function(t, e, i) {
            return i && (t = ":not(" + t + ")"),
            1 === e.length ? R.find.matchesSelector(e[0], t) ? [e[0]] : [] : R.find.matches(t, e)
        },
        dir: function(t, e, i) {
            for (var n = [], s = t[e]; s && 9 !== s.nodeType && (i === I || 1 !== s.nodeType || !R(s).is(i)); )
                1 === s.nodeType && n.push(s),
                s = s[e];
            return n
        },
        nth: function(t, e, i) {
            e = e || 1;
            for (var n = 0; t && (1 !== t.nodeType || ++n !== e); t = t[i])
                ;
            return t
        },
        sibling: function(t, e) {
            for (var i = []; t; t = t.nextSibling)
                1 === t.nodeType && t !== e && i.push(t);
            return i
        }
    });
    var mt = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video"
      , gt = / jQuery\d+="(?:\d+|null)"/g
      , yt = /^\s+/
      , _t = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi
      , vt = /<([\w:]+)/
      , wt = /<tbody/i
      , bt = /<|&#?\w+;/
      , xt = /<(?:script|style)/i
      , kt = /<(?:script|object|embed|option|style)/i
      , Ct = new RegExp("<(?:" + mt + ")[\\s/>]","i")
      , St = /checked\s*(?:[^=]|=\s*.checked.)/i
      , Tt = /\/(java|ecma)script/i
      , At = /^\s*<!(?:\[CDATA\[|\-\-)/
      , Dt = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        legend: [1, "<fieldset>", "</fieldset>"],
        thead: [1, "<table>", "</table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
        area: [1, "<map>", "</map>"],
        _default: [0, "", ""]
    }
      , Mt = w(N);
    Dt.optgroup = Dt.option,
    Dt.tbody = Dt.tfoot = Dt.colgroup = Dt.caption = Dt.thead,
    Dt.th = Dt.td,
    R.support.htmlSerialize || (Dt._default = [1, "div<div>", "</div>"]),
    R.fn.extend({
        text: function(t) {
            return R.access(this, function(t) {
                return t === I ? R.text(this) : this.empty().append((this[0] && this[0].ownerDocument || N).createTextNode(t))
            }, null, t, arguments.length)
        },
        wrapAll: function(e) {
            if (R.isFunction(e))
                return this.each(function(t) {
                    R(this).wrapAll(e.call(this, t))
                });
            if (this[0]) {
                var t = R(e, this[0].ownerDocument).eq(0).clone(!0);
                this[0].parentNode && t.insertBefore(this[0]),
                t.map(function() {
                    for (var t = this; t.firstChild && 1 === t.firstChild.nodeType; )
                        t = t.firstChild;
                    return t
                }).append(this)
            }
            return this
        },
        wrapInner: function(i) {
            return R.isFunction(i) ? this.each(function(t) {
                R(this).wrapInner(i.call(this, t))
            }) : this.each(function() {
                var t = R(this)
                  , e = t.contents();
                e.length ? e.wrapAll(i) : t.append(i)
            })
        },
        wrap: function(e) {
            var i = R.isFunction(e);
            return this.each(function(t) {
                R(this).wrapAll(i ? e.call(this, t) : e)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                R.nodeName(this, "body") || R(this).replaceWith(this.childNodes)
            }).end()
        },
        append: function() {
            return this.domManip(arguments, !0, function(t) {
                1 === this.nodeType && this.appendChild(t)
            })
        },
        prepend: function() {
            return this.domManip(arguments, !0, function(t) {
                1 === this.nodeType && this.insertBefore(t, this.firstChild)
            })
        },
        before: function() {
            if (this[0] && this[0].parentNode)
                return this.domManip(arguments, !1, function(t) {
                    this.parentNode.insertBefore(t, this)
                });
            if (arguments.length) {
                var t = R.clean(arguments);
                return t.push.apply(t, this.toArray()),
                this.pushStack(t, "before", arguments)
            }
        },
        after: function() {
            if (this[0] && this[0].parentNode)
                return this.domManip(arguments, !1, function(t) {
                    this.parentNode.insertBefore(t, this.nextSibling)
                });
            if (arguments.length) {
                var t = this.pushStack(this, "after", arguments);
                return t.push.apply(t, R.clean(arguments)),
                t
            }
        },
        remove: function(t, e) {
            for (var i, n = 0; null != (i = this[n]); n++)
                t && !R.filter(t, [i]).length || (e || 1 !== i.nodeType || (R.cleanData(i.getElementsByTagName("*")),
                R.cleanData([i])),
                i.parentNode && i.parentNode.removeChild(i));
            return this
        },
        empty: function() {
            for (var t, e = 0; null != (t = this[e]); e++)
                for (1 === t.nodeType && R.cleanData(t.getElementsByTagName("*")); t.firstChild; )
                    t.removeChild(t.firstChild);
            return this
        },
        clone: function(t, e) {
            return t = null != t && t,
            e = null == e ? t : e,
            this.map(function() {
                return R.clone(this, t, e)
            })
        },
        html: function(t) {
            return R.access(this, function(t) {
                var e = this[0] || {}
                  , i = 0
                  , n = this.length;
                if (t === I)
                    return 1 === e.nodeType ? e.innerHTML.replace(gt, "") : null;
                if ("string" == typeof t && !xt.test(t) && (R.support.leadingWhitespace || !yt.test(t)) && !Dt[(vt.exec(t) || ["", ""])[1].toLowerCase()]) {
                    t = t.replace(_t, "<$1></$2>");
                    try {
                        for (; i < n; i++)
                            1 === (e = this[i] || {}).nodeType && (R.cleanData(e.getElementsByTagName("*")),
                            e.innerHTML = t);
                        e = 0
                    } catch (s) {}
                }
                e && this.empty().append(t)
            }, null, t, arguments.length)
        },
        replaceWith: function(n) {
            return this[0] && this[0].parentNode ? R.isFunction(n) ? this.each(function(t) {
                var e = R(this)
                  , i = e.html();
                e.replaceWith(n.call(this, t, i))
            }) : ("string" != typeof n && (n = R(n).detach()),
            this.each(function() {
                var t = this.nextSibling
                  , e = this.parentNode;
                R(this).remove(),
                t ? R(t).before(n) : R(e).append(n)
            })) : this.length ? this.pushStack(R(R.isFunction(n) ? n() : n), "replaceWith", n) : this
        },
        detach: function(t) {
            return this.remove(t, !0)
        },
        domManip: function(i, n, s) {
            var t, e, r, o, a = i[0], l = [];
            if (!R.support.checkClone && 3 === arguments.length && "string" == typeof a && St.test(a))
                return this.each(function() {
                    R(this).domManip(i, n, s, !0)
                });
            if (R.isFunction(a))
                return this.each(function(t) {
                    var e = R(this);
                    i[0] = a.call(this, t, n ? e.html() : I),
                    e.domManip(i, n, s)
                });
            if (this[0]) {
                if (o = a && a.parentNode,
                e = 1 === (r = (t = R.support.parentNode && o && 11 === o.nodeType && o.childNodes.length === this.length ? {
                    fragment: o
                } : R.buildFragment(i, this, l)).fragment).childNodes.length ? r = r.firstChild : r.firstChild) {
                    n = n && R.nodeName(e, "tr");
                    for (var u = 0, c = this.length, h = c - 1; u < c; u++)
                        s.call(n ? p(this[u], e) : this[u], t.cacheable || 1 < c && u < h ? R.clone(r, !0, !0) : r)
                }
                l.length && R.each(l, function(t, e) {
                    e.src ? R.ajax({
                        type: "GET",
                        global: !1,
                        url: e.src,
                        async: !1,
                        dataType: "script"
                    }) : R.globalEval((e.text || e.textContent || e.innerHTML || "").replace(At, "/*$0*/")),
                    e.parentNode && e.parentNode.removeChild(e)
                })
            }
            return this
        }
    }),
    R.buildFragment = function(t, e, i) {
        var n, s, r, o, a = t[0];
        return e && e[0] && (o = e[0].ownerDocument || e[0]),
        o.createDocumentFragment || (o = N),
        !(1 === t.length && "string" == typeof a && a.length < 512 && o === N && "<" === a.charAt(0)) || kt.test(a) || !R.support.checkClone && St.test(a) || !R.support.html5Clone && Ct.test(a) || (s = !0,
        (r = R.fragments[a]) && 1 !== r && (n = r)),
        n || (n = o.createDocumentFragment(),
        R.clean(t, o, n, i)),
        s && (R.fragments[a] = r ? n : 1),
        {
            fragment: n,
            cacheable: s
        }
    }
    ,
    R.fragments = {},
    R.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(a, l) {
        R.fn[a] = function(t) {
            var e = []
              , i = R(t)
              , n = 1 === this.length && this[0].parentNode;
            if (n && 11 === n.nodeType && 1 === n.childNodes.length && 1 === i.length)
                return i[l](this[0]),
                this;
            for (var s = 0, r = i.length; s < r; s++) {
                var o = (0 < s ? this.clone(!0) : this).get();
                R(i[s])[l](o),
                e = e.concat(o)
            }
            return this.pushStack(e, a, i.selector)
        }
    }),
    R.extend({
        clone: function(t, e, i) {
            var n, s, r, o = R.support.html5Clone || R.isXMLDoc(t) || !Ct.test("<" + t.nodeName + ">") ? t.cloneNode(!0) : f(t);
            if (!(R.support.noCloneEvent && R.support.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || R.isXMLDoc(t)))
                for (u(t, o),
                n = d(t),
                s = d(o),
                r = 0; n[r]; ++r)
                    s[r] && u(n[r], s[r]);
            if (e && (l(t, o),
            i))
                for (n = d(t),
                s = d(o),
                r = 0; n[r]; ++r)
                    l(n[r], s[r]);
            return n = s = null,
            o
        },
        clean: function(t, e, i, n) {
            var s, r, o, a = [];
            "undefined" == typeof (e = e || N).createElement && (e = e.ownerDocument || e[0] && e[0].ownerDocument || N);
            for (var l, u = 0; null != (l = t[u]); u++)
                if ("number" == typeof l && (l += ""),
                l) {
                    if ("string" == typeof l)
                        if (bt.test(l)) {
                            l = l.replace(_t, "<$1></$2>");
                            var c, h = (vt.exec(l) || ["", ""])[1].toLowerCase(), p = Dt[h] || Dt._default, d = p[0], f = e.createElement("div"), m = Mt.childNodes;
                            for (e === N ? Mt.appendChild(f) : w(e).appendChild(f),
                            f.innerHTML = p[1] + l + p[2]; d--; )
                                f = f.lastChild;
                            if (!R.support.tbody) {
                                var g = wt.test(l)
                                  , y = "table" !== h || g ? "<table>" !== p[1] || g ? [] : f.childNodes : f.firstChild && f.firstChild.childNodes;
                                for (o = y.length - 1; 0 <= o; --o)
                                    R.nodeName(y[o], "tbody") && !y[o].childNodes.length && y[o].parentNode.removeChild(y[o])
                            }
                            !R.support.leadingWhitespace && yt.test(l) && f.insertBefore(e.createTextNode(yt.exec(l)[0]), f.firstChild),
                            l = f.childNodes,
                            f && (f.parentNode.removeChild(f),
                            0 < m.length && (c = m[m.length - 1]) && c.parentNode && c.parentNode.removeChild(c))
                        } else
                            l = e.createTextNode(l);
                    var _;
                    if (!R.support.appendChecked)
                        if (l[0] && "number" == typeof (_ = l.length))
                            for (o = 0; o < _; o++)
                                b(l[o]);
                        else
                            b(l);
                    l.nodeType ? a.push(l) : a = R.merge(a, l)
                }
            if (i)
                for (s = function(t) {
                    return !t.type || Tt.test(t.type)
                }
                ,
                u = 0; a[u]; u++)
                    if (r = a[u],
                    n && R.nodeName(r, "script") && (!r.type || Tt.test(r.type)))
                        n.push(r.parentNode ? r.parentNode.removeChild(r) : r);
                    else {
                        if (1 === r.nodeType) {
                            var v = R.grep(r.getElementsByTagName("script"), s);
                            a.splice.apply(a, [u + 1, 0].concat(v))
                        }
                        i.appendChild(r)
                    }
            return a
        },
        cleanData: function(t) {
            for (var e, i, n, s = R.cache, r = R.event.special, o = R.support.deleteExpando, a = 0; null != (n = t[a]); a++)
                if ((!n.nodeName || !R.noData[n.nodeName.toLowerCase()]) && (i = n[R.expando])) {
                    if ((e = s[i]) && e.events) {
                        for (var l in e.events)
                            r[l] ? R.event.remove(n, l) : R.removeEvent(n, l, e.handle);
                        e.handle && (e.handle.elem = null)
                    }
                    o ? delete n[R.expando] : n.removeAttribute && n.removeAttribute(R.expando),
                    delete s[i]
                }
        }
    });
    var qt, Pt, Et, It = /alpha\([^)]*\)/i, Nt = /opacity=([^)]*)/, Ot = /([A-Z]|^ms)/g, Rt = /^[\-+]?(?:\d*\.)?\d+$/i, Ft = /^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i, Ht = /^([\-+])=([\-+.\de]+)/, Vt = /^margin/, $t = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    }, Lt = ["Top", "Right", "Bottom", "Left"];
    R.fn.css = function(t, e) {
        return R.access(this, function(t, e, i) {
            return i !== I ? R.style(t, e, i) : R.css(t, e)
        }, t, e, 1 < arguments.length)
    }
    ,
    R.extend({
        cssHooks: {
            opacity: {
                get: function(t, e) {
                    if (e) {
                        var i = qt(t, "opacity");
                        return "" === i ? "1" : i
                    }
                    return t.style.opacity
                }
            }
        },
        cssNumber: {
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": R.support.cssFloat ? "cssFloat" : "styleFloat"
        },
        style: function(t, e, i, n) {
            if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) {
                var s, r, o = R.camelCase(e), a = t.style, l = R.cssHooks[o];
                if (e = R.cssProps[o] || o,
                i === I)
                    return l && "get"in l && (s = l.get(t, !1, n)) !== I ? s : a[e];
                if (!("string" === (r = typeof i) && (s = Ht.exec(i)) && (i = +(s[1] + 1) * +s[2] + parseFloat(R.css(t, e)),
                r = "number"),
                null == i || "number" === r && isNaN(i) || ("number" !== r || R.cssNumber[o] || (i += "px"),
                l && "set"in l && (i = l.set(t, i)) === I)))
                    try {
                        a[e] = i
                    } catch (u) {}
            }
        },
        css: function(t, e, i) {
            var n, s;
            return e = R.camelCase(e),
            s = R.cssHooks[e],
            "cssFloat" === (e = R.cssProps[e] || e) && (e = "float"),
            s && "get"in s && (n = s.get(t, !0, i)) !== I ? n : qt ? qt(t, e) : void 0
        },
        swap: function(t, e, i) {
            var n, s, r = {};
            for (s in e)
                r[s] = t.style[s],
                t.style[s] = e[s];
            for (s in n = i.call(t),
            e)
                t.style[s] = r[s];
            return n
        }
    }),
    R.curCSS = R.css,
    N.defaultView && N.defaultView.getComputedStyle && (Pt = function(t, e) {
        var i, n, s, r, o = t.style;
        return e = e.replace(Ot, "-$1").toLowerCase(),
        (n = t.ownerDocument.defaultView) && (s = n.getComputedStyle(t, null)) && ("" !== (i = s.getPropertyValue(e)) || R.contains(t.ownerDocument.documentElement, t) || (i = R.style(t, e))),
        !R.support.pixelMargin && s && Vt.test(e) && Ft.test(i) && (r = o.width,
        o.width = i,
        i = s.width,
        o.width = r),
        i
    }
    ),
    N.documentElement.currentStyle && (Et = function(t, e) {
        var i, n, s, r = t.currentStyle && t.currentStyle[e], o = t.style;
        return null == r && o && (s = o[e]) && (r = s),
        Ft.test(r) && (i = o.left,
        (n = t.runtimeStyle && t.runtimeStyle.left) && (t.runtimeStyle.left = t.currentStyle.left),
        o.left = "fontSize" === e ? "1em" : r,
        r = o.pixelLeft + "px",
        o.left = i,
        n && (t.runtimeStyle.left = n)),
        "" === r ? "auto" : r
    }
    ),
    qt = Pt || Et,
    R.each(["height", "width"], function(t, n) {
        R.cssHooks[n] = {
            get: function(t, e, i) {
                if (e)
                    return 0 !== t.offsetWidth ? o(t, n, i) : R.swap(t, $t, function() {
                        return o(t, n, i)
                    })
            },
            set: function(t, e) {
                return Rt.test(e) ? e + "px" : e
            }
        }
    }),
    R.support.opacity || (R.cssHooks.opacity = {
        get: function(t, e) {
            return Nt.test((e && t.currentStyle ? t.currentStyle.filter : t.style.filter) || "") ? parseFloat(RegExp.$1) / 100 + "" : e ? "1" : ""
        },
        set: function(t, e) {
            var i = t.style
              , n = t.currentStyle
              , s = R.isNumeric(e) ? "alpha(opacity=" + 100 * e + ")" : ""
              , r = n && n.filter || i.filter || "";
            (i.zoom = 1) <= e && "" === R.trim(r.replace(It, "")) && (i.removeAttribute("filter"),
            n && !n.filter) || (i.filter = It.test(r) ? r.replace(It, s) : r + " " + s)
        }
    }),
    R(function() {
        R.support.reliableMarginRight || (R.cssHooks.marginRight = {
            get: function(t, e) {
                return R.swap(t, {
                    display: "inline-block"
                }, function() {
                    return e ? qt(t, "margin-right") : t.style.marginRight
                })
            }
        })
    }),
    R.expr && R.expr.filters && (R.expr.filters.hidden = function(t) {
        var e = t.offsetWidth
          , i = t.offsetHeight;
        return 0 === e && 0 === i || !R.support.reliableHiddenOffsets && "none" === (t.style && t.style.display || R.css(t, "display"))
    }
    ,
    R.expr.filters.visible = function(t) {
        return !R.expr.filters.hidden(t)
    }
    ),
    R.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(s, r) {
        R.cssHooks[s + r] = {
            expand: function(t) {
                var e, i = "string" == typeof t ? t.split(" ") : [t], n = {};
                for (e = 0; e < 4; e++)
                    n[s + Lt[e] + r] = i[e] || i[e - 2] || i[0];
                return n
            }
        }
    });
    var Bt, zt, jt = /%20/g, Jt = /\[\]$/, Wt = /\r?\n/g, Ut = /#.*$/, Yt = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm, Qt = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i, Gt = /^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/, Xt = /^(?:GET|HEAD)$/, Kt = /^\/\//, Zt = /\?/, te = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, ee = /^(?:select|textarea)/i, ie = /\s+/, ne = /([?&])_=[^&]*/, se = /^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/, re = R.fn.load, oe = {}, ae = {}, le = ["*/"] + ["*"];
    try {
        Bt = P.href
    } catch (Te) {
        (Bt = N.createElement("a")).href = "",
        Bt = Bt.href
    }
    zt = se.exec(Bt.toLowerCase()) || [],
    R.fn.extend({
        load: function(t, e, n) {
            if ("string" != typeof t && re)
                return re.apply(this, arguments);
            if (!this.length)
                return this;
            var i = t.indexOf(" ");
            if (0 <= i) {
                var s = t.slice(i, t.length);
                t = t.slice(0, i)
            }
            var r = "GET";
            e && (R.isFunction(e) ? (n = e,
            e = I) : "object" == typeof e && (e = R.param(e, R.ajaxSettings.traditional),
            r = "POST"));
            var o = this;
            return R.ajax({
                url: t,
                type: r,
                dataType: "html",
                data: e,
                complete: function(t, e, i) {
                    i = t.responseText,
                    t.isResolved() && (t.done(function(t) {
                        i = t
                    }),
                    o.html(s ? R("<div>").append(i.replace(te, "")).find(s) : i)),
                    n && o.each(n, [i, e, t])
                }
            }),
            this
        },
        serialize: function() {
            return R.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                return this.elements ? R.makeArray(this.elements) : this
            }).filter(function() {
                return this.name && !this.disabled && (this.checked || ee.test(this.nodeName) || Qt.test(this.type))
            }).map(function(t, e) {
                var i = R(this).val();
                return null == i ? null : R.isArray(i) ? R.map(i, function(t) {
                    return {
                        name: e.name,
                        value: t.replace(Wt, "\r\n")
                    }
                }) : {
                    name: e.name,
                    value: i.replace(Wt, "\r\n")
                }
            }).get()
        }
    }),
    R.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "), function(t, e) {
        R.fn[e] = function(t) {
            return this.on(e, t)
        }
    }),
    R.each(["get", "post"], function(t, s) {
        R[s] = function(t, e, i, n) {
            return R.isFunction(e) && (n = n || i,
            i = e,
            e = I),
            R.ajax({
                type: s,
                url: t,
                data: e,
                success: i,
                dataType: n
            })
        }
    }),
    R.extend({
        getScript: function(t, e) {
            return R.get(t, I, e, "script")
        },
        getJSON: function(t, e, i) {
            return R.get(t, e, i, "json")
        },
        ajaxSetup: function(t, e) {
            return e ? g(t, R.ajaxSettings) : (e = t,
            t = R.ajaxSettings),
            g(t, e),
            t
        },
        ajaxSettings: {
            url: Bt,
            isLocal: Gt.test(zt[1]),
            global: !0,
            type: "GET",
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            processData: !0,
            async: !0,
            accepts: {
                xml: "application/xml, text/xml",
                html: "text/html",
                text: "text/plain",
                json: "application/json, text/javascript",
                "*": le
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText"
            },
            converters: {
                "* text": E.String,
                "text html": !0,
                "text json": R.parseJSON,
                "text xml": R.parseXML
            },
            flatOptions: {
                context: !0,
                url: !0
            }
        },
        ajaxPrefilter: m(oe),
        ajaxTransport: m(ae),
        ajax: function(t, e) {
            function i(t, e, i, n) {
                if (2 !== x) {
                    x = 2,
                    f && clearTimeout(f),
                    d = I,
                    p = n || "",
                    k.readyState = 0 < t ? 4 : 0;
                    var s, r, o, a, l, u = e, c = i ? S(g, k, i) : I;
                    if (200 <= t && t < 300 || 304 === t)
                        if (g.ifModified && ((a = k.getResponseHeader("Last-Modified")) && (R.lastModified[h] = a),
                        (l = k.getResponseHeader("Etag")) && (R.etag[h] = l)),
                        304 === t)
                            u = "notmodified",
                            s = !0;
                        else
                            try {
                                r = T(g, c),
                                u = "success",
                                s = !0
                            } catch (Te) {
                                u = "parsererror",
                                o = Te
                            }
                    else
                        (o = u) && !t || (u = "error",
                        t < 0 && (t = 0));
                    k.status = t,
                    k.statusText = "" + (e || u),
                    s ? v.resolveWith(y, [r, u, k]) : v.rejectWith(y, [k, u, o]),
                    k.statusCode(b),
                    b = I,
                    m && _.trigger("ajax" + (s ? "Success" : "Error"), [k, g, s ? r : o]),
                    w.fireWith(y, [k, u]),
                    m && (_.trigger("ajaxComplete", [k, g]),
                    --R.active || R.event.trigger("ajaxStop"))
                }
            }
            "object" == typeof t && (e = t,
            t = I),
            e = e || {};
            var h, p, n, d, f, s, m, r, g = R.ajaxSetup({}, e), y = g.context || g, _ = y !== g && (y.nodeType || y instanceof R) ? R(y) : R.event, v = R.Deferred(), w = R.Callbacks("once memory"), b = g.statusCode || {}, o = {}, a = {}, x = 0, k = {
                readyState: 0,
                setRequestHeader: function(t, e) {
                    if (!x) {
                        var i = t.toLowerCase();
                        t = a[i] = a[i] || t,
                        o[t] = e
                    }
                    return this
                },
                getAllResponseHeaders: function() {
                    return 2 === x ? p : null
                },
                getResponseHeader: function(t) {
                    var e;
                    if (2 === x) {
                        if (!n)
                            for (n = {}; e = Yt.exec(p); )
                                n[e[1].toLowerCase()] = e[2];
                        e = n[t.toLowerCase()]
                    }
                    return e === I ? null : e
                },
                overrideMimeType: function(t) {
                    return x || (g.mimeType = t),
                    this
                },
                abort: function(t) {
                    return t = t || "abort",
                    d && d.abort(t),
                    i(0, t),
                    this
                }
            };
            if (v.promise(k),
            k.success = k.done,
            k.error = k.fail,
            k.complete = w.add,
            k.statusCode = function(t) {
                var e;
                if (t)
                    if (x < 2)
                        for (e in t)
                            b[e] = [b[e], t[e]];
                    else
                        e = t[k.status],
                        k.then(e, e);
                return this
            }
            ,
            g.url = ((t || g.url) + "").replace(Ut, "").replace(Kt, zt[1] + "//"),
            g.dataTypes = R.trim(g.dataType || "*").toLowerCase().split(ie),
            null == g.crossDomain && (s = se.exec(g.url.toLowerCase()),
            g.crossDomain = !(!s || s[1] == zt[1] && s[2] == zt[2] && (s[3] || ("http:" === s[1] ? 80 : 443)) == (zt[3] || ("http:" === zt[1] ? 80 : 443)))),
            g.data && g.processData && "string" != typeof g.data && (g.data = R.param(g.data, g.traditional)),
            C(oe, g, e, k),
            2 === x)
                return !1;
            if (m = g.global,
            g.type = g.type.toUpperCase(),
            g.hasContent = !Xt.test(g.type),
            m && 0 == R.active++ && R.event.trigger("ajaxStart"),
            !g.hasContent && (g.data && (g.url += (Zt.test(g.url) ? "&" : "?") + g.data,
            delete g.data),
            h = g.url,
            !1 === g.cache)) {
                var l = R.now()
                  , u = g.url.replace(ne, "$1_=" + l);
                g.url = u + (u === g.url ? (Zt.test(g.url) ? "&" : "?") + "_=" + l : "")
            }
            for (r in (g.data && g.hasContent && !1 !== g.contentType || e.contentType) && k.setRequestHeader("Content-Type", g.contentType),
            g.ifModified && (h = h || g.url,
            R.lastModified[h] && k.setRequestHeader("If-Modified-Since", R.lastModified[h]),
            R.etag[h] && k.setRequestHeader("If-None-Match", R.etag[h])),
            k.setRequestHeader("Accept", g.dataTypes[0] && g.accepts[g.dataTypes[0]] ? g.accepts[g.dataTypes[0]] + ("*" !== g.dataTypes[0] ? ", " + le + "; q=0.01" : "") : g.accepts["*"]),
            g.headers)
                k.setRequestHeader(r, g.headers[r]);
            if (g.beforeSend && (!1 === g.beforeSend.call(y, k, g) || 2 === x))
                return k.abort(),
                !1;
            for (r in {
                success: 1,
                error: 1,
                complete: 1
            })
                k[r](g[r]);
            if (d = C(ae, g, e, k)) {
                k.readyState = 1,
                m && _.trigger("ajaxSend", [k, g]),
                g.async && 0 < g.timeout && (f = setTimeout(function() {
                    k.abort("timeout")
                }, g.timeout));
                try {
                    x = 1,
                    d.send(o, i)
                } catch (Te) {
                    if (!(x < 2))
                        throw Te;
                    i(-1, Te)
                }
            } else
                i(-1, "No Transport");
            return k
        },
        param: function(t, e) {
            var i = []
              , n = function(t, e) {
                e = R.isFunction(e) ? e() : e,
                i[i.length] = encodeURIComponent(t) + "=" + encodeURIComponent(e)
            };
            if (e === I && (e = R.ajaxSettings.traditional),
            R.isArray(t) || t.jquery && !R.isPlainObject(t))
                R.each(t, function() {
                    n(this.name, this.value)
                });
            else
                for (var s in t)
                    y(s, t[s], e, n);
            return i.join("&").replace(jt, "+")
        }
    }),
    R.extend({
        active: 0,
        lastModified: {},
        etag: {}
    });
    var ue = R.now()
      , ce = /(\=)\?(&|$)|\?\?/i;
    R.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            return R.expando + "_" + ue++
        }
    }),
    R.ajaxPrefilter("json jsonp", function(t, e, i) {
        var n = "string" == typeof t.data && /^application\/x\-www\-form\-urlencoded/.test(t.contentType);
        if ("jsonp" === t.dataTypes[0] || !1 !== t.jsonp && (ce.test(t.url) || n && ce.test(t.data))) {
            var s, r = t.jsonpCallback = R.isFunction(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, o = E[r], a = t.url, l = t.data, u = "$1" + r + "$2";
            return !1 !== t.jsonp && (a = a.replace(ce, u),
            t.url === a && (n && (l = l.replace(ce, u)),
            t.data === l && (a += (/\?/.test(a) ? "&" : "?") + t.jsonp + "=" + r))),
            t.url = a,
            t.data = l,
            E[r] = function(t) {
                s = [t]
            }
            ,
            i.always(function() {
                E[r] = o,
                s && R.isFunction(o) && E[r](s[0])
            }),
            t.converters["script json"] = function() {
                return s || R.error(r + " was not called"),
                s[0]
            }
            ,
            t.dataTypes[0] = "json",
            "script"
        }
    }),
    R.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /javascript|ecmascript/
        },
        converters: {
            "text script": function(t) {
                return R.globalEval(t),
                t
            }
        }
    }),
    R.ajaxPrefilter("script", function(t) {
        t.cache === I && (t.cache = !1),
        t.crossDomain && (t.type = "GET",
        t.global = !1)
    }),
    R.ajaxTransport("script", function(e) {
        if (e.crossDomain) {
            var n, s = N.head || N.getElementsByTagName("head")[0] || N.documentElement;
            return {
                send: function(t, i) {
                    (n = N.createElement("script")).async = "async",
                    e.scriptCharset && (n.charset = e.scriptCharset),
                    n.src = e.url,
                    n.onload = n.onreadystatechange = function(t, e) {
                        (e || !n.readyState || /loaded|complete/.test(n.readyState)) && (n.onload = n.onreadystatechange = null,
                        s && n.parentNode && s.removeChild(n),
                        n = I,
                        e || i(200, "success"))
                    }
                    ,
                    s.insertBefore(n, s.firstChild)
                },
                abort: function() {
                    n && n.onload(0, 1)
                }
            }
        }
    });
    var he, pe, de = !!E.ActiveXObject && function() {
        for (var t in he)
            he[t](0, 1)
    }
    , fe = 0;
    R.ajaxSettings.xhr = E.ActiveXObject ? function() {
        return !this.isLocal && v() || x()
    }
    : v,
    pe = R.ajaxSettings.xhr(),
    R.extend(R.support, {
        ajax: !!pe,
        cors: !!pe && "withCredentials"in pe
    }),
    R.support.ajax && R.ajaxTransport(function(h) {
        var p;
        if (!h.crossDomain || R.support.cors)
            return {
                send: function(t, l) {
                    var u, e, c = h.xhr();
                    if (h.username ? c.open(h.type, h.url, h.async, h.username, h.password) : c.open(h.type, h.url, h.async),
                    h.xhrFields)
                        for (e in h.xhrFields)
                            c[e] = h.xhrFields[e];
                    h.mimeType && c.overrideMimeType && c.overrideMimeType(h.mimeType),
                    h.crossDomain || t["X-Requested-With"] || (t["X-Requested-With"] = "XMLHttpRequest");
                    try {
                        for (e in t)
                            c.setRequestHeader(e, t[e])
                    } catch (_) {}
                    c.send(h.hasContent && h.data || null),
                    p = function(t, e) {
                        var i, n, s, r, o;
                        try {
                            if (p && (e || 4 === c.readyState))
                                if (p = I,
                                u && (c.onreadystatechange = R.noop,
                                de && delete he[u]),
                                e)
                                    4 !== c.readyState && c.abort();
                                else {
                                    i = c.status,
                                    s = c.getAllResponseHeaders(),
                                    r = {},
                                    (o = c.responseXML) && o.documentElement && (r.xml = o);
                                    try {
                                        r.text = c.responseText
                                    } catch (t) {}
                                    try {
                                        n = c.statusText
                                    } catch (Te) {
                                        n = ""
                                    }
                                    i || !h.isLocal || h.crossDomain ? 1223 === i && (i = 204) : i = r.text ? 200 : 404
                                }
                        } catch (a) {
                            e || l(-1, a)
                        }
                        r && l(i, n, r, s)
                    }
                    ,
                    h.async && 4 !== c.readyState ? (u = ++fe,
                    de && (he || (he = {},
                    R(E).unload(de)),
                    he[u] = p),
                    c.onreadystatechange = p) : p()
                },
                abort: function() {
                    p && p(0, 1)
                }
            }
    });
    var me, ge, ye, _e, ve = {}, we = /^(?:toggle|show|hide)$/, be = /^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i, xe = [["height", "marginTop", "marginBottom", "paddingTop", "paddingBottom"], ["width", "marginLeft", "marginRight", "paddingLeft", "paddingRight"], ["opacity"]];
    R.fn.extend({
        show: function(t, e, i) {
            var n, s;
            if (t || 0 === t)
                return this.animate(D("show", 3), t, e, i);
            for (var r = 0, o = this.length; r < o; r++)
                (n = this[r]).style && (s = n.style.display,
                R._data(n, "olddisplay") || "none" !== s || (s = n.style.display = ""),
                ("" === s && "none" === R.css(n, "display") || !R.contains(n.ownerDocument.documentElement, n)) && R._data(n, "olddisplay", M(n.nodeName)));
            for (r = 0; r < o; r++)
                (n = this[r]).style && ("" !== (s = n.style.display) && "none" !== s || (n.style.display = R._data(n, "olddisplay") || ""));
            return this
        },
        hide: function(t, e, i) {
            if (t || 0 === t)
                return this.animate(D("hide", 3), t, e, i);
            for (var n, s, r = 0, o = this.length; r < o; r++)
                (n = this[r]).style && ("none" === (s = R.css(n, "display")) || R._data(n, "olddisplay") || R._data(n, "olddisplay", s));
            for (r = 0; r < o; r++)
                this[r].style && (this[r].style.display = "none");
            return this
        },
        _toggle: R.fn.toggle,
        toggle: function(e, t, i) {
            var n = "boolean" == typeof e;
            return R.isFunction(e) && R.isFunction(t) ? this._toggle.apply(this, arguments) : null == e || n ? this.each(function() {
                var t = n ? e : R(this).is(":hidden");
                R(this)[t ? "show" : "hide"]()
            }) : this.animate(D("toggle", 3), e, t, i),
            this
        },
        fadeTo: function(t, e, i, n) {
            return this.filter(":hidden").css("opacity", 0).show().end().animate({
                opacity: e
            }, t, i, n)
        },
        animate: function(f, t, e, i) {
            function n() {
                !1 === m.queue && R._mark(this);
                var t, e, i, n, s, r, o, a, l, u, c, h = R.extend({}, m), p = 1 === this.nodeType, d = p && R(this).is(":hidden");
                for (i in h.animatedProperties = {},
                f)
                    if (i !== (t = R.camelCase(i)) && (f[t] = f[i],
                    delete f[i]),
                    (s = R.cssHooks[t]) && "expand"in s)
                        for (i in r = s.expand(f[t]),
                        delete f[t],
                        r)
                            i in f || (f[i] = r[i]);
                for (t in f) {
                    if (e = f[t],
                    R.isArray(e) ? (h.animatedProperties[t] = e[1],
                    e = f[t] = e[0]) : h.animatedProperties[t] = h.specialEasing && h.specialEasing[t] || h.easing || "swing",
                    "hide" === e && d || "show" === e && !d)
                        return h.complete.call(this);
                    !p || "height" !== t && "width" !== t || (h.overflow = [this.style.overflow, this.style.overflowX, this.style.overflowY],
                    "inline" === R.css(this, "display") && "none" === R.css(this, "float") && (R.support.inlineBlockNeedsLayout && "inline" !== M(this.nodeName) ? this.style.zoom = 1 : this.style.display = "inline-block"))
                }
                for (i in null != h.overflow && (this.style.overflow = "hidden"),
                f)
                    n = new R.fx(this,h,i),
                    e = f[i],
                    we.test(e) ? (c = R._data(this, "toggle" + i) || ("toggle" === e ? d ? "show" : "hide" : 0)) ? (R._data(this, "toggle" + i, "show" === c ? "hide" : "show"),
                    n[c]()) : n[e]() : (o = be.exec(e),
                    a = n.cur(),
                    o ? (l = parseFloat(o[2]),
                    "px" !== (u = o[3] || (R.cssNumber[i] ? "" : "px")) && (R.style(this, i, (l || 1) + u),
                    a = (l || 1) / n.cur() * a,
                    R.style(this, i, a + u)),
                    o[1] && (l = ("-=" === o[1] ? -1 : 1) * l + a),
                    n.custom(a, l, u)) : n.custom(a, e, ""));
                return !0
            }
            var m = R.speed(t, e, i);
            return R.isEmptyObject(f) ? this.each(m.complete, [!1]) : (f = R.extend({}, f),
            !1 === m.queue ? this.each(n) : this.queue(m.queue, n))
        },
        stop: function(r, t, o) {
            return "string" != typeof r && (o = t,
            t = r,
            r = I),
            t && !1 !== r && this.queue(r || "fx", []),
            this.each(function() {
                function t(t, e, i) {
                    var n = e[i];
                    R.removeData(t, i, !0),
                    n.stop(o)
                }
                var e, i = !1, n = R.timers, s = R._data(this);
                if (o || R._unmark(!0, this),
                null == r)
                    for (e in s)
                        s[e] && s[e].stop && e.indexOf(".run") === e.length - 4 && t(this, s, e);
                else
                    s[e = r + ".run"] && s[e].stop && t(this, s, e);
                for (e = n.length; e--; )
                    n[e].elem !== this || null != r && n[e].queue !== r || (o ? n[e](!0) : n[e].saveState(),
                    i = !0,
                    n.splice(e, 1));
                o && i || R.dequeue(this, r)
            })
        }
    }),
    R.each({
        slideDown: D("show", 1),
        slideUp: D("hide", 1),
        slideToggle: D("toggle", 1),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(t, n) {
        R.fn[t] = function(t, e, i) {
            return this.animate(n, t, e, i)
        }
    }),
    R.extend({
        speed: function(t, e, i) {
            var n = t && "object" == typeof t ? R.extend({}, t) : {
                complete: i || !i && e || R.isFunction(t) && t,
                duration: t,
                easing: i && e || e && !R.isFunction(e) && e
            };
            return n.duration = R.fx.off ? 0 : "number" == typeof n.duration ? n.duration : n.duration in R.fx.speeds ? R.fx.speeds[n.duration] : R.fx.speeds._default,
            null != n.queue && !0 !== n.queue || (n.queue = "fx"),
            n.old = n.complete,
            n.complete = function(t) {
                R.isFunction(n.old) && n.old.call(this),
                n.queue ? R.dequeue(this, n.queue) : !1 !== t && R._unmark(this)
            }
            ,
            n
        },
        easing: {
            linear: function(t) {
                return t
            },
            swing: function(t) {
                return -Math.cos(t * Math.PI) / 2 + .5
            }
        },
        timers: [],
        fx: function(t, e, i) {
            this.options = e,
            this.elem = t,
            this.prop = i,
            e.orig = e.orig || {}
        }
    }),
    R.fx.prototype = {
        update: function() {
            this.options.step && this.options.step.call(this.elem, this.now, this),
            (R.fx.step[this.prop] || R.fx.step._default)(this)
        },
        cur: function() {
            if (null != this.elem[this.prop] && (!this.elem.style || null == this.elem.style[this.prop]))
                return this.elem[this.prop];
            var t, e = R.css(this.elem, this.prop);
            return isNaN(t = parseFloat(e)) ? e && "auto" !== e ? e : 0 : t
        },
        custom: function(t, e, i) {
            function n(t) {
                return s.step(t)
            }
            var s = this
              , r = R.fx;
            this.startTime = _e || k(),
            this.end = e,
            this.now = this.start = t,
            this.pos = this.state = 0,
            this.unit = i || this.unit || (R.cssNumber[this.prop] ? "" : "px"),
            n.queue = this.options.queue,
            n.elem = this.elem,
            n.saveState = function() {
                R._data(s.elem, "fxshow" + s.prop) === I && (s.options.hide ? R._data(s.elem, "fxshow" + s.prop, s.start) : s.options.show && R._data(s.elem, "fxshow" + s.prop, s.end))
            }
            ,
            n() && R.timers.push(n) && !ye && (ye = setInterval(r.tick, r.interval))
        },
        show: function() {
            var t = R._data(this.elem, "fxshow" + this.prop);
            this.options.orig[this.prop] = t || R.style(this.elem, this.prop),
            this.options.show = !0,
            t !== I ? this.custom(this.cur(), t) : this.custom("width" === this.prop || "height" === this.prop ? 1 : 0, this.cur()),
            R(this.elem).show()
        },
        hide: function() {
            this.options.orig[this.prop] = R._data(this.elem, "fxshow" + this.prop) || R.style(this.elem, this.prop),
            this.options.hide = !0,
            this.custom(this.cur(), 0)
        },
        step: function(t) {
            var e, i, n, s = _e || k(), r = !0, o = this.elem, a = this.options;
            if (t || s >= a.duration + this.startTime) {
                for (e in this.now = this.end,
                this.pos = this.state = 1,
                this.update(),
                a.animatedProperties[this.prop] = !0,
                a.animatedProperties)
                    !0 !== a.animatedProperties[e] && (r = !1);
                if (r) {
                    if (null == a.overflow || R.support.shrinkWrapBlocks || R.each(["", "X", "Y"], function(t, e) {
                        o.style["overflow" + e] = a.overflow[t]
                    }),
                    a.hide && R(o).hide(),
                    a.hide || a.show)
                        for (e in a.animatedProperties)
                            R.style(o, e, a.orig[e]),
                            R.removeData(o, "fxshow" + e, !0),
                            R.removeData(o, "toggle" + e, !0);
                    (n = a.complete) && (a.complete = !1,
                    n.call(o))
                }
                return !1
            }
            return a.duration == Infinity ? this.now = s : (i = s - this.startTime,
            this.state = i / a.duration,
            this.pos = R.easing[a.animatedProperties[this.prop]](this.state, i, 0, 1, a.duration),
            this.now = this.start + (this.end - this.start) * this.pos),
            this.update(),
            !0
        }
    },
    R.extend(R.fx, {
        tick: function() {
            for (var t, e = R.timers, i = 0; i < e.length; i++)
                (t = e[i])() || e[i] !== t || e.splice(i--, 1);
            e.length || R.fx.stop()
        },
        interval: 13,
        stop: function() {
            clearInterval(ye),
            ye = null
        },
        speeds: {
            slow: 600,
            fast: 200,
            _default: 400
        },
        step: {
            opacity: function(t) {
                R.style(t.elem, "opacity", t.now)
            },
            _default: function(t) {
                t.elem.style && null != t.elem.style[t.prop] ? t.elem.style[t.prop] = t.now + t.unit : t.elem[t.prop] = t.now
            }
        }
    }),
    R.each(xe.concat.apply([], xe), function(t, e) {
        e.indexOf("margin") && (R.fx.step[e] = function(t) {
            R.style(t.elem, e, Math.max(0, t.now) + t.unit)
        }
        )
    }),
    R.expr && R.expr.filters && (R.expr.filters.animated = function(e) {
        return R.grep(R.timers, function(t) {
            return e === t.elem
        }).length
    }
    );
    var ke, Ce = /^t(?:able|d|h)$/i, Se = /^(?:body|html)$/i;
    ke = "getBoundingClientRect"in N.documentElement ? function(t, e, i, n) {
        try {
            n = t.getBoundingClientRect()
        } catch (Te) {}
        if (!n || !R.contains(i, t))
            return n ? {
                top: n.top,
                left: n.left
            } : {
                top: 0,
                left: 0
            };
        var s = e.body
          , r = q(e)
          , o = i.clientTop || s.clientTop || 0
          , a = i.clientLeft || s.clientLeft || 0
          , l = r.pageYOffset || R.support.boxModel && i.scrollTop || s.scrollTop
          , u = r.pageXOffset || R.support.boxModel && i.scrollLeft || s.scrollLeft;
        return {
            top: n.top + l - o,
            left: n.left + u - a
        }
    }
    : function(t, e, i) {
        for (var n, s = t.offsetParent, r = e.body, o = e.defaultView, a = o ? o.getComputedStyle(t, null) : t.currentStyle, l = t.offsetTop, u = t.offsetLeft; (t = t.parentNode) && t !== r && t !== i && (!R.support.fixedPosition || "fixed" !== a.position); )
            n = o ? o.getComputedStyle(t, null) : t.currentStyle,
            l -= t.scrollTop,
            u -= t.scrollLeft,
            t === s && (l += t.offsetTop,
            u += t.offsetLeft,
            !R.support.doesNotAddBorder || R.support.doesAddBorderForTableAndCells && Ce.test(t.nodeName) || (l += parseFloat(n.borderTopWidth) || 0,
            u += parseFloat(n.borderLeftWidth) || 0),
            s,
            s = t.offsetParent),
            R.support.subtractsBorderForOverflowNotVisible && "visible" !== n.overflow && (l += parseFloat(n.borderTopWidth) || 0,
            u += parseFloat(n.borderLeftWidth) || 0),
            a = n;
        return "relative" !== a.position && "static" !== a.position || (l += r.offsetTop,
        u += r.offsetLeft),
        R.support.fixedPosition && "fixed" === a.position && (l += Math.max(i.scrollTop, r.scrollTop),
        u += Math.max(i.scrollLeft, r.scrollLeft)),
        {
            top: l,
            left: u
        }
    }
    ,
    R.fn.offset = function(e) {
        if (arguments.length)
            return e === I ? this : this.each(function(t) {
                R.offset.setOffset(this, e, t)
            });
        var t = this[0]
          , i = t && t.ownerDocument;
        return i ? t === i.body ? R.offset.bodyOffset(t) : ke(t, i, i.documentElement) : null
    }
    ,
    R.offset = {
        bodyOffset: function(t) {
            var e = t.offsetTop
              , i = t.offsetLeft;
            return R.support.doesNotIncludeMarginInBodyOffset && (e += parseFloat(R.css(t, "marginTop")) || 0,
            i += parseFloat(R.css(t, "marginLeft")) || 0),
            {
                top: e,
                left: i
            }
        },
        setOffset: function(t, e, i) {
            var n = R.css(t, "position");
            "static" === n && (t.style.position = "relative");
            var s, r, o = R(t), a = o.offset(), l = R.css(t, "top"), u = R.css(t, "left"), c = {}, h = {};
            ("absolute" === n || "fixed" === n) && -1 < R.inArray("auto", [l, u]) ? (s = (h = o.position()).top,
            r = h.left) : (s = parseFloat(l) || 0,
            r = parseFloat(u) || 0),
            R.isFunction(e) && (e = e.call(t, i, a)),
            null != e.top && (c.top = e.top - a.top + s),
            null != e.left && (c.left = e.left - a.left + r),
            "using"in e ? e.using.call(t, c) : o.css(c)
        }
    },
    R.fn.extend({
        position: function() {
            if (!this[0])
                return null;
            var t = this[0]
              , e = this.offsetParent()
              , i = this.offset()
              , n = Se.test(e[0].nodeName) ? {
                top: 0,
                left: 0
            } : e.offset();
            return i.top -= parseFloat(R.css(t, "marginTop")) || 0,
            i.left -= parseFloat(R.css(t, "marginLeft")) || 0,
            n.top += parseFloat(R.css(e[0], "borderTopWidth")) || 0,
            n.left += parseFloat(R.css(e[0], "borderLeftWidth")) || 0,
            {
                top: i.top - n.top,
                left: i.left - n.left
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var t = this.offsetParent || N.body; t && !Se.test(t.nodeName) && "static" === R.css(t, "position"); )
                    t = t.offsetParent;
                return t
            })
        }
    }),
    R.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(e, s) {
        var r = /Y/.test(s);
        R.fn[e] = function(t) {
            return R.access(this, function(t, e, i) {
                var n = q(t);
                if (i === I)
                    return n ? s in n ? n[s] : R.support.boxModel && n.document.documentElement[e] || n.document.body[e] : t[e];
                n ? n.scrollTo(r ? R(n).scrollLeft() : i, r ? i : R(n).scrollTop()) : t[e] = i
            }, e, t, arguments.length, null)
        }
    }),
    R.each({
        Height: "height",
        Width: "width"
    }, function(t, i) {
        var a = "client" + t
          , l = "scroll" + t
          , u = "offset" + t;
        R.fn["inner" + t] = function() {
            var t = this[0];
            return t ? t.style ? parseFloat(R.css(t, i, "padding")) : this[i]() : null
        }
        ,
        R.fn["outer" + t] = function(t) {
            var e = this[0];
            return e ? e.style ? parseFloat(R.css(e, i, t ? "margin" : "border")) : this[i]() : null
        }
        ,
        R.fn[i] = function(t) {
            return R.access(this, function(t, e, i) {
                var n, s, r, o;
                return R.isWindow(t) ? (s = (n = t.document).documentElement[a],
                R.support.boxModel && s || n.body && n.body[a] || s) : 9 === t.nodeType ? (n = t.documentElement)[a] >= n[l] ? n[a] : Math.max(t.body[l], n[l], t.body[u], n[u]) : i === I ? (r = R.css(t, e),
                o = parseFloat(r),
                R.isNumeric(o) ? o : r) : void R(t).css(e, i)
            }, i, t, arguments.length, null)
        }
    }),
    E.jQuery = E.$ = R,
    "function" == typeof define && define.amd && define.amd.jQuery && define("jquery", [], function() {
        return R
    })
}(window),
function(t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : t(jQuery)
}(function(D) {
    function n(t, e) {
        var i, n, s, r = t.nodeName.toLowerCase();
        return "area" === r ? (n = (i = t.parentNode).name,
        !(!t.href || !n || "map" !== i.nodeName.toLowerCase()) && (!!(s = D("img[usemap='#" + n + "']")[0]) && o(s))) : (/^(input|select|textarea|button|object)$/.test(r) ? !t.disabled : "a" === r && t.href || e) && o(t)
    }
    function o(t) {
        return D.expr.filters.visible(t) && !D(t).parents().addBack().filter(function() {
            return "hidden" === D.css(this, "visibility")
        }).length
    }
    function l(t) {
        for (var e, i; t.length && t[0] !== document; ) {
            if (("absolute" === (e = t.css("position")) || "relative" === e || "fixed" === e) && (i = parseInt(t.css("zIndex"), 10),
            !isNaN(i) && 0 !== i))
                return i;
            t = t.parent()
        }
        return 0
    }
    function t() {
        this._curInst = null,
        this._keyEvent = !1,
        this._disabledInputs = [],
        this._datepickerShowing = !1,
        this._inDialog = !1,
        this._mainDivId = "ui-datepicker-div",
        this._inlineClass = "ui-datepicker-inline",
        this._appendClass = "ui-datepicker-append",
        this._triggerClass = "ui-datepicker-trigger",
        this._dialogClass = "ui-datepicker-dialog",
        this._disableClass = "ui-datepicker-disabled",
        this._unselectableClass = "ui-datepicker-unselectable",
        this._currentClass = "ui-datepicker-current-day",
        this._dayOverClass = "ui-datepicker-days-cell-over",
        this.regional = [],
        this.regional[""] = {
            closeText: "Done",
            prevText: "Prev",
            nextText: "Next",
            currentText: "Today",
            monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            weekHeader: "Wk",
            dateFormat: "mm/dd/yy",
            firstDay: 0,
            isRTL: !1,
            showMonthAfterYear: !1,
            yearSuffix: ""
        },
        this._defaults = {
            showOn: "focus",
            showAnim: "fadeIn",
            showOptions: {},
            defaultDate: null,
            appendText: "",
            buttonText: "...",
            buttonImage: "",
            buttonImageOnly: !1,
            hideIfNoPrevNext: !1,
            navigationAsDateFormat: !1,
            gotoCurrent: !1,
            changeMonth: !1,
            changeYear: !1,
            yearRange: "c-10:c+10",
            showOtherMonths: !1,
            selectOtherMonths: !1,
            showWeek: !1,
            calculateWeek: this.iso8601Week,
            shortYearCutoff: "+10",
            minDate: null,
            maxDate: null,
            duration: "fast",
            beforeShowDay: null,
            beforeShow: null,
            onSelect: null,
            onChangeMonthYear: null,
            onClose: null,
            numberOfMonths: 1,
            showCurrentAtPos: 0,
            stepMonths: 1,
            stepBigMonths: 12,
            altField: "",
            altFormat: "",
            constrainInput: !0,
            showButtonPanel: !1,
            autoSize: !1,
            disabled: !1
        },
        D.extend(this._defaults, this.regional[""]),
        this.regional.en = D.extend(!0, {}, this.regional[""]),
        this.regional["en-US"] = D.extend(!0, {}, this.regional.en),
        this.dpDiv = i(D("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
    }
    function i(t) {
        var e = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
        return t.delegate(e, "mouseout", function() {
            D(this).removeClass("ui-state-hover"),
            -1 !== this.className.indexOf("ui-datepicker-prev") && D(this).removeClass("ui-datepicker-prev-hover"),
            -1 !== this.className.indexOf("ui-datepicker-next") && D(this).removeClass("ui-datepicker-next-hover")
        }).delegate(e, "mouseover", a)
    }
    function a() {
        D.datepicker._isDisabledDatepicker(b.inline ? b.dpDiv.parent()[0] : b.input[0]) || (D(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),
        D(this).addClass("ui-state-hover"),
        -1 !== this.className.indexOf("ui-datepicker-prev") && D(this).addClass("ui-datepicker-prev-hover"),
        -1 !== this.className.indexOf("ui-datepicker-next") && D(this).addClass("ui-datepicker-next-hover"))
    }
    function h(t, e) {
        for (var i in D.extend(t, e),
        e)
            null == e[i] && (t[i] = e[i]);
        return t
    }
    function e(e) {
        return function() {
            var t = this.element.val();
            e.apply(this, arguments),
            this._refresh(),
            t !== this.element.val() && this._trigger("change")
        }
    }
    var s, r, u, c;
    D.ui = D.ui || {},
    D.extend(D.ui, {
        version: "1.11.4",
        keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    }),
    D.fn.extend({
        scrollParent: function(t) {
            var e = this.css("position")
              , i = "absolute" === e
              , n = t ? /(auto|scroll|hidden)/ : /(auto|scroll)/
              , s = this.parents().filter(function() {
                var t = D(this);
                return (!i || "static" !== t.css("position")) && n.test(t.css("overflow") + t.css("overflow-y") + t.css("overflow-x"))
            }).eq(0);
            return "fixed" !== e && s.length ? s : D(this[0].ownerDocument || document)
        },
        uniqueId: (s = 0,
        function() {
            return this.each(function() {
                this.id || (this.id = "ui-id-" + ++s)
            })
        }
        ),
        removeUniqueId: function() {
            return this.each(function() {
                /^ui-id-\d+$/.test(this.id) && D(this).removeAttr("id")
            })
        }
    }),
    D.extend(D.expr[":"], {
        data: D.expr.createPseudo ? D.expr.createPseudo(function(e) {
            return function(t) {
                return !!D.data(t, e)
            }
        }) : function(t, e, i) {
            return !!D.data(t, i[3])
        }
        ,
        focusable: function(t) {
            return n(t, !isNaN(D.attr(t, "tabindex")))
        },
        tabbable: function(t) {
            var e = D.attr(t, "tabindex")
              , i = isNaN(e);
            return (i || 0 <= e) && n(t, !i)
        }
    }),
    D("<a>").outerWidth(1).jquery || D.each(["Width", "Height"], function(t, i) {
        function n(t, e, i, n) {
            return D.each(s, function() {
                e -= parseFloat(D.css(t, "padding" + this)) || 0,
                i && (e -= parseFloat(D.css(t, "border" + this + "Width")) || 0),
                n && (e -= parseFloat(D.css(t, "margin" + this)) || 0)
            }),
            e
        }
        var s = "Width" === i ? ["Left", "Right"] : ["Top", "Bottom"]
          , r = i.toLowerCase()
          , o = {
            innerWidth: D.fn.innerWidth,
            innerHeight: D.fn.innerHeight,
            outerWidth: D.fn.outerWidth,
            outerHeight: D.fn.outerHeight
        };
        D.fn["inner" + i] = function(t) {
            return t === undefined ? o["inner" + i].call(this) : this.each(function() {
                D(this).css(r, n(this, t) + "px")
            })
        }
        ,
        D.fn["outer" + i] = function(t, e) {
            return "number" != typeof t ? o["outer" + i].call(this, t) : this.each(function() {
                D(this).css(r, n(this, t, !0, e) + "px")
            })
        }
    }),
    D.fn.addBack || (D.fn.addBack = function(t) {
        return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
    }
    ),
    D("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (D.fn.removeData = (r = D.fn.removeData,
    function(t) {
        return arguments.length ? r.call(this, D.camelCase(t)) : r.call(this)
    }
    )),
    D.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),
    D.fn.extend({
        focus: (c = D.fn.focus,
        function(e, i) {
            return "number" == typeof e ? this.each(function() {
                var t = this;
                setTimeout(function() {
                    D(t).focus(),
                    i && i.call(t)
                }, e)
            }) : c.apply(this, arguments)
        }
        ),
        disableSelection: (u = "onselectstart"in document.createElement("div") ? "selectstart" : "mousedown",
        function() {
            return this.bind(u + ".ui-disableSelection", function(t) {
                t.preventDefault()
            })
        }
        ),
        enableSelection: function() {
            return this.unbind(".ui-disableSelection")
        },
        zIndex: function(t) {
            if (t !== undefined)
                return this.css("zIndex", t);
            if (this.length)
                for (var e, i, n = D(this[0]); n.length && n[0] !== document; ) {
                    if (("absolute" === (e = n.css("position")) || "relative" === e || "fixed" === e) && (i = parseInt(n.css("zIndex"), 10),
                    !isNaN(i) && 0 !== i))
                        return i;
                    n = n.parent()
                }
            return 0
        }
    }),
    D.ui.plugin = {
        add: function(t, e, i) {
            var n, s = D.ui[t].prototype;
            for (n in i)
                s.plugins[n] = s.plugins[n] || [],
                s.plugins[n].push([e, i[n]])
        },
        call: function(t, e, i, n) {
            var s, r = t.plugins[e];
            if (r && (n || t.element[0].parentNode && 11 !== t.element[0].parentNode.nodeType))
                for (s = 0; s < r.length; s++)
                    t.options[r[s][0]] && r[s][1].apply(t.element, i)
        }
    };
    var p, d = 0, f = Array.prototype.slice;
    D.cleanData = (p = D.cleanData,
    function(t) {
        var e, i, n;
        for (n = 0; null != (i = t[n]); n++)
            try {
                (e = D._data(i, "events")) && e.remove && D(i).triggerHandler("remove")
            } catch (s) {}
        p(t)
    }
    ),
    D.widget = function(t, i, e) {
        var n, s, r, o, a = {}, l = t.split(".")[0];
        return t = t.split(".")[1],
        n = l + "-" + t,
        e || (e = i,
        i = D.Widget),
        D.expr[":"][n.toLowerCase()] = function(t) {
            return !!D.data(t, n)
        }
        ,
        D[l] = D[l] || {},
        s = D[l][t],
        r = D[l][t] = function(t, e) {
            if (!this._createWidget)
                return new r(t,e);
            arguments.length && this._createWidget(t, e)
        }
        ,
        D.extend(r, s, {
            version: e.version,
            _proto: D.extend({}, e),
            _childConstructors: []
        }),
        (o = new i).options = D.widget.extend({}, o.options),
        D.each(e, function(e, n) {
            var s, r;
            D.isFunction(n) ? a[e] = (s = function() {
                return i.prototype[e].apply(this, arguments)
            }
            ,
            r = function(t) {
                return i.prototype[e].apply(this, t)
            }
            ,
            function() {
                var t, e = this._super, i = this._superApply;
                return this._super = s,
                this._superApply = r,
                t = n.apply(this, arguments),
                this._super = e,
                this._superApply = i,
                t
            }
            ) : a[e] = n
        }),
        r.prototype = D.widget.extend(o, {
            widgetEventPrefix: s && o.widgetEventPrefix || t
        }, a, {
            constructor: r,
            namespace: l,
            widgetName: t,
            widgetFullName: n
        }),
        s ? (D.each(s._childConstructors, function(t, e) {
            var i = e.prototype;
            D.widget(i.namespace + "." + i.widgetName, r, e._proto)
        }),
        delete s._childConstructors) : i._childConstructors.push(r),
        D.widget.bridge(t, r),
        r
    }
    ,
    D.widget.extend = function(t) {
        for (var e, i, n = f.call(arguments, 1), s = 0, r = n.length; s < r; s++)
            for (e in n[s])
                i = n[s][e],
                n[s].hasOwnProperty(e) && i !== undefined && (D.isPlainObject(i) ? t[e] = D.isPlainObject(t[e]) ? D.widget.extend({}, t[e], i) : D.widget.extend({}, i) : t[e] = i);
        return t
    }
    ,
    D.widget.bridge = function(r, e) {
        var o = e.prototype.widgetFullName || r;
        D.fn[r] = function(i) {
            var t = "string" == typeof i
              , n = f.call(arguments, 1)
              , s = this;
            return t ? this.each(function() {
                var t, e = D.data(this, o);
                return "instance" === i ? (s = e,
                !1) : e ? D.isFunction(e[i]) && "_" !== i.charAt(0) ? (t = e[i].apply(e, n)) !== e && t !== undefined ? (s = t && t.jquery ? s.pushStack(t.get()) : t,
                !1) : void 0 : D.error("no such method '" + i + "' for " + r + " widget instance") : D.error("cannot call methods on " + r + " prior to initialization; attempted to call method '" + i + "'")
            }) : (n.length && (i = D.widget.extend.apply(null, [i].concat(n))),
            this.each(function() {
                var t = D.data(this, o);
                t ? (t.option(i || {}),
                t._init && t._init()) : D.data(this, o, new e(i,this))
            })),
            s
        }
    }
    ,
    D.Widget = function() {}
    ,
    D.Widget._childConstructors = [],
    D.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function(t, e) {
            e = D(e || this.defaultElement || this)[0],
            this.element = D(e),
            this.uuid = d++,
            this.eventNamespace = "." + this.widgetName + this.uuid,
            this.bindings = D(),
            this.hoverable = D(),
            this.focusable = D(),
            e !== this && (D.data(e, this.widgetFullName, this),
            this._on(!0, this.element, {
                remove: function(t) {
                    t.target === e && this.destroy()
                }
            }),
            this.document = D(e.style ? e.ownerDocument : e.document || e),
            this.window = D(this.document[0].defaultView || this.document[0].parentWindow)),
            this.options = D.widget.extend({}, this.options, this._getCreateOptions(), t),
            this._create(),
            this._trigger("create", null, this._getCreateEventData()),
            this._init()
        },
        _getCreateOptions: D.noop,
        _getCreateEventData: D.noop,
        _create: D.noop,
        _init: D.noop,
        destroy: function() {
            this._destroy(),
            this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(D.camelCase(this.widgetFullName)),
            this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled"),
            this.bindings.unbind(this.eventNamespace),
            this.hoverable.removeClass("ui-state-hover"),
            this.focusable.removeClass("ui-state-focus")
        },
        _destroy: D.noop,
        widget: function() {
            return this.element
        },
        option: function(t, e) {
            var i, n, s, r = t;
            if (0 === arguments.length)
                return D.widget.extend({}, this.options);
            if ("string" == typeof t)
                if (r = {},
                t = (i = t.split(".")).shift(),
                i.length) {
                    for (n = r[t] = D.widget.extend({}, this.options[t]),
                    s = 0; s < i.length - 1; s++)
                        n[i[s]] = n[i[s]] || {},
                        n = n[i[s]];
                    if (t = i.pop(),
                    1 === arguments.length)
                        return n[t] === undefined ? null : n[t];
                    n[t] = e
                } else {
                    if (1 === arguments.length)
                        return this.options[t] === undefined ? null : this.options[t];
                    r[t] = e
                }
            return this._setOptions(r),
            this
        },
        _setOptions: function(t) {
            var e;
            for (e in t)
                this._setOption(e, t[e]);
            return this
        },
        _setOption: function(t, e) {
            return this.options[t] = e,
            "disabled" === t && (this.widget().toggleClass(this.widgetFullName + "-disabled", !!e),
            e && (this.hoverable.removeClass("ui-state-hover"),
            this.focusable.removeClass("ui-state-focus"))),
            this
        },
        enable: function() {
            return this._setOptions({
                disabled: !1
            })
        },
        disable: function() {
            return this._setOptions({
                disabled: !0
            })
        },
        _on: function(o, a, t) {
            var l, u = this;
            "boolean" != typeof o && (t = a,
            a = o,
            o = !1),
            t ? (a = l = D(a),
            this.bindings = this.bindings.add(a)) : (t = a,
            a = this.element,
            l = this.widget()),
            D.each(t, function(t, e) {
                function i() {
                    if (o || !0 !== u.options.disabled && !D(this).hasClass("ui-state-disabled"))
                        return ("string" == typeof e ? u[e] : e).apply(u, arguments)
                }
                "string" != typeof e && (i.guid = e.guid = e.guid || i.guid || D.guid++);
                var n = t.match(/^([\w:-]*)\s*(.*)$/)
                  , s = n[1] + u.eventNamespace
                  , r = n[2];
                r ? l.delegate(r, s, i) : a.bind(s, i)
            })
        },
        _off: function(t, e) {
            e = (e || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace,
            t.unbind(e).undelegate(e),
            this.bindings = D(this.bindings.not(t).get()),
            this.focusable = D(this.focusable.not(t).get()),
            this.hoverable = D(this.hoverable.not(t).get())
        },
        _delay: function(t, e) {
            function i() {
                return ("string" == typeof t ? n[t] : t).apply(n, arguments)
            }
            var n = this;
            return setTimeout(i, e || 0)
        },
        _hoverable: function(t) {
            this.hoverable = this.hoverable.add(t),
            this._on(t, {
                mouseenter: function(t) {
                    D(t.currentTarget).addClass("ui-state-hover")
                },
                mouseleave: function(t) {
                    D(t.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function(t) {
            this.focusable = this.focusable.add(t),
            this._on(t, {
                focusin: function(t) {
                    D(t.currentTarget).addClass("ui-state-focus")
                },
                focusout: function(t) {
                    D(t.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function(t, e, i) {
            var n, s, r = this.options[t];
            if (i = i || {},
            (e = D.Event(e)).type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(),
            e.target = this.element[0],
            s = e.originalEvent)
                for (n in s)
                    n in e || (e[n] = s[n]);
            return this.element.trigger(e, i),
            !(D.isFunction(r) && !1 === r.apply(this.element[0], [e].concat(i)) || e.isDefaultPrevented())
        }
    },
    D.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(r, o) {
        D.Widget.prototype["_" + r] = function(e, t, i) {
            "string" == typeof t && (t = {
                effect: t
            });
            var n, s = t ? !0 === t || "number" == typeof t ? o : t.effect || o : r;
            "number" == typeof (t = t || {}) && (t = {
                duration: t
            }),
            n = !D.isEmptyObject(t),
            t.complete = i,
            t.delay && e.delay(t.delay),
            n && D.effects && D.effects.effect[s] ? e[r](t) : s !== r && e[s] ? e[s](t.duration, t.easing, i) : e.queue(function(t) {
                D(this)[r](),
                i && i.call(e[0]),
                t()
            })
        }
    });
    D.widget;
    var m = !1;
    D(document).mouseup(function() {
        m = !1
    });
    D.widget("ui.mouse", {
        version: "1.11.4",
        options: {
            cancel: "input,textarea,button,select,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var e = this;
            this.element.bind("mousedown." + this.widgetName, function(t) {
                return e._mouseDown(t)
            }).bind("click." + this.widgetName, function(t) {
                if (!0 === D.data(t.target, e.widgetName + ".preventClickEvent"))
                    return D.removeData(t.target, e.widgetName + ".preventClickEvent"),
                    t.stopImmediatePropagation(),
                    !1
            }),
            this.started = !1
        },
        _mouseDestroy: function() {
            this.element.unbind("." + this.widgetName),
            this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function(t) {
            if (!m) {
                this._mouseMoved = !1,
                this._mouseStarted && this._mouseUp(t),
                this._mouseDownEvent = t;
                var e = this
                  , i = 1 === t.which
                  , n = !("string" != typeof this.options.cancel || !t.target.nodeName) && D(t.target).closest(this.options.cancel).length;
                return !(i && !n && this._mouseCapture(t)) || (this.mouseDelayMet = !this.options.delay,
                this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
                    e.mouseDelayMet = !0
                }, this.options.delay)),
                this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = !1 !== this._mouseStart(t),
                !this._mouseStarted) ? (t.preventDefault(),
                !0) : (!0 === D.data(t.target, this.widgetName + ".preventClickEvent") && D.removeData(t.target, this.widgetName + ".preventClickEvent"),
                this._mouseMoveDelegate = function(t) {
                    return e._mouseMove(t)
                }
                ,
                this._mouseUpDelegate = function(t) {
                    return e._mouseUp(t)
                }
                ,
                this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate),
                t.preventDefault(),
                m = !0))
            }
        },
        _mouseMove: function(t) {
            if (this._mouseMoved) {
                if (D.ui.ie && (!document.documentMode || document.documentMode < 9) && !t.button)
                    return this._mouseUp(t);
                if (!t.which)
                    return this._mouseUp(t)
            }
            return (t.which || t.button) && (this._mouseMoved = !0),
            this._mouseStarted ? (this._mouseDrag(t),
            t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = !1 !== this._mouseStart(this._mouseDownEvent, t),
            this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)),
            !this._mouseStarted)
        },
        _mouseUp: function(t) {
            return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate),
            this._mouseStarted && (this._mouseStarted = !1,
            t.target === this._mouseDownEvent.target && D.data(t.target, this.widgetName + ".preventClickEvent", !0),
            this._mouseStop(t)),
            m = !1
        },
        _mouseDistanceMet: function(t) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - t.pageX), Math.abs(this._mouseDownEvent.pageY - t.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function() {
            return this.mouseDelayMet
        },
        _mouseStart: function() {},
        _mouseDrag: function() {},
        _mouseStop: function() {},
        _mouseCapture: function() {
            return !0
        }
    });
    !function() {
        function x(t, e, i) {
            return [parseFloat(t[0]) * (l.test(t[0]) ? e / 100 : 1), parseFloat(t[1]) * (l.test(t[1]) ? i / 100 : 1)]
        }
        function k(t, e) {
            return parseInt(D.css(t, e), 10) || 0
        }
        function e(t) {
            var e = t[0];
            return 9 === e.nodeType ? {
                width: t.width(),
                height: t.height(),
                offset: {
                    top: 0,
                    left: 0
                }
            } : D.isWindow(e) ? {
                width: t.width(),
                height: t.height(),
                offset: {
                    top: t.scrollTop(),
                    left: t.scrollLeft()
                }
            } : e.preventDefault ? {
                width: 0,
                height: 0,
                offset: {
                    top: e.pageY,
                    left: e.pageX
                }
            } : {
                width: t.outerWidth(),
                height: t.outerHeight(),
                offset: t.offset()
            }
        }
        D.ui = D.ui || {};
        var s, C, S = Math.max, T = Math.abs, A = Math.round, n = /left|center|right/, r = /top|center|bottom/, o = /[\+\-]\d+(\.[\d]+)?%?/, a = /^\w+/, l = /%$/, i = D.fn.position;
        D.position = {
            scrollbarWidth: function() {
                if (s !== undefined)
                    return s;
                var t, e, i = D("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"), n = i.children()[0];
                return D("body").append(i),
                t = n.offsetWidth,
                i.css("overflow", "scroll"),
                t === (e = n.offsetWidth) && (e = i[0].clientWidth),
                i.remove(),
                s = t - e
            },
            getScrollInfo: function(t) {
                var e = t.isWindow || t.isDocument ? "" : t.element.css("overflow-x")
                  , i = t.isWindow || t.isDocument ? "" : t.element.css("overflow-y")
                  , n = "scroll" === e || "auto" === e && t.width < t.element[0].scrollWidth;
                return {
                    width: "scroll" === i || "auto" === i && t.height < t.element[0].scrollHeight ? D.position.scrollbarWidth() : 0,
                    height: n ? D.position.scrollbarWidth() : 0
                }
            },
            getWithinInfo: function(t) {
                var e = D(t || window)
                  , i = D.isWindow(e[0])
                  , n = !!e[0] && 9 === e[0].nodeType;
                return {
                    element: e,
                    isWindow: i,
                    isDocument: n,
                    offset: e.offset() || {
                        left: 0,
                        top: 0
                    },
                    scrollLeft: e.scrollLeft(),
                    scrollTop: e.scrollTop(),
                    width: i || n ? e.width() : e.outerWidth(),
                    height: i || n ? e.height() : e.outerHeight()
                }
            }
        },
        D.fn.position = function(h) {
            if (!h || !h.of)
                return i.apply(this, arguments);
            h = D.extend({}, h);
            var p, d, f, m, g, t, y = D(h.of), _ = D.position.getWithinInfo(h.within), v = D.position.getScrollInfo(_), w = (h.collision || "flip").split(" "), b = {};
            return t = e(y),
            y[0].preventDefault && (h.at = "left top"),
            d = t.width,
            f = t.height,
            m = t.offset,
            g = D.extend({}, m),
            D.each(["my", "at"], function() {
                var t, e, i = (h[this] || "").split(" ");
                1 === i.length && (i = n.test(i[0]) ? i.concat(["center"]) : r.test(i[0]) ? ["center"].concat(i) : ["center", "center"]),
                i[0] = n.test(i[0]) ? i[0] : "center",
                i[1] = r.test(i[1]) ? i[1] : "center",
                t = o.exec(i[0]),
                e = o.exec(i[1]),
                b[this] = [t ? t[0] : 0, e ? e[0] : 0],
                h[this] = [a.exec(i[0])[0], a.exec(i[1])[0]]
            }),
            1 === w.length && (w[1] = w[0]),
            "right" === h.at[0] ? g.left += d : "center" === h.at[0] && (g.left += d / 2),
            "bottom" === h.at[1] ? g.top += f : "center" === h.at[1] && (g.top += f / 2),
            p = x(b.at, d, f),
            g.left += p[0],
            g.top += p[1],
            this.each(function() {
                var i, t, o = D(this), a = o.outerWidth(), l = o.outerHeight(), e = k(this, "marginLeft"), n = k(this, "marginTop"), s = a + e + k(this, "marginRight") + v.width, r = l + n + k(this, "marginBottom") + v.height, u = D.extend({}, g), c = x(b.my, o.outerWidth(), o.outerHeight());
                "right" === h.my[0] ? u.left -= a : "center" === h.my[0] && (u.left -= a / 2),
                "bottom" === h.my[1] ? u.top -= l : "center" === h.my[1] && (u.top -= l / 2),
                u.left += c[0],
                u.top += c[1],
                C || (u.left = A(u.left),
                u.top = A(u.top)),
                i = {
                    marginLeft: e,
                    marginTop: n
                },
                D.each(["left", "top"], function(t, e) {
                    D.ui.position[w[t]] && D.ui.position[w[t]][e](u, {
                        targetWidth: d,
                        targetHeight: f,
                        elemWidth: a,
                        elemHeight: l,
                        collisionPosition: i,
                        collisionWidth: s,
                        collisionHeight: r,
                        offset: [p[0] + c[0], p[1] + c[1]],
                        my: h.my,
                        at: h.at,
                        within: _,
                        elem: o
                    })
                }),
                h.using && (t = function(t) {
                    var e = m.left - u.left
                      , i = e + d - a
                      , n = m.top - u.top
                      , s = n + f - l
                      , r = {
                        target: {
                            element: y,
                            left: m.left,
                            top: m.top,
                            width: d,
                            height: f
                        },
                        element: {
                            element: o,
                            left: u.left,
                            top: u.top,
                            width: a,
                            height: l
                        },
                        horizontal: i < 0 ? "left" : 0 < e ? "right" : "center",
                        vertical: s < 0 ? "top" : 0 < n ? "bottom" : "middle"
                    };
                    d < a && T(e + i) < d && (r.horizontal = "center"),
                    f < l && T(n + s) < f && (r.vertical = "middle"),
                    S(T(e), T(i)) > S(T(n), T(s)) ? r.important = "horizontal" : r.important = "vertical",
                    h.using.call(this, t, r)
                }
                ),
                o.offset(D.extend(u, {
                    using: t
                }))
            })
        }
        ,
        D.ui.position = {
            fit: {
                left: function(t, e) {
                    var i, n = e.within, s = n.isWindow ? n.scrollLeft : n.offset.left, r = n.width, o = t.left - e.collisionPosition.marginLeft, a = s - o, l = o + e.collisionWidth - r - s;
                    e.collisionWidth > r ? 0 < a && l <= 0 ? (i = t.left + a + e.collisionWidth - r - s,
                    t.left += a - i) : t.left = 0 < l && a <= 0 ? s : l < a ? s + r - e.collisionWidth : s : 0 < a ? t.left += a : 0 < l ? t.left -= l : t.left = S(t.left - o, t.left)
                },
                top: function(t, e) {
                    var i, n = e.within, s = n.isWindow ? n.scrollTop : n.offset.top, r = e.within.height, o = t.top - e.collisionPosition.marginTop, a = s - o, l = o + e.collisionHeight - r - s;
                    e.collisionHeight > r ? 0 < a && l <= 0 ? (i = t.top + a + e.collisionHeight - r - s,
                    t.top += a - i) : t.top = 0 < l && a <= 0 ? s : l < a ? s + r - e.collisionHeight : s : 0 < a ? t.top += a : 0 < l ? t.top -= l : t.top = S(t.top - o, t.top)
                }
            },
            flip: {
                left: function(t, e) {
                    var i, n, s = e.within, r = s.offset.left + s.scrollLeft, o = s.width, a = s.isWindow ? s.scrollLeft : s.offset.left, l = t.left - e.collisionPosition.marginLeft, u = l - a, c = l + e.collisionWidth - o - a, h = "left" === e.my[0] ? -e.elemWidth : "right" === e.my[0] ? e.elemWidth : 0, p = "left" === e.at[0] ? e.targetWidth : "right" === e.at[0] ? -e.targetWidth : 0, d = -2 * e.offset[0];
                    u < 0 ? ((i = t.left + h + p + d + e.collisionWidth - o - r) < 0 || i < T(u)) && (t.left += h + p + d) : 0 < c && (0 < (n = t.left - e.collisionPosition.marginLeft + h + p + d - a) || T(n) < c) && (t.left += h + p + d)
                },
                top: function(t, e) {
                    var i, n, s = e.within, r = s.offset.top + s.scrollTop, o = s.height, a = s.isWindow ? s.scrollTop : s.offset.top, l = t.top - e.collisionPosition.marginTop, u = l - a, c = l + e.collisionHeight - o - a, h = "top" === e.my[1] ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0, p = "top" === e.at[1] ? e.targetHeight : "bottom" === e.at[1] ? -e.targetHeight : 0, d = -2 * e.offset[1];
                    u < 0 ? ((n = t.top + h + p + d + e.collisionHeight - o - r) < 0 || n < T(u)) && (t.top += h + p + d) : 0 < c && (0 < (i = t.top - e.collisionPosition.marginTop + h + p + d - a) || T(i) < c) && (t.top += h + p + d)
                }
            },
            flipfit: {
                left: function() {
                    D.ui.position.flip.left.apply(this, arguments),
                    D.ui.position.fit.left.apply(this, arguments)
                },
                top: function() {
                    D.ui.position.flip.top.apply(this, arguments),
                    D.ui.position.fit.top.apply(this, arguments)
                }
            }
        },
        function() {
            var t, e, i, n, s, r = document.getElementsByTagName("body")[0], o = document.createElement("div");
            for (s in t = document.createElement(r ? "div" : "body"),
            i = {
                visibility: "hidden",
                width: 0,
                height: 0,
                border: 0,
                margin: 0,
                background: "none"
            },
            r && D.extend(i, {
                position: "absolute",
                left: "-1000px",
                top: "-1000px"
            }),
            i)
                t.style[s] = i[s];
            t.appendChild(o),
            (e = r || document.documentElement).insertBefore(t, e.firstChild),
            o.style.cssText = "position: absolute; left: 10.7432222px;",
            n = D(o).offset().left,
            C = 10 < n && n < 11,
            t.innerHTML = "",
            e.removeChild(t)
        }()
    }();
    D.ui.position,
    D.widget("ui.accordion", {
        version: "1.11.4",
        options: {
            active: 0,
            animate: {},
            collapsible: !1,
            event: "click",
            header: "> li > :first-child,> :not(li):even",
            heightStyle: "auto",
            icons: {
                activeHeader: "ui-icon-triangle-1-s",
                header: "ui-icon-triangle-1-e"
            },
            activate: null,
            beforeActivate: null
        },
        hideProps: {
            borderTopWidth: "hide",
            borderBottomWidth: "hide",
            paddingTop: "hide",
            paddingBottom: "hide",
            height: "hide"
        },
        showProps: {
            borderTopWidth: "show",
            borderBottomWidth: "show",
            paddingTop: "show",
            paddingBottom: "show",
            height: "show"
        },
        _create: function() {
            var t = this.options;
            this.prevShow = this.prevHide = D(),
            this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist"),
            t.collapsible || !1 !== t.active && null != t.active || (t.active = 0),
            this._processPanels(),
            t.active < 0 && (t.active += this.headers.length),
            this._refresh()
        },
        _getCreateEventData: function() {
            return {
                header: this.active,
                panel: this.active.length ? this.active.next() : D()
            }
        },
        _createIcons: function() {
            var t = this.options.icons;
            t && (D("<span>").addClass("ui-accordion-header-icon ui-icon " + t.header).prependTo(this.headers),
            this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),
            this.headers.addClass("ui-accordion-icons"))
        },
        _destroyIcons: function() {
            this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()
        },
        _destroy: function() {
            var t;
            this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),
            this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),
            this._destroyIcons(),
            t = this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display", "").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),
            "content" !== this.options.heightStyle && t.css("height", "")
        },
        _setOption: function(t, e) {
            "active" !== t ? ("event" === t && (this.options.event && this._off(this.headers, this.options.event),
            this._setupEvents(e)),
            this._super(t, e),
            "collapsible" !== t || e || !1 !== this.options.active || this._activate(0),
            "icons" === t && (this._destroyIcons(),
            e && this._createIcons()),
            "disabled" === t && (this.element.toggleClass("ui-state-disabled", !!e).attr("aria-disabled", e),
            this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!e))) : this._activate(e)
        },
        _keydown: function(t) {
            if (!t.altKey && !t.ctrlKey) {
                var e = D.ui.keyCode
                  , i = this.headers.length
                  , n = this.headers.index(t.target)
                  , s = !1;
                switch (t.keyCode) {
                case e.RIGHT:
                case e.DOWN:
                    s = this.headers[(n + 1) % i];
                    break;
                case e.LEFT:
                case e.UP:
                    s = this.headers[(n - 1 + i) % i];
                    break;
                case e.SPACE:
                case e.ENTER:
                    this._eventHandler(t);
                    break;
                case e.HOME:
                    s = this.headers[0];
                    break;
                case e.END:
                    s = this.headers[i - 1]
                }
                s && (D(t.target).attr("tabIndex", -1),
                D(s).attr("tabIndex", 0),
                s.focus(),
                t.preventDefault())
            }
        },
        _panelKeyDown: function(t) {
            t.keyCode === D.ui.keyCode.UP && t.ctrlKey && D(t.currentTarget).prev().focus()
        },
        refresh: function() {
            var t = this.options;
            this._processPanels(),
            !1 === t.active && !0 === t.collapsible || !this.headers.length ? (t.active = !1,
            this.active = D()) : !1 === t.active ? this._activate(0) : this.active.length && !D.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (t.active = !1,
            this.active = D()) : this._activate(Math.max(0, t.active - 1)) : t.active = this.headers.index(this.active),
            this._destroyIcons(),
            this._refresh()
        },
        _processPanels: function() {
            var t = this.headers
              , e = this.panels;
            this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),
            this.panels = this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),
            e && (this._off(t.not(this.headers)),
            this._off(e.not(this.panels)))
        },
        _refresh: function() {
            var i, t = this.options, e = t.heightStyle, n = this.element.parent();
            this.active = this._findActive(t.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),
            this.active.next().addClass("ui-accordion-content-active").show(),
            this.headers.attr("role", "tab").each(function() {
                var t = D(this)
                  , e = t.uniqueId().attr("id")
                  , i = t.next()
                  , n = i.uniqueId().attr("id");
                t.attr("aria-controls", n),
                i.attr("aria-labelledby", e)
            }).next().attr("role", "tabpanel"),
            this.headers.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }).next().attr({
                "aria-hidden": "true"
            }).hide(),
            this.active.length ? this.active.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }).next().attr({
                "aria-hidden": "false"
            }) : this.headers.eq(0).attr("tabIndex", 0),
            this._createIcons(),
            this._setupEvents(t.event),
            "fill" === e ? (i = n.height(),
            this.element.siblings(":visible").each(function() {
                var t = D(this)
                  , e = t.css("position");
                "absolute" !== e && "fixed" !== e && (i -= t.outerHeight(!0))
            }),
            this.headers.each(function() {
                i -= D(this).outerHeight(!0)
            }),
            this.headers.next().each(function() {
                D(this).height(Math.max(0, i - D(this).innerHeight() + D(this).height()))
            }).css("overflow", "auto")) : "auto" === e && (i = 0,
            this.headers.next().each(function() {
                i = Math.max(i, D(this).css("height", "").height())
            }).height(i))
        },
        _activate: function(t) {
            var e = this._findActive(t)[0];
            e !== this.active[0] && (e = e || this.active[0],
            this._eventHandler({
                target: e,
                currentTarget: e,
                preventDefault: D.noop
            }))
        },
        _findActive: function(t) {
            return "number" == typeof t ? this.headers.eq(t) : D()
        },
        _setupEvents: function(t) {
            var i = {
                keydown: "_keydown"
            };
            t && D.each(t.split(" "), function(t, e) {
                i[e] = "_eventHandler"
            }),
            this._off(this.headers.add(this.headers.next())),
            this._on(this.headers, i),
            this._on(this.headers.next(), {
                keydown: "_panelKeyDown"
            }),
            this._hoverable(this.headers),
            this._focusable(this.headers)
        },
        _eventHandler: function(t) {
            var e = this.options
              , i = this.active
              , n = D(t.currentTarget)
              , s = n[0] === i[0]
              , r = s && e.collapsible
              , o = r ? D() : n.next()
              , a = i.next()
              , l = {
                oldHeader: i,
                oldPanel: a,
                newHeader: r ? D() : n,
                newPanel: o
            };
            t.preventDefault(),
            s && !e.collapsible || !1 === this._trigger("beforeActivate", t, l) || (e.active = !r && this.headers.index(n),
            this.active = s ? D() : n,
            this._toggle(l),
            i.removeClass("ui-accordion-header-active ui-state-active"),
            e.icons && i.children(".ui-accordion-header-icon").removeClass(e.icons.activeHeader).addClass(e.icons.header),
            s || (n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
            e.icons && n.children(".ui-accordion-header-icon").removeClass(e.icons.header).addClass(e.icons.activeHeader),
            n.next().addClass("ui-accordion-content-active")))
        },
        _toggle: function(t) {
            var e = t.newPanel
              , i = this.prevShow.length ? this.prevShow : t.oldPanel;
            this.prevShow.add(this.prevHide).stop(!0, !0),
            this.prevShow = e,
            this.prevHide = i,
            this.options.animate ? this._animate(e, i, t) : (i.hide(),
            e.show(),
            this._toggleComplete(t)),
            i.attr({
                "aria-hidden": "true"
            }),
            i.prev().attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            }),
            e.length && i.length ? i.prev().attr({
                tabIndex: -1,
                "aria-expanded": "false"
            }) : e.length && this.headers.filter(function() {
                return 0 === parseInt(D(this).attr("tabIndex"), 10)
            }).attr("tabIndex", -1),
            e.attr("aria-hidden", "false").prev().attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            })
        },
        _animate: function(t, i, e) {
            var n, s, r, o = this, a = 0, l = t.css("box-sizing"), u = t.length && (!i.length || t.index() < i.index()), c = this.options.animate || {}, h = u && c.down || c, p = function() {
                o._toggleComplete(e)
            };
            return "number" == typeof h && (r = h),
            "string" == typeof h && (s = h),
            s = s || h.easing || c.easing,
            r = r || h.duration || c.duration,
            i.length ? t.length ? (n = t.show().outerHeight(),
            i.animate(this.hideProps, {
                duration: r,
                easing: s,
                step: function(t, e) {
                    e.now = Math.round(t)
                }
            }),
            void t.hide().animate(this.showProps, {
                duration: r,
                easing: s,
                complete: p,
                step: function(t, e) {
                    e.now = Math.round(t),
                    "height" !== e.prop ? "content-box" === l && (a += e.now) : "content" !== o.options.heightStyle && (e.now = Math.round(n - i.outerHeight() - a),
                    a = 0)
                }
            })) : i.animate(this.hideProps, r, s, p) : t.animate(this.showProps, r, s, p)
        },
        _toggleComplete: function(t) {
            var e = t.oldPanel;
            e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),
            e.length && (e.parent()[0].className = e.parent()[0].className),
            this._trigger("activate", null, t)
        }
    }),
    D.widget("ui.menu", {
        version: "1.11.4",
        defaultElement: "<ul>",
        delay: 300,
        options: {
            icons: {
                submenu: "ui-icon-carat-1-e"
            },
            items: "> *",
            menus: "ul",
            position: {
                my: "left-1 top",
                at: "right top"
            },
            role: "menu",
            blur: null,
            focus: null,
            select: null
        },
        _create: function() {
            this.activeMenu = this.element,
            this.mouseHandled = !1,
            this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({
                role: this.options.role,
                tabIndex: 0
            }),
            this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true"),
            this._on({
                "mousedown .ui-menu-item": function(t) {
                    t.preventDefault()
                },
                "click .ui-menu-item": function(t) {
                    var e = D(t.target);
                    !this.mouseHandled && e.not(".ui-state-disabled").length && (this.select(t),
                    t.isPropagationStopped() || (this.mouseHandled = !0),
                    e.has(".ui-menu").length ? this.expand(t) : !this.element.is(":focus") && D(this.document[0].activeElement).closest(".ui-menu").length && (this.element.trigger("focus", [!0]),
                    this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
                },
                "mouseenter .ui-menu-item": function(t) {
                    if (!this.previousFilter) {
                        var e = D(t.currentTarget);
                        e.siblings(".ui-state-active").removeClass("ui-state-active"),
                        this.focus(t, e)
                    }
                },
                mouseleave: "collapseAll",
                "mouseleave .ui-menu": "collapseAll",
                focus: function(t, e) {
                    var i = this.active || this.element.find(this.options.items).eq(0);
                    e || this.focus(t, i)
                },
                blur: function(t) {
                    this._delay(function() {
                        D.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(t)
                    })
                },
                keydown: "_keydown"
            }),
            this.refresh(),
            this._on(this.document, {
                click: function(t) {
                    this._closeOnDocumentClick(t) && this.collapseAll(t),
                    this.mouseHandled = !1
                }
            })
        },
        _destroy: function() {
            this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),
            this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function() {
                var t = D(this);
                t.data("ui-menu-submenu-carat") && t.remove()
            }),
            this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")
        },
        _keydown: function(t) {
            var e, i, n, s, r = !0;
            switch (t.keyCode) {
            case D.ui.keyCode.PAGE_UP:
                this.previousPage(t);
                break;
            case D.ui.keyCode.PAGE_DOWN:
                this.nextPage(t);
                break;
            case D.ui.keyCode.HOME:
                this._move("first", "first", t);
                break;
            case D.ui.keyCode.END:
                this._move("last", "last", t);
                break;
            case D.ui.keyCode.UP:
                this.previous(t);
                break;
            case D.ui.keyCode.DOWN:
                this.next(t);
                break;
            case D.ui.keyCode.LEFT:
                this.collapse(t);
                break;
            case D.ui.keyCode.RIGHT:
                this.active && !this.active.is(".ui-state-disabled") && this.expand(t);
                break;
            case D.ui.keyCode.ENTER:
            case D.ui.keyCode.SPACE:
                this._activate(t);
                break;
            case D.ui.keyCode.ESCAPE:
                this.collapse(t);
                break;
            default:
                r = !1,
                i = this.previousFilter || "",
                n = String.fromCharCode(t.keyCode),
                s = !1,
                clearTimeout(this.filterTimer),
                n === i ? s = !0 : n = i + n,
                e = this._filterMenuItems(n),
                (e = s && -1 !== e.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : e).length || (n = String.fromCharCode(t.keyCode),
                e = this._filterMenuItems(n)),
                e.length ? (this.focus(t, e),
                this.previousFilter = n,
                this.filterTimer = this._delay(function() {
                    delete this.previousFilter
                }, 1e3)) : delete this.previousFilter
            }
            r && t.preventDefault()
        },
        _activate: function(t) {
            this.active.is(".ui-state-disabled") || (this.active.is("[aria-haspopup='true']") ? this.expand(t) : this.select(t))
        },
        refresh: function() {
            var t, e = this, n = this.options.icons.submenu, i = this.element.find(this.options.menus);
            this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length),
            i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({
                role: this.options.role,
                "aria-hidden": "true",
                "aria-expanded": "false"
            }).each(function() {
                var t = D(this)
                  , e = t.parent()
                  , i = D("<span>").addClass("ui-menu-icon ui-icon " + n).data("ui-menu-submenu-carat", !0);
                e.attr("aria-haspopup", "true").prepend(i),
                t.attr("aria-labelledby", e.attr("id"))
            }),
            (t = i.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function() {
                var t = D(this);
                e._isDivider(t) && t.addClass("ui-widget-content ui-menu-divider")
            }),
            t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({
                tabIndex: -1,
                role: this._itemRole()
            }),
            t.filter(".ui-state-disabled").attr("aria-disabled", "true"),
            this.active && !D.contains(this.element[0], this.active[0]) && this.blur()
        },
        _itemRole: function() {
            return {
                menu: "menuitem",
                listbox: "option"
            }[this.options.role]
        },
        _setOption: function(t, e) {
            "icons" === t && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),
            "disabled" === t && this.element.toggleClass("ui-state-disabled", !!e).attr("aria-disabled", e),
            this._super(t, e)
        },
        focus: function(t, e) {
            var i, n;
            this.blur(t, t && "focus" === t.type),
            this._scrollIntoView(e),
            this.active = e.first(),
            n = this.active.addClass("ui-state-focus").removeClass("ui-state-active"),
            this.options.role && this.element.attr("aria-activedescendant", n.attr("id")),
            this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),
            t && "keydown" === t.type ? this._close() : this.timer = this._delay(function() {
                this._close()
            }, this.delay),
            (i = e.children(".ui-menu")).length && t && /^mouse/.test(t.type) && this._startOpening(i),
            this.activeMenu = e.parent(),
            this._trigger("focus", t, {
                item: e
            })
        },
        _scrollIntoView: function(t) {
            var e, i, n, s, r, o;
            this._hasScroll() && (e = parseFloat(D.css(this.activeMenu[0], "borderTopWidth")) || 0,
            i = parseFloat(D.css(this.activeMenu[0], "paddingTop")) || 0,
            n = t.offset().top - this.activeMenu.offset().top - e - i,
            s = this.activeMenu.scrollTop(),
            r = this.activeMenu.height(),
            o = t.outerHeight(),
            n < 0 ? this.activeMenu.scrollTop(s + n) : r < n + o && this.activeMenu.scrollTop(s + n - r + o))
        },
        blur: function(t, e) {
            e || clearTimeout(this.timer),
            this.active && (this.active.removeClass("ui-state-focus"),
            this.active = null,
            this._trigger("blur", t, {
                item: this.active
            }))
        },
        _startOpening: function(t) {
            clearTimeout(this.timer),
            "true" === t.attr("aria-hidden") && (this.timer = this._delay(function() {
                this._close(),
                this._open(t)
            }, this.delay))
        },
        _open: function(t) {
            var e = D.extend({
                of: this.active
            }, this.options.position);
            clearTimeout(this.timer),
            this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden", "true"),
            t.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(e)
        },
        collapseAll: function(e, i) {
            clearTimeout(this.timer),
            this.timer = this._delay(function() {
                var t = i ? this.element : D(e && e.target).closest(this.element.find(".ui-menu"));
                t.length || (t = this.element),
                this._close(t),
                this.blur(e),
                this.activeMenu = t
            }, this.delay)
        },
        _close: function(t) {
            t || (t = this.active ? this.active.parent() : this.element),
            t.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")
        },
        _closeOnDocumentClick: function(t) {
            return !D(t.target).closest(".ui-menu").length
        },
        _isDivider: function(t) {
            return !/[^\-\u2014\u2013\s]/.test(t.text())
        },
        collapse: function(t) {
            var e = this.active && this.active.parent().closest(".ui-menu-item", this.element);
            e && e.length && (this._close(),
            this.focus(t, e))
        },
        expand: function(t) {
            var e = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
            e && e.length && (this._open(e.parent()),
            this._delay(function() {
                this.focus(t, e)
            }))
        },
        next: function(t) {
            this._move("next", "first", t)
        },
        previous: function(t) {
            this._move("prev", "last", t)
        },
        isFirstItem: function() {
            return this.active && !this.active.prevAll(".ui-menu-item").length
        },
        isLastItem: function() {
            return this.active && !this.active.nextAll(".ui-menu-item").length
        },
        _move: function(t, e, i) {
            var n;
            this.active && (n = "first" === t || "last" === t ? this.active["first" === t ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[t + "All"](".ui-menu-item").eq(0)),
            n && n.length && this.active || (n = this.activeMenu.find(this.options.items)[e]()),
            this.focus(i, n)
        },
        nextPage: function(t) {
            var e, i, n;
            this.active ? this.isLastItem() || (this._hasScroll() ? (i = this.active.offset().top,
            n = this.element.height(),
            this.active.nextAll(".ui-menu-item").each(function() {
                return (e = D(this)).offset().top - i - n < 0
            }),
            this.focus(t, e)) : this.focus(t, this.activeMenu.find(this.options.items)[this.active ? "last" : "first"]())) : this.next(t)
        },
        previousPage: function(t) {
            var e, i, n;
            this.active ? this.isFirstItem() || (this._hasScroll() ? (i = this.active.offset().top,
            n = this.element.height(),
            this.active.prevAll(".ui-menu-item").each(function() {
                return 0 < (e = D(this)).offset().top - i + n
            }),
            this.focus(t, e)) : this.focus(t, this.activeMenu.find(this.options.items).first())) : this.next(t)
        },
        _hasScroll: function() {
            return this.element.outerHeight() < this.element.prop("scrollHeight")
        },
        select: function(t) {
            this.active = this.active || D(t.target).closest(".ui-menu-item");
            var e = {
                item: this.active
            };
            this.active.has(".ui-menu").length || this.collapseAll(t, !0),
            this._trigger("select", t, e)
        },
        _filterMenuItems: function(t) {
            var e = t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
              , i = new RegExp("^" + e,"i");
            return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function() {
                return i.test(D.trim(D(this).text()))
            })
        }
    });
    D.widget("ui.autocomplete", {
        version: "1.11.4",
        defaultElement: "<input>",
        options: {
            appendTo: null,
            autoFocus: !1,
            delay: 300,
            minLength: 1,
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            source: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            response: null,
            search: null,
            select: null
        },
        requestIndex: 0,
        pending: 0,
        _create: function() {
            var i, n, s, t = this.element[0].nodeName.toLowerCase(), e = "textarea" === t, r = "input" === t;
            this.isMultiLine = !!e || !r && this.element.prop("isContentEditable"),
            this.valueMethod = this.element[e || r ? "val" : "text"],
            this.isNewMenu = !0,
            this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"),
            this._on(this.element, {
                keydown: function(t) {
                    if (this.element.prop("readOnly"))
                        n = s = i = !0;
                    else {
                        n = s = i = !1;
                        var e = D.ui.keyCode;
                        switch (t.keyCode) {
                        case e.PAGE_UP:
                            i = !0,
                            this._move("previousPage", t);
                            break;
                        case e.PAGE_DOWN:
                            i = !0,
                            this._move("nextPage", t);
                            break;
                        case e.UP:
                            i = !0,
                            this._keyEvent("previous", t);
                            break;
                        case e.DOWN:
                            i = !0,
                            this._keyEvent("next", t);
                            break;
                        case e.ENTER:
                            this.menu.active && (i = !0,
                            t.preventDefault(),
                            this.menu.select(t));
                            break;
                        case e.TAB:
                            this.menu.active && this.menu.select(t);
                            break;
                        case e.ESCAPE:
                            this.menu.element.is(":visible") && (this.isMultiLine || this._value(this.term),
                            this.close(t),
                            t.preventDefault());
                            break;
                        default:
                            n = !0,
                            this._searchTimeout(t)
                        }
                    }
                },
                keypress: function(t) {
                    if (i)
                        return i = !1,
                        void (this.isMultiLine && !this.menu.element.is(":visible") || t.preventDefault());
                    if (!n) {
                        var e = D.ui.keyCode;
                        switch (t.keyCode) {
                        case e.PAGE_UP:
                            this._move("previousPage", t);
                            break;
                        case e.PAGE_DOWN:
                            this._move("nextPage", t);
                            break;
                        case e.UP:
                            this._keyEvent("previous", t);
                            break;
                        case e.DOWN:
                            this._keyEvent("next", t)
                        }
                    }
                },
                input: function(t) {
                    if (s)
                        return s = !1,
                        void t.preventDefault();
                    this._searchTimeout(t)
                },
                focus: function() {
                    this.selectedItem = null,
                    this.previous = this._value()
                },
                blur: function(t) {
                    this.cancelBlur ? delete this.cancelBlur : (clearTimeout(this.searching),
                    this.close(t),
                    this._change(t))
                }
            }),
            this._initSource(),
            this.menu = D("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({
                role: null
            }).hide().menu("instance"),
            this._on(this.menu.element, {
                mousedown: function(t) {
                    t.preventDefault(),
                    this.cancelBlur = !0,
                    this._delay(function() {
                        delete this.cancelBlur
                    });
                    var i = this.menu.element[0];
                    D(t.target).closest(".ui-menu-item").length || this._delay(function() {
                        var e = this;
                        this.document.one("mousedown", function(t) {
                            t.target === e.element[0] || t.target === i || D.contains(i, t.target) || e.close()
                        })
                    })
                },
                menufocus: function(t, e) {
                    var i, n;
                    if (this.isNewMenu && (this.isNewMenu = !1,
                    t.originalEvent && /^mouse/.test(t.originalEvent.type)))
                        return this.menu.blur(),
                        void this.document.one("mousemove", function() {
                            D(t.target).trigger(t.originalEvent)
                        });
                    n = e.item.data("ui-autocomplete-item"),
                    !1 !== this._trigger("focus", t, {
                        item: n
                    }) && t.originalEvent && /^key/.test(t.originalEvent.type) && this._value(n.value),
                    (i = e.item.attr("aria-label") || n.value) && D.trim(i).length && (this.liveRegion.children().hide(),
                    D("<div>").text(i).appendTo(this.liveRegion))
                },
                menuselect: function(t, e) {
                    var i = e.item.data("ui-autocomplete-item")
                      , n = this.previous;
                    this.element[0] !== this.document[0].activeElement && (this.element.focus(),
                    this.previous = n,
                    this._delay(function() {
                        this.previous = n,
                        this.selectedItem = i
                    })),
                    !1 !== this._trigger("select", t, {
                        item: i
                    }) && this._value(i.value),
                    this.term = this._value(),
                    this.close(t),
                    this.selectedItem = i
                }
            }),
            this.liveRegion = D("<span>", {
                role: "status",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),
            this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _destroy: function() {
            clearTimeout(this.searching),
            this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),
            this.menu.element.remove(),
            this.liveRegion.remove()
        },
        _setOption: function(t, e) {
            this._super(t, e),
            "source" === t && this._initSource(),
            "appendTo" === t && this.menu.element.appendTo(this._appendTo()),
            "disabled" === t && e && this.xhr && this.xhr.abort()
        },
        _appendTo: function() {
            var t = this.options.appendTo;
            return t && (t = t.jquery || t.nodeType ? D(t) : this.document.find(t).eq(0)),
            t && t[0] || (t = this.element.closest(".ui-front")),
            t.length || (t = this.document[0].body),
            t
        },
        _initSource: function() {
            var i, n, s = this;
            D.isArray(this.options.source) ? (i = this.options.source,
            this.source = function(t, e) {
                e(D.ui.autocomplete.filter(i, t.term))
            }
            ) : "string" == typeof this.options.source ? (n = this.options.source,
            this.source = function(t, e) {
                s.xhr && s.xhr.abort(),
                s.xhr = D.ajax({
                    url: n,
                    data: t,
                    dataType: "json",
                    success: function(t) {
                        e(t)
                    },
                    error: function() {
                        e([])
                    }
                })
            }
            ) : this.source = this.options.source
        },
        _searchTimeout: function(n) {
            clearTimeout(this.searching),
            this.searching = this._delay(function() {
                var t = this.term === this._value()
                  , e = this.menu.element.is(":visible")
                  , i = n.altKey || n.ctrlKey || n.metaKey || n.shiftKey;
                t && (!t || e || i) || (this.selectedItem = null,
                this.search(null, n))
            }, this.options.delay)
        },
        search: function(t, e) {
            return t = null != t ? t : this._value(),
            this.term = this._value(),
            t.length < this.options.minLength ? this.close(e) : !1 !== this._trigger("search", e) ? this._search(t) : void 0
        },
        _search: function(t) {
            this.pending++,
            this.element.addClass("ui-autocomplete-loading"),
            this.cancelSearch = !1,
            this.source({
                term: t
            }, this._response())
        },
        _response: function() {
            var e = ++this.requestIndex;
            return D.proxy(function(t) {
                e === this.requestIndex && this.__response(t),
                this.pending--,
                this.pending || this.element.removeClass("ui-autocomplete-loading")
            }, this)
        },
        __response: function(t) {
            t && (t = this._normalize(t)),
            this._trigger("response", null, {
                content: t
            }),
            !this.options.disabled && t && t.length && !this.cancelSearch ? (this._suggest(t),
            this._trigger("open")) : this._close()
        },
        close: function(t) {
            this.cancelSearch = !0,
            this._close(t)
        },
        _close: function(t) {
            this.menu.element.is(":visible") && (this.menu.element.hide(),
            this.menu.blur(),
            this.isNewMenu = !0,
            this._trigger("close", t))
        },
        _change: function(t) {
            this.previous !== this._value() && this._trigger("change", t, {
                item: this.selectedItem
            })
        },
        _normalize: function(t) {
            return t.length && t[0].label && t[0].value ? t : D.map(t, function(t) {
                return "string" == typeof t ? {
                    label: t,
                    value: t
                } : D.extend({}, t, {
                    label: t.label || t.value,
                    value: t.value || t.label
                })
            })
        },
        _suggest: function(t) {
            var e = this.menu.element.empty();
            this._renderMenu(e, t),
            this.isNewMenu = !0,
            this.menu.refresh(),
            e.show(),
            this._resizeMenu(),
            e.position(D.extend({
                of: this.element
            }, this.options.position)),
            this.options.autoFocus && this.menu.next()
        },
        _resizeMenu: function() {
            var t = this.menu.element;
            t.outerWidth(Math.max(t.width("").outerWidth() + 1, this.element.outerWidth()))
        },
        _renderMenu: function(i, t) {
            var n = this;
            D.each(t, function(t, e) {
                n._renderItemData(i, e)
            })
        },
        _renderItemData: function(t, e) {
            return this._renderItem(t, e).data("ui-autocomplete-item", e)
        },
        _renderItem: function(t, e) {
            return D("<li>").text(e.label).appendTo(t)
        },
        _move: function(t, e) {
            if (this.menu.element.is(":visible"))
                return this.menu.isFirstItem() && /^previous/.test(t) || this.menu.isLastItem() && /^next/.test(t) ? (this.isMultiLine || this._value(this.term),
                void this.menu.blur()) : void this.menu[t](e);
            this.search(null, e)
        },
        widget: function() {
            return this.menu.element
        },
        _value: function() {
            return this.valueMethod.apply(this.element, arguments)
        },
        _keyEvent: function(t, e) {
            this.isMultiLine && !this.menu.element.is(":visible") || (this._move(t, e),
            e.preventDefault())
        }
    }),
    D.extend(D.ui.autocomplete, {
        escapeRegex: function(t) {
            return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
        },
        filter: function(t, e) {
            var i = new RegExp(D.ui.autocomplete.escapeRegex(e),"i");
            return D.grep(t, function(t) {
                return i.test(t.label || t.value || t)
            })
        }
    }),
    D.widget("ui.autocomplete", D.ui.autocomplete, {
        options: {
            messages: {
                noResults: "No search results.",
                results: function(t) {
                    return t + (1 < t ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                }
            }
        },
        __response: function(t) {
            var e;
            this._superApply(arguments),
            this.options.disabled || this.cancelSearch || (e = t && t.length ? this.options.messages.results(t.length) : this.options.messages.noResults,
            this.liveRegion.children().hide(),
            D("<div>").text(e).appendTo(this.liveRegion))
        }
    });
    D.ui.autocomplete;
    var g, y = "ui-button ui-widget ui-state-default ui-corner-all", _ = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only", v = function() {
        var t = D(this);
        setTimeout(function() {
            t.find(":ui-button").button("refresh")
        }, 1)
    }, w = function(t) {
        var e = t.name
          , i = t.form
          , n = D([]);
        return e && (e = e.replace(/'/g, "\\'"),
        n = i ? D(i).find("[name='" + e + "'][type=radio]") : D("[name='" + e + "'][type=radio]", t.ownerDocument).filter(function() {
            return !this.form
        })),
        n
    };
    D.widget("ui.button", {
        version: "1.11.4",
        defaultElement: "<button>",
        options: {
            disabled: null,
            text: !0,
            label: null,
            icons: {
                primary: null,
                secondary: null
            }
        },
        _create: function() {
            this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, v),
            "boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled),
            this._determineButtonType(),
            this.hasTitle = !!this.buttonElement.attr("title");
            var e = this
              , i = this.options
              , t = "checkbox" === this.type || "radio" === this.type
              , n = t ? "" : "ui-state-active";
            null === i.label && (i.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html()),
            this._hoverable(this.buttonElement),
            this.buttonElement.addClass(y).attr("role", "button").bind("mouseenter" + this.eventNamespace, function() {
                i.disabled || this === g && D(this).addClass("ui-state-active")
            }).bind("mouseleave" + this.eventNamespace, function() {
                i.disabled || D(this).removeClass(n)
            }).bind("click" + this.eventNamespace, function(t) {
                i.disabled && (t.preventDefault(),
                t.stopImmediatePropagation())
            }),
            this._on({
                focus: function() {
                    this.buttonElement.addClass("ui-state-focus")
                },
                blur: function() {
                    this.buttonElement.removeClass("ui-state-focus")
                }
            }),
            t && this.element.bind("change" + this.eventNamespace, function() {
                e.refresh()
            }),
            "checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                if (i.disabled)
                    return !1
            }) : "radio" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                if (i.disabled)
                    return !1;
                D(this).addClass("ui-state-active"),
                e.buttonElement.attr("aria-pressed", "true");
                var t = e.element[0];
                w(t).not(t).map(function() {
                    return D(this).button("widget")[0]
                }).removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function() {
                if (i.disabled)
                    return !1;
                D(this).addClass("ui-state-active"),
                g = this,
                e.document.one("mouseup", function() {
                    g = null
                })
            }).bind("mouseup" + this.eventNamespace, function() {
                if (i.disabled)
                    return !1;
                D(this).removeClass("ui-state-active")
            }).bind("keydown" + this.eventNamespace, function(t) {
                if (i.disabled)
                    return !1;
                t.keyCode !== D.ui.keyCode.SPACE && t.keyCode !== D.ui.keyCode.ENTER || D(this).addClass("ui-state-active")
            }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
                D(this).removeClass("ui-state-active")
            }),
            this.buttonElement.is("a") && this.buttonElement.keyup(function(t) {
                t.keyCode === D.ui.keyCode.SPACE && D(this).click()
            })),
            this._setOption("disabled", i.disabled),
            this._resetButton()
        },
        _determineButtonType: function() {
            var t, e, i;
            this.element.is("[type=checkbox]") ? this.type = "checkbox" : this.element.is("[type=radio]") ? this.type = "radio" : this.element.is("input") ? this.type = "input" : this.type = "button",
            "checkbox" === this.type || "radio" === this.type ? (t = this.element.parents().last(),
            e = "label[for='" + this.element.attr("id") + "']",
            this.buttonElement = t.find(e),
            this.buttonElement.length || (t = t.length ? t.siblings() : this.element.siblings(),
            this.buttonElement = t.filter(e),
            this.buttonElement.length || (this.buttonElement = t.find(e))),
            this.element.addClass("ui-helper-hidden-accessible"),
            (i = this.element.is(":checked")) && this.buttonElement.addClass("ui-state-active"),
            this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element
        },
        widget: function() {
            return this.buttonElement
        },
        _destroy: function() {
            this.element.removeClass("ui-helper-hidden-accessible"),
            this.buttonElement.removeClass(y + " ui-state-active " + _).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),
            this.hasTitle || this.buttonElement.removeAttr("title")
        },
        _setOption: function(t, e) {
            if (this._super(t, e),
            "disabled" === t)
                return this.widget().toggleClass("ui-state-disabled", !!e),
                this.element.prop("disabled", !!e),
                void (e && ("checkbox" === this.type || "radio" === this.type ? this.buttonElement.removeClass("ui-state-focus") : this.buttonElement.removeClass("ui-state-focus ui-state-active")));
            this._resetButton()
        },
        refresh: function() {
            var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
            t !== this.options.disabled && this._setOption("disabled", t),
            "radio" === this.type ? w(this.element[0]).each(function() {
                D(this).is(":checked") ? D(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : D(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false"))
        },
        _resetButton: function() {
            if ("input" !== this.type) {
                var t = this.buttonElement.removeClass(_)
                  , e = D("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text()
                  , i = this.options.icons
                  , n = i.primary && i.secondary
                  , s = [];
                i.primary || i.secondary ? (this.options.text && s.push("ui-button-text-icon" + (n ? "s" : i.primary ? "-primary" : "-secondary")),
                i.primary && t.prepend("<span class='ui-button-icon-primary ui-icon " + i.primary + "'></span>"),
                i.secondary && t.append("<span class='ui-button-icon-secondary ui-icon " + i.secondary + "'></span>"),
                this.options.text || (s.push(n ? "ui-button-icons-only" : "ui-button-icon-only"),
                this.hasTitle || t.attr("title", D.trim(e)))) : s.push("ui-button-text-only"),
                t.addClass(s.join(" "))
            } else
                this.options.label && this.element.val(this.options.label)
        }
    }),
    D.widget("ui.buttonset", {
        version: "1.11.4",
        options: {
            items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
        },
        _create: function() {
            this.element.addClass("ui-buttonset")
        },
        _init: function() {
            this.refresh()
        },
        _setOption: function(t, e) {
            "disabled" === t && this.buttons.button("option", t, e),
            this._super(t, e)
        },
        refresh: function() {
            var t = "rtl" === this.element.css("direction")
              , e = this.element.find(this.options.items)
              , i = e.filter(":ui-button");
            e.not(":ui-button").button(),
            i.button("refresh"),
            this.buttons = e.map(function() {
                return D(this).button("widget")[0]
            }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(t ? "ui-corner-left" : "ui-corner-right").end().end()
        },
        _destroy: function() {
            this.element.removeClass("ui-buttonset"),
            this.buttons.map(function() {
                return D(this).button("widget")[0]
            }).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
        }
    });
    var b;
    D.ui.button;
    D.extend(D.ui, {
        datepicker: {
            version: "1.11.4"
        }
    }),
    D.extend(t.prototype, {
        markerClassName: "hasDatepicker",
        maxRows: 4,
        _widgetDatepicker: function() {
            return this.dpDiv
        },
        setDefaults: function(t) {
            return h(this._defaults, t || {}),
            this
        },
        _attachDatepicker: function(t, e) {
            var i, n, s;
            n = "div" === (i = t.nodeName.toLowerCase()) || "span" === i,
            t.id || (this.uuid += 1,
            t.id = "dp" + this.uuid),
            (s = this._newInst(D(t), n)).settings = D.extend({}, e || {}),
            "input" === i ? this._connectDatepicker(t, s) : n && this._inlineDatepicker(t, s)
        },
        _newInst: function(t, e) {
            return {
                id: t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"),
                input: t,
                selectedDay: 0,
                selectedMonth: 0,
                selectedYear: 0,
                drawMonth: 0,
                drawYear: 0,
                inline: e,
                dpDiv: e ? i(D("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
            }
        },
        _connectDatepicker: function(t, e) {
            var i = D(t);
            e.append = D([]),
            e.trigger = D([]),
            i.hasClass(this.markerClassName) || (this._attachments(i, e),
            i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),
            this._autoSize(e),
            D.data(t, "datepicker", e),
            e.settings.disabled && this._disableDatepicker(t))
        },
        _attachments: function(t, e) {
            var i, n, s, r = this._get(e, "appendText"), o = this._get(e, "isRTL");
            e.append && e.append.remove(),
            r && (e.append = D("<span class='" + this._appendClass + "'>" + r + "</span>"),
            t[o ? "before" : "after"](e.append)),
            t.unbind("focus", this._showDatepicker),
            e.trigger && e.trigger.remove(),
            "focus" !== (i = this._get(e, "showOn")) && "both" !== i || t.focus(this._showDatepicker),
            "button" !== i && "both" !== i || (n = this._get(e, "buttonText"),
            s = this._get(e, "buttonImage"),
            e.trigger = D(this._get(e, "buttonImageOnly") ? D("<img/>").addClass(this._triggerClass).attr({
                src: s,
                alt: n,
                title: n
            }) : D("<button type='button'></button>").addClass(this._triggerClass).html(s ? D("<img/>").attr({
                src: s,
                alt: n,
                title: n
            }) : n)),
            t[o ? "before" : "after"](e.trigger),
            e.trigger.click(function() {
                return D.datepicker._datepickerShowing && D.datepicker._lastInput === t[0] ? D.datepicker._hideDatepicker() : (D.datepicker._datepickerShowing && D.datepicker._lastInput !== t[0] && D.datepicker._hideDatepicker(),
                D.datepicker._showDatepicker(t[0])),
                !1
            }))
        },
        _autoSize: function(t) {
            if (this._get(t, "autoSize") && !t.inline) {
                var e, i, n, s, r = new Date(2009,11,20), o = this._get(t, "dateFormat");
                o.match(/[DM]/) && (e = function(t) {
                    for (s = n = i = 0; s < t.length; s++)
                        t[s].length > i && (i = t[s].length,
                        n = s);
                    return n
                }
                ,
                r.setMonth(e(this._get(t, o.match(/MM/) ? "monthNames" : "monthNamesShort"))),
                r.setDate(e(this._get(t, o.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - r.getDay())),
                t.input.attr("size", this._formatDate(t, r).length)
            }
        },
        _inlineDatepicker: function(t, e) {
            var i = D(t);
            i.hasClass(this.markerClassName) || (i.addClass(this.markerClassName).append(e.dpDiv),
            D.data(t, "datepicker", e),
            this._setDate(e, this._getDefaultDate(e), !0),
            this._updateDatepicker(e),
            this._updateAlternate(e),
            e.settings.disabled && this._disableDatepicker(t),
            e.dpDiv.css("display", "block"))
        },
        _dialogDatepicker: function(t, e, i, n, s) {
            var r, o, a, l, u, c = this._dialogInst;
            return c || (this.uuid += 1,
            r = "dp" + this.uuid,
            this._dialogInput = D("<input type='text' id='" + r + "' style='position: absolute; top: -100px; width: 0px;'/>"),
            this._dialogInput.keydown(this._doKeyDown),
            D("body").append(this._dialogInput),
            (c = this._dialogInst = this._newInst(this._dialogInput, !1)).settings = {},
            D.data(this._dialogInput[0], "datepicker", c)),
            h(c.settings, n || {}),
            e = e && e.constructor === Date ? this._formatDate(c, e) : e,
            this._dialogInput.val(e),
            this._pos = s ? s.length ? s : [s.pageX, s.pageY] : null,
            this._pos || (o = document.documentElement.clientWidth,
            a = document.documentElement.clientHeight,
            l = document.documentElement.scrollLeft || document.body.scrollLeft,
            u = document.documentElement.scrollTop || document.body.scrollTop,
            this._pos = [o / 2 - 100 + l, a / 2 - 150 + u]),
            this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"),
            c.settings.onSelect = i,
            this._inDialog = !0,
            this.dpDiv.addClass(this._dialogClass),
            this._showDatepicker(this._dialogInput[0]),
            D.blockUI && D.blockUI(this.dpDiv),
            D.data(this._dialogInput[0], "datepicker", c),
            this
        },
        _destroyDatepicker: function(t) {
            var e, i = D(t), n = D.data(t, "datepicker");
            i.hasClass(this.markerClassName) && (e = t.nodeName.toLowerCase(),
            D.removeData(t, "datepicker"),
            "input" === e ? (n.append.remove(),
            n.trigger.remove(),
            i.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : "div" !== e && "span" !== e || i.removeClass(this.markerClassName).empty(),
            b === n && (b = null))
        },
        _enableDatepicker: function(e) {
            var t, i, n = D(e), s = D.data(e, "datepicker");
            n.hasClass(this.markerClassName) && ("input" === (t = e.nodeName.toLowerCase()) ? (e.disabled = !1,
            s.trigger.filter("button").each(function() {
                this.disabled = !1
            }).end().filter("img").css({
                opacity: "1.0",
                cursor: ""
            })) : "div" !== t && "span" !== t || ((i = n.children("." + this._inlineClass)).children().removeClass("ui-state-disabled"),
            i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)),
            this._disabledInputs = D.map(this._disabledInputs, function(t) {
                return t === e ? null : t
            }))
        },
        _disableDatepicker: function(e) {
            var t, i, n = D(e), s = D.data(e, "datepicker");
            n.hasClass(this.markerClassName) && ("input" === (t = e.nodeName.toLowerCase()) ? (e.disabled = !0,
            s.trigger.filter("button").each(function() {
                this.disabled = !0
            }).end().filter("img").css({
                opacity: "0.5",
                cursor: "default"
            })) : "div" !== t && "span" !== t || ((i = n.children("." + this._inlineClass)).children().addClass("ui-state-disabled"),
            i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)),
            this._disabledInputs = D.map(this._disabledInputs, function(t) {
                return t === e ? null : t
            }),
            this._disabledInputs[this._disabledInputs.length] = e)
        },
        _isDisabledDatepicker: function(t) {
            if (!t)
                return !1;
            for (var e = 0; e < this._disabledInputs.length; e++)
                if (this._disabledInputs[e] === t)
                    return !0;
            return !1
        },
        _getInst: function(t) {
            try {
                return D.data(t, "datepicker")
            } catch (e) {
                throw "Missing instance data for this datepicker"
            }
        },
        _optionDatepicker: function(t, e, i) {
            var n, s, r, o, a = this._getInst(t);
            if (2 === arguments.length && "string" == typeof e)
                return "defaults" === e ? D.extend({}, D.datepicker._defaults) : a ? "all" === e ? D.extend({}, a.settings) : this._get(a, e) : null;
            n = e || {},
            "string" == typeof e && ((n = {})[e] = i),
            a && (this._curInst === a && this._hideDatepicker(),
            s = this._getDateDatepicker(t, !0),
            r = this._getMinMaxDate(a, "min"),
            o = this._getMinMaxDate(a, "max"),
            h(a.settings, n),
            null !== r && n.dateFormat !== undefined && n.minDate === undefined && (a.settings.minDate = this._formatDate(a, r)),
            null !== o && n.dateFormat !== undefined && n.maxDate === undefined && (a.settings.maxDate = this._formatDate(a, o)),
            "disabled"in n && (n.disabled ? this._disableDatepicker(t) : this._enableDatepicker(t)),
            this._attachments(D(t), a),
            this._autoSize(a),
            this._setDate(a, s),
            this._updateAlternate(a),
            this._updateDatepicker(a))
        },
        _changeDatepicker: function(t, e, i) {
            this._optionDatepicker(t, e, i)
        },
        _refreshDatepicker: function(t) {
            var e = this._getInst(t);
            e && this._updateDatepicker(e)
        },
        _setDateDatepicker: function(t, e) {
            var i = this._getInst(t);
            i && (this._setDate(i, e),
            this._updateDatepicker(i),
            this._updateAlternate(i))
        },
        _getDateDatepicker: function(t, e) {
            var i = this._getInst(t);
            return i && !i.inline && this._setDateFromField(i, e),
            i ? this._getDate(i) : null
        },
        _doKeyDown: function(t) {
            var e, i, n, s = D.datepicker._getInst(t.target), r = !0, o = s.dpDiv.is(".ui-datepicker-rtl");
            if (s._keyEvent = !0,
            D.datepicker._datepickerShowing)
                switch (t.keyCode) {
                case 9:
                    D.datepicker._hideDatepicker(),
                    r = !1;
                    break;
                case 13:
                    return (n = D("td." + D.datepicker._dayOverClass + ":not(." + D.datepicker._currentClass + ")", s.dpDiv))[0] && D.datepicker._selectDay(t.target, s.selectedMonth, s.selectedYear, n[0]),
                    (e = D.datepicker._get(s, "onSelect")) ? (i = D.datepicker._formatDate(s),
                    e.apply(s.input ? s.input[0] : null, [i, s])) : D.datepicker._hideDatepicker(),
                    !1;
                case 27:
                    D.datepicker._hideDatepicker();
                    break;
                case 33:
                    D.datepicker._adjustDate(t.target, t.ctrlKey ? -D.datepicker._get(s, "stepBigMonths") : -D.datepicker._get(s, "stepMonths"), "M");
                    break;
                case 34:
                    D.datepicker._adjustDate(t.target, t.ctrlKey ? +D.datepicker._get(s, "stepBigMonths") : +D.datepicker._get(s, "stepMonths"), "M");
                    break;
                case 35:
                    (t.ctrlKey || t.metaKey) && D.datepicker._clearDate(t.target),
                    r = t.ctrlKey || t.metaKey;
                    break;
                case 36:
                    (t.ctrlKey || t.metaKey) && D.datepicker._gotoToday(t.target),
                    r = t.ctrlKey || t.metaKey;
                    break;
                case 37:
                    (t.ctrlKey || t.metaKey) && D.datepicker._adjustDate(t.target, o ? 1 : -1, "D"),
                    r = t.ctrlKey || t.metaKey,
                    t.originalEvent.altKey && D.datepicker._adjustDate(t.target, t.ctrlKey ? -D.datepicker._get(s, "stepBigMonths") : -D.datepicker._get(s, "stepMonths"), "M");
                    break;
                case 38:
                    (t.ctrlKey || t.metaKey) && D.datepicker._adjustDate(t.target, -7, "D"),
                    r = t.ctrlKey || t.metaKey;
                    break;
                case 39:
                    (t.ctrlKey || t.metaKey) && D.datepicker._adjustDate(t.target, o ? -1 : 1, "D"),
                    r = t.ctrlKey || t.metaKey,
                    t.originalEvent.altKey && D.datepicker._adjustDate(t.target, t.ctrlKey ? +D.datepicker._get(s, "stepBigMonths") : +D.datepicker._get(s, "stepMonths"), "M");
                    break;
                case 40:
                    (t.ctrlKey || t.metaKey) && D.datepicker._adjustDate(t.target, 7, "D"),
                    r = t.ctrlKey || t.metaKey;
                    break;
                default:
                    r = !1
                }
            else
                36 === t.keyCode && t.ctrlKey ? D.datepicker._showDatepicker(this) : r = !1;
            r && (t.preventDefault(),
            t.stopPropagation())
        },
        _doKeyPress: function(t) {
            var e, i, n = D.datepicker._getInst(t.target);
            if (D.datepicker._get(n, "constrainInput"))
                return e = D.datepicker._possibleChars(D.datepicker._get(n, "dateFormat")),
                i = String.fromCharCode(null == t.charCode ? t.keyCode : t.charCode),
                t.ctrlKey || t.metaKey || i < " " || !e || -1 < e.indexOf(i)
        },
        _doKeyUp: function(t) {
            var e = D.datepicker._getInst(t.target);
            if (e.input.val() !== e.lastVal)
                try {
                    D.datepicker.parseDate(D.datepicker._get(e, "dateFormat"), e.input ? e.input.val() : null, D.datepicker._getFormatConfig(e)) && (D.datepicker._setDateFromField(e),
                    D.datepicker._updateAlternate(e),
                    D.datepicker._updateDatepicker(e))
                } catch (i) {}
            return !0
        },
        _showDatepicker: function(t) {
            var e, i, n, s, r, o, a;
            ("input" !== (t = t.target || t).nodeName.toLowerCase() && (t = D("input", t.parentNode)[0]),
            D.datepicker._isDisabledDatepicker(t) || D.datepicker._lastInput === t) || (e = D.datepicker._getInst(t),
            D.datepicker._curInst && D.datepicker._curInst !== e && (D.datepicker._curInst.dpDiv.stop(!0, !0),
            e && D.datepicker._datepickerShowing && D.datepicker._hideDatepicker(D.datepicker._curInst.input[0])),
            !1 !== (n = (i = D.datepicker._get(e, "beforeShow")) ? i.apply(t, [t, e]) : {}) && (h(e.settings, n),
            e.lastVal = null,
            D.datepicker._lastInput = t,
            D.datepicker._setDateFromField(e),
            D.datepicker._inDialog && (t.value = ""),
            D.datepicker._pos || (D.datepicker._pos = D.datepicker._findPos(t),
            D.datepicker._pos[1] += t.offsetHeight),
            s = !1,
            D(t).parents().each(function() {
                return !(s |= "fixed" === D(this).css("position"))
            }),
            r = {
                left: D.datepicker._pos[0],
                top: D.datepicker._pos[1]
            },
            D.datepicker._pos = null,
            e.dpDiv.empty(),
            e.dpDiv.css({
                position: "absolute",
                display: "block",
                top: "-1000px"
            }),
            D.datepicker._updateDatepicker(e),
            r = D.datepicker._checkOffset(e, r, s),
            e.dpDiv.css({
                position: D.datepicker._inDialog && D.blockUI ? "static" : s ? "fixed" : "absolute",
                display: "none",
                left: r.left + "px",
                top: r.top + "px"
            }),
            e.inline || (o = D.datepicker._get(e, "showAnim"),
            a = D.datepicker._get(e, "duration"),
            e.dpDiv.css("z-index", l(D(t)) + 1),
            D.datepicker._datepickerShowing = !0,
            D.effects && D.effects.effect[o] ? e.dpDiv.show(o, D.datepicker._get(e, "showOptions"), a) : e.dpDiv[o || "show"](o ? a : null),
            D.datepicker._shouldFocusInput(e) && e.input.focus(),
            D.datepicker._curInst = e)))
        },
        _updateDatepicker: function(t) {
            this.maxRows = 4,
            (b = t).dpDiv.empty().append(this._generateHTML(t)),
            this._attachHandlers(t);
            var e, i = this._getNumberOfMonths(t), n = i[1], s = 17, r = t.dpDiv.find("." + this._dayOverClass + " a");
            0 < r.length && a.apply(r.get(0)),
            t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),
            1 < n && t.dpDiv.addClass("ui-datepicker-multi-" + n).css("width", s * n + "em"),
            t.dpDiv[(1 !== i[0] || 1 !== i[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"),
            t.dpDiv[(this._get(t, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"),
            t === D.datepicker._curInst && D.datepicker._datepickerShowing && D.datepicker._shouldFocusInput(t) && t.input.focus(),
            t.yearshtml && (e = t.yearshtml,
            setTimeout(function() {
                e === t.yearshtml && t.yearshtml && t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),
                e = t.yearshtml = null
            }, 0))
        },
        _shouldFocusInput: function(t) {
            return t.input && t.input.is(":visible") && !t.input.is(":disabled") && !t.input.is(":focus")
        },
        _checkOffset: function(t, e, i) {
            var n = t.dpDiv.outerWidth()
              , s = t.dpDiv.outerHeight()
              , r = t.input ? t.input.outerWidth() : 0
              , o = t.input ? t.input.outerHeight() : 0
              , a = document.documentElement.clientWidth + (i ? 0 : D(document).scrollLeft())
              , l = document.documentElement.clientHeight + (i ? 0 : D(document).scrollTop());
            return e.left -= this._get(t, "isRTL") ? n - r : 0,
            e.left -= i && e.left === t.input.offset().left ? D(document).scrollLeft() : 0,
            e.top -= i && e.top === t.input.offset().top + o ? D(document).scrollTop() : 0,
            e.left -= Math.min(e.left, e.left + n > a && n < a ? Math.abs(e.left + n - a) : 0),
            e.top -= Math.min(e.top, e.top + s > l && s < l ? Math.abs(s + o) : 0),
            e
        },
        _findPos: function(t) {
            for (var e, i = this._getInst(t), n = this._get(i, "isRTL"); t && ("hidden" === t.type || 1 !== t.nodeType || D.expr.filters.hidden(t)); )
                t = t[n ? "previousSibling" : "nextSibling"];
            return [(e = D(t).offset()).left, e.top]
        },
        _hideDatepicker: function(t) {
            var e, i, n, s, r = this._curInst;
            !r || t && r !== D.data(t, "datepicker") || this._datepickerShowing && (e = this._get(r, "showAnim"),
            i = this._get(r, "duration"),
            n = function() {
                D.datepicker._tidyDialog(r)
            }
            ,
            D.effects && (D.effects.effect[e] || D.effects[e]) ? r.dpDiv.hide(e, D.datepicker._get(r, "showOptions"), i, n) : r.dpDiv["slideDown" === e ? "slideUp" : "fadeIn" === e ? "fadeOut" : "hide"](e ? i : null, n),
            e || n(),
            this._datepickerShowing = !1,
            (s = this._get(r, "onClose")) && s.apply(r.input ? r.input[0] : null, [r.input ? r.input.val() : "", r]),
            this._lastInput = null,
            this._inDialog && (this._dialogInput.css({
                position: "absolute",
                left: "0",
                top: "-100px"
            }),
            D.blockUI && (D.unblockUI(),
            D("body").append(this.dpDiv))),
            this._inDialog = !1)
        },
        _tidyDialog: function(t) {
            t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
        },
        _checkExternalClick: function(t) {
            if (D.datepicker._curInst) {
                var e = D(t.target)
                  , i = D.datepicker._getInst(e[0]);
                (e[0].id === D.datepicker._mainDivId || 0 !== e.parents("#" + D.datepicker._mainDivId).length || e.hasClass(D.datepicker.markerClassName) || e.closest("." + D.datepicker._triggerClass).length || !D.datepicker._datepickerShowing || D.datepicker._inDialog && D.blockUI) && (!e.hasClass(D.datepicker.markerClassName) || D.datepicker._curInst === i) || D.datepicker._hideDatepicker()
            }
        },
        _adjustDate: function(t, e, i) {
            var n = D(t)
              , s = this._getInst(n[0]);
            this._isDisabledDatepicker(n[0]) || (this._adjustInstDate(s, e + ("M" === i ? this._get(s, "showCurrentAtPos") : 0), i),
            this._updateDatepicker(s))
        },
        _gotoToday: function(t) {
            var e, i = D(t), n = this._getInst(i[0]);
            this._get(n, "gotoCurrent") && n.currentDay ? (n.selectedDay = n.currentDay,
            n.drawMonth = n.selectedMonth = n.currentMonth,
            n.drawYear = n.selectedYear = n.currentYear) : (e = new Date,
            n.selectedDay = e.getDate(),
            n.drawMonth = n.selectedMonth = e.getMonth(),
            n.drawYear = n.selectedYear = e.getFullYear()),
            this._notifyChange(n),
            this._adjustDate(i)
        },
        _selectMonthYear: function(t, e, i) {
            var n = D(t)
              , s = this._getInst(n[0]);
            s["selected" + ("M" === i ? "Month" : "Year")] = s["draw" + ("M" === i ? "Month" : "Year")] = parseInt(e.options[e.selectedIndex].value, 10),
            this._notifyChange(s),
            this._adjustDate(n)
        },
        _selectDay: function(t, e, i, n) {
            var s, r = D(t);
            D(n).hasClass(this._unselectableClass) || this._isDisabledDatepicker(r[0]) || ((s = this._getInst(r[0])).selectedDay = s.currentDay = D("a", n).html(),
            s.selectedMonth = s.currentMonth = e,
            s.selectedYear = s.currentYear = i,
            this._selectDate(t, this._formatDate(s, s.currentDay, s.currentMonth, s.currentYear)))
        },
        _clearDate: function(t) {
            var e = D(t);
            this._selectDate(e, "")
        },
        _selectDate: function(t, e) {
            var i, n = D(t), s = this._getInst(n[0]);
            e = null != e ? e : this._formatDate(s),
            s.input && s.input.val(e),
            this._updateAlternate(s),
            (i = this._get(s, "onSelect")) ? i.apply(s.input ? s.input[0] : null, [e, s]) : s.input && s.input.trigger("change"),
            s.inline ? this._updateDatepicker(s) : (this._hideDatepicker(),
            this._lastInput = s.input[0],
            "object" != typeof s.input[0] && s.input.focus(),
            this._lastInput = null)
        },
        _updateAlternate: function(t) {
            var e, i, n, s = this._get(t, "altField");
            s && (e = this._get(t, "altFormat") || this._get(t, "dateFormat"),
            i = this._getDate(t),
            n = this.formatDate(e, i, this._getFormatConfig(t)),
            D(s).each(function() {
                D(this).val(n)
            }))
        },
        noWeekends: function(t) {
            var e = t.getDay();
            return [0 < e && e < 6, ""]
        },
        iso8601Week: function(t) {
            var e, i = new Date(t.getTime());
            return i.setDate(i.getDate() + 4 - (i.getDay() || 7)),
            e = i.getTime(),
            i.setMonth(0),
            i.setDate(1),
            Math.floor(Math.round((e - i) / 864e5) / 7) + 1
        },
        parseDate: function(i, r, t) {
            if (null == i || null == r)
                throw "Invalid arguments";
            if ("" === (r = "object" == typeof r ? r.toString() : r + ""))
                return null;
            var n, e, s, o, a = 0, l = (t ? t.shortYearCutoff : null) || this._defaults.shortYearCutoff, u = "string" != typeof l ? l : (new Date).getFullYear() % 100 + parseInt(l, 10), c = (t ? t.dayNamesShort : null) || this._defaults.dayNamesShort, h = (t ? t.dayNames : null) || this._defaults.dayNames, p = (t ? t.monthNamesShort : null) || this._defaults.monthNamesShort, d = (t ? t.monthNames : null) || this._defaults.monthNames, f = -1, m = -1, g = -1, y = -1, _ = !1, v = function(t) {
                var e = n + 1 < i.length && i.charAt(n + 1) === t;
                return e && n++,
                e
            }, w = function(t) {
                var e = v(t)
                  , i = "@" === t ? 14 : "!" === t ? 20 : "y" === t && e ? 4 : "o" === t ? 3 : 2
                  , n = new RegExp("^\\d{" + ("y" === t ? i : 1) + "," + i + "}")
                  , s = r.substring(a).match(n);
                if (!s)
                    throw "Missing number at position " + a;
                return a += s[0].length,
                parseInt(s[0], 10)
            }, b = function(t, e, i) {
                var n = -1
                  , s = D.map(v(t) ? i : e, function(t, e) {
                    return [[e, t]]
                }).sort(function(t, e) {
                    return -(t[1].length - e[1].length)
                });
                if (D.each(s, function(t, e) {
                    var i = e[1];
                    if (r.substr(a, i.length).toLowerCase() === i.toLowerCase())
                        return n = e[0],
                        a += i.length,
                        !1
                }),
                -1 !== n)
                    return n + 1;
                throw "Unknown name at position " + a
            }, x = function() {
                if (r.charAt(a) !== i.charAt(n))
                    throw "Unexpected literal at position " + a;
                a++
            };
            for (n = 0; n < i.length; n++)
                if (_)
                    "'" !== i.charAt(n) || v("'") ? x() : _ = !1;
                else
                    switch (i.charAt(n)) {
                    case "d":
                        g = w("d");
                        break;
                    case "D":
                        b("D", c, h);
                        break;
                    case "o":
                        y = w("o");
                        break;
                    case "m":
                        m = w("m");
                        break;
                    case "M":
                        m = b("M", p, d);
                        break;
                    case "y":
                        f = w("y");
                        break;
                    case "@":
                        f = (o = new Date(w("@"))).getFullYear(),
                        m = o.getMonth() + 1,
                        g = o.getDate();
                        break;
                    case "!":
                        f = (o = new Date((w("!") - this._ticksTo1970) / 1e4)).getFullYear(),
                        m = o.getMonth() + 1,
                        g = o.getDate();
                        break;
                    case "'":
                        v("'") ? x() : _ = !0;
                        break;
                    default:
                        x()
                    }
            if (a < r.length && (s = r.substr(a),
            !/^\s+/.test(s)))
                throw "Extra/unparsed characters found in date: " + s;
            if (-1 === f ? f = (new Date).getFullYear() : f < 100 && (f += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (f <= u ? 0 : -100)),
            -1 < y)
                for (m = 1,
                g = y; ; ) {
                    if (g <= (e = this._getDaysInMonth(f, m - 1)))
                        break;
                    m++,
                    g -= e
                }
            if ((o = this._daylightSavingAdjust(new Date(f,m - 1,g))).getFullYear() !== f || o.getMonth() + 1 !== m || o.getDate() !== g)
                throw "Invalid date";
            return o
        },
        ATOM: "yy-mm-dd",
        COOKIE: "D, dd M yy",
        ISO_8601: "yy-mm-dd",
        RFC_822: "D, d M y",
        RFC_850: "DD, dd-M-y",
        RFC_1036: "D, d M y",
        RFC_1123: "D, d M yy",
        RFC_2822: "D, d M yy",
        RSS: "D, d M y",
        TICKS: "!",
        TIMESTAMP: "@",
        W3C: "yy-mm-dd",
        _ticksTo1970: 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) * 60 * 60 * 1e7,
        formatDate: function(i, t, e) {
            if (!t)
                return "";
            var n, s = (e ? e.dayNamesShort : null) || this._defaults.dayNamesShort, r = (e ? e.dayNames : null) || this._defaults.dayNames, o = (e ? e.monthNamesShort : null) || this._defaults.monthNamesShort, a = (e ? e.monthNames : null) || this._defaults.monthNames, l = function(t) {
                var e = n + 1 < i.length && i.charAt(n + 1) === t;
                return e && n++,
                e
            }, u = function(t, e, i) {
                var n = "" + e;
                if (l(t))
                    for (; n.length < i; )
                        n = "0" + n;
                return n
            }, c = function(t, e, i, n) {
                return l(t) ? n[e] : i[e]
            }, h = "", p = !1;
            if (t)
                for (n = 0; n < i.length; n++)
                    if (p)
                        "'" !== i.charAt(n) || l("'") ? h += i.charAt(n) : p = !1;
                    else
                        switch (i.charAt(n)) {
                        case "d":
                            h += u("d", t.getDate(), 2);
                            break;
                        case "D":
                            h += c("D", t.getDay(), s, r);
                            break;
                        case "o":
                            h += u("o", Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime() - new Date(t.getFullYear(),0,0).getTime()) / 864e5), 3);
                            break;
                        case "m":
                            h += u("m", t.getMonth() + 1, 2);
                            break;
                        case "M":
                            h += c("M", t.getMonth(), o, a);
                            break;
                        case "y":
                            h += l("y") ? t.getFullYear() : (t.getYear() % 100 < 10 ? "0" : "") + t.getYear() % 100;
                            break;
                        case "@":
                            h += t.getTime();
                            break;
                        case "!":
                            h += 1e4 * t.getTime() + this._ticksTo1970;
                            break;
                        case "'":
                            l("'") ? h += "'" : p = !0;
                            break;
                        default:
                            h += i.charAt(n)
                        }
            return h
        },
        _possibleChars: function(i) {
            var n, t = "", e = !1, s = function(t) {
                var e = n + 1 < i.length && i.charAt(n + 1) === t;
                return e && n++,
                e
            };
            for (n = 0; n < i.length; n++)
                if (e)
                    "'" !== i.charAt(n) || s("'") ? t += i.charAt(n) : e = !1;
                else
                    switch (i.charAt(n)) {
                    case "d":
                    case "m":
                    case "y":
                    case "@":
                        t += "0123456789";
                        break;
                    case "D":
                    case "M":
                        return null;
                    case "'":
                        s("'") ? t += "'" : e = !0;
                        break;
                    default:
                        t += i.charAt(n)
                    }
            return t
        },
        _get: function(t, e) {
            return t.settings[e] !== undefined ? t.settings[e] : this._defaults[e]
        },
        _setDateFromField: function(t, e) {
            if (t.input.val() !== t.lastVal) {
                var i = this._get(t, "dateFormat")
                  , n = t.lastVal = t.input ? t.input.val() : null
                  , s = this._getDefaultDate(t)
                  , r = s
                  , o = this._getFormatConfig(t);
                try {
                    r = this.parseDate(i, n, o) || s
                } catch (a) {
                    n = e ? "" : n
                }
                t.selectedDay = r.getDate(),
                t.drawMonth = t.selectedMonth = r.getMonth(),
                t.drawYear = t.selectedYear = r.getFullYear(),
                t.currentDay = n ? r.getDate() : 0,
                t.currentMonth = n ? r.getMonth() : 0,
                t.currentYear = n ? r.getFullYear() : 0,
                this._adjustInstDate(t)
            }
        },
        _getDefaultDate: function(t) {
            return this._restrictMinMax(t, this._determineDate(t, this._get(t, "defaultDate"), new Date))
        },
        _determineDate: function(l, t, e) {
            var i = function(t) {
                var e = new Date;
                return e.setDate(e.getDate() + t),
                e
            }
              , n = null == t || "" === t ? e : "string" == typeof t ? function(t) {
                try {
                    return D.datepicker.parseDate(D.datepicker._get(l, "dateFormat"), t, D.datepicker._getFormatConfig(l))
                } catch (a) {}
                for (var e = (t.toLowerCase().match(/^c/) ? D.datepicker._getDate(l) : null) || new Date, i = e.getFullYear(), n = e.getMonth(), s = e.getDate(), r = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, o = r.exec(t); o; ) {
                    switch (o[2] || "d") {
                    case "d":
                    case "D":
                        s += parseInt(o[1], 10);
                        break;
                    case "w":
                    case "W":
                        s += 7 * parseInt(o[1], 10);
                        break;
                    case "m":
                    case "M":
                        n += parseInt(o[1], 10),
                        s = Math.min(s, D.datepicker._getDaysInMonth(i, n));
                        break;
                    case "y":
                    case "Y":
                        i += parseInt(o[1], 10),
                        s = Math.min(s, D.datepicker._getDaysInMonth(i, n))
                    }
                    o = r.exec(t)
                }
                return new Date(i,n,s)
            }(t) : "number" == typeof t ? isNaN(t) ? e : i(t) : new Date(t.getTime());
            return (n = n && "Invalid Date" === n.toString() ? e : n) && (n.setHours(0),
            n.setMinutes(0),
            n.setSeconds(0),
            n.setMilliseconds(0)),
            this._daylightSavingAdjust(n)
        },
        _daylightSavingAdjust: function(t) {
            return t ? (t.setHours(12 < t.getHours() ? t.getHours() + 2 : 0),
            t) : null
        },
        _setDate: function(t, e, i) {
            var n = !e
              , s = t.selectedMonth
              , r = t.selectedYear
              , o = this._restrictMinMax(t, this._determineDate(t, e, new Date));
            t.selectedDay = t.currentDay = o.getDate(),
            t.drawMonth = t.selectedMonth = t.currentMonth = o.getMonth(),
            t.drawYear = t.selectedYear = t.currentYear = o.getFullYear(),
            s === t.selectedMonth && r === t.selectedYear || i || this._notifyChange(t),
            this._adjustInstDate(t),
            t.input && t.input.val(n ? "" : this._formatDate(t))
        },
        _getDate: function(t) {
            return !t.currentYear || t.input && "" === t.input.val() ? null : this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))
        },
        _attachHandlers: function(t) {
            var e = this._get(t, "stepMonths")
              , i = "#" + t.id.replace(/\\\\/g, "\\");
            t.dpDiv.find("[data-handler]").map(function() {
                var t = {
                    prev: function() {
                        D.datepicker._adjustDate(i, -e, "M")
                    },
                    next: function() {
                        D.datepicker._adjustDate(i, +e, "M")
                    },
                    hide: function() {
                        D.datepicker._hideDatepicker()
                    },
                    today: function() {
                        D.datepicker._gotoToday(i)
                    },
                    selectDay: function() {
                        return D.datepicker._selectDay(i, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this),
                        !1
                    },
                    selectMonth: function() {
                        return D.datepicker._selectMonthYear(i, this, "M"),
                        !1
                    },
                    selectYear: function() {
                        return D.datepicker._selectMonthYear(i, this, "Y"),
                        !1
                    }
                };
                D(this).bind(this.getAttribute("data-event"), t[this.getAttribute("data-handler")])
            })
        },
        _generateHTML: function(t) {
            var e, i, n, s, r, o, a, l, u, c, h, p, d, f, m, g, y, _, v, w, b, x, k, C, S, T, A, D, M, q, P, E, I, N, O, R, F, H, V, $ = new Date, L = this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth(),$.getDate())), B = this._get(t, "isRTL"), z = this._get(t, "showButtonPanel"), j = this._get(t, "hideIfNoPrevNext"), J = this._get(t, "navigationAsDateFormat"), W = this._getNumberOfMonths(t), U = this._get(t, "showCurrentAtPos"), Y = this._get(t, "stepMonths"), Q = 1 !== W[0] || 1 !== W[1], G = this._daylightSavingAdjust(t.currentDay ? new Date(t.currentYear,t.currentMonth,t.currentDay) : new Date(9999,9,9)), X = this._getMinMaxDate(t, "min"), K = this._getMinMaxDate(t, "max"), Z = t.drawMonth - U, tt = t.drawYear;
            if (Z < 0 && (Z += 12,
            tt--),
            K)
                for (e = this._daylightSavingAdjust(new Date(K.getFullYear(),K.getMonth() - W[0] * W[1] + 1,K.getDate())),
                e = X && e < X ? X : e; this._daylightSavingAdjust(new Date(tt,Z,1)) > e; )
                    --Z < 0 && (Z = 11,
                    tt--);
            for (t.drawMonth = Z,
            t.drawYear = tt,
            i = this._get(t, "prevText"),
            i = J ? this.formatDate(i, this._daylightSavingAdjust(new Date(tt,Z - Y,1)), this._getFormatConfig(t)) : i,
            n = this._canAdjustMonth(t, -1, tt, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (B ? "e" : "w") + "'>" + i + "</span></a>" : j ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (B ? "e" : "w") + "'>" + i + "</span></a>",
            s = this._get(t, "nextText"),
            s = J ? this.formatDate(s, this._daylightSavingAdjust(new Date(tt,Z + Y,1)), this._getFormatConfig(t)) : s,
            r = this._canAdjustMonth(t, 1, tt, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + s + "'><span class='ui-icon ui-icon-circle-triangle-" + (B ? "w" : "e") + "'>" + s + "</span></a>" : j ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + s + "'><span class='ui-icon ui-icon-circle-triangle-" + (B ? "w" : "e") + "'>" + s + "</span></a>",
            o = this._get(t, "currentText"),
            a = this._get(t, "gotoCurrent") && t.currentDay ? G : L,
            o = J ? this.formatDate(o, a, this._getFormatConfig(t)) : o,
            l = t.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(t, "closeText") + "</button>",
            u = z ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (B ? l : "") + (this._isInRange(t, a) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + o + "</button>" : "") + (B ? "" : l) + "</div>" : "",
            c = parseInt(this._get(t, "firstDay"), 10),
            c = isNaN(c) ? 0 : c,
            h = this._get(t, "showWeek"),
            p = this._get(t, "dayNames"),
            d = this._get(t, "dayNamesMin"),
            f = this._get(t, "monthNames"),
            m = this._get(t, "monthNamesShort"),
            g = this._get(t, "beforeShowDay"),
            y = this._get(t, "showOtherMonths"),
            _ = this._get(t, "selectOtherMonths"),
            v = this._getDefaultDate(t),
            w = "",
            x = 0; x < W[0]; x++) {
                for (k = "",
                this.maxRows = 4,
                C = 0; C < W[1]; C++) {
                    if (S = this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),
                    T = " ui-corner-all",
                    A = "",
                    Q) {
                        if (A += "<div class='ui-datepicker-group",
                        1 < W[1])
                            switch (C) {
                            case 0:
                                A += " ui-datepicker-group-first",
                                T = " ui-corner-" + (B ? "right" : "left");
                                break;
                            case W[1] - 1:
                                A += " ui-datepicker-group-last",
                                T = " ui-corner-" + (B ? "left" : "right");
                                break;
                            default:
                                A += " ui-datepicker-group-middle",
                                T = ""
                            }
                        A += "'>"
                    }
                    for (A += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + T + "'>" + (/all|left/.test(T) && 0 === x ? B ? r : n : "") + (/all|right/.test(T) && 0 === x ? B ? n : r : "") + this._generateMonthYearHeader(t, Z, tt, X, K, 0 < x || 0 < C, f, m) + "</div><table class='ui-datepicker-calendar'><thead><tr>",
                    D = h ? "<th class='ui-datepicker-week-col'>" + this._get(t, "weekHeader") + "</th>" : "",
                    b = 0; b < 7; b++)
                        D += "<th scope='col'" + (5 <= (b + c + 6) % 7 ? " class='ui-datepicker-week-end'" : "") + "><span title='" + p[M = (b + c) % 7] + "'>" + d[M] + "</span></th>";
                    for (A += D + "</tr></thead><tbody>",
                    q = this._getDaysInMonth(tt, Z),
                    tt === t.selectedYear && Z === t.selectedMonth && (t.selectedDay = Math.min(t.selectedDay, q)),
                    P = (this._getFirstDayOfMonth(tt, Z) - c + 7) % 7,
                    E = Math.ceil((P + q) / 7),
                    I = Q && this.maxRows > E ? this.maxRows : E,
                    this.maxRows = I,
                    N = this._daylightSavingAdjust(new Date(tt,Z,1 - P)),
                    O = 0; O < I; O++) {
                        for (A += "<tr>",
                        R = h ? "<td class='ui-datepicker-week-col'>" + this._get(t, "calculateWeek")(N) + "</td>" : "",
                        b = 0; b < 7; b++)
                            F = g ? g.apply(t.input ? t.input[0] : null, [N]) : [!0, ""],
                            V = (H = N.getMonth() !== Z) && !_ || !F[0] || X && N < X || K && K < N,
                            R += "<td class='" + (5 <= (b + c + 6) % 7 ? " ui-datepicker-week-end" : "") + (H ? " ui-datepicker-other-month" : "") + (N.getTime() === S.getTime() && Z === t.selectedMonth && t._keyEvent || v.getTime() === N.getTime() && v.getTime() === S.getTime() ? " " + this._dayOverClass : "") + (V ? " " + this._unselectableClass + " ui-state-disabled" : "") + (H && !y ? "" : " " + F[1] + (N.getTime() === G.getTime() ? " " + this._currentClass : "") + (N.getTime() === L.getTime() ? " ui-datepicker-today" : "")) + "'" + (H && !y || !F[2] ? "" : " title='" + F[2].replace(/'/g, "&#39;") + "'") + (V ? "" : " data-handler='selectDay' data-event='click' data-month='" + N.getMonth() + "' data-year='" + N.getFullYear() + "'") + ">" + (H && !y ? "&#xa0;" : V ? "<span class='ui-state-default'>" + N.getDate() + "</span>" : "<a class='ui-state-default" + (N.getTime() === L.getTime() ? " ui-state-highlight" : "") + (N.getTime() === G.getTime() ? " ui-state-active" : "") + (H ? " ui-priority-secondary" : "") + "' href='#'>" + N.getDate() + "</a>") + "</td>",
                            N.setDate(N.getDate() + 1),
                            N = this._daylightSavingAdjust(N);
                        A += R + "</tr>"
                    }
                    11 < ++Z && (Z = 0,
                    tt++),
                    k += A += "</tbody></table>" + (Q ? "</div>" + (0 < W[0] && C === W[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : "")
                }
                w += k
            }
            return w += u,
            t._keyEvent = !1,
            w
        },
        _generateMonthYearHeader: function(t, e, i, n, s, r, o, a) {
            var l, u, c, h, p, d, f, m, g = this._get(t, "changeMonth"), y = this._get(t, "changeYear"), _ = this._get(t, "showMonthAfterYear"), v = "<div class='ui-datepicker-title'>", w = "";
            if (r || !g)
                w += "<span class='ui-datepicker-month'>" + o[e] + "</span>";
            else {
                for (l = n && n.getFullYear() === i,
                u = s && s.getFullYear() === i,
                w += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",
                c = 0; c < 12; c++)
                    (!l || c >= n.getMonth()) && (!u || c <= s.getMonth()) && (w += "<option value='" + c + "'" + (c === e ? " selected='selected'" : "") + ">" + a[c] + "</option>");
                w += "</select>"
            }
            if (_ || (v += w + (!r && g && y ? "" : "&#xa0;")),
            !t.yearshtml)
                if (t.yearshtml = "",
                r || !y)
                    v += "<span class='ui-datepicker-year'>" + i + "</span>";
                else {
                    for (h = this._get(t, "yearRange").split(":"),
                    p = (new Date).getFullYear(),
                    f = (d = function(t) {
                        var e = t.match(/c[+\-].*/) ? i + parseInt(t.substring(1), 10) : t.match(/[+\-].*/) ? p + parseInt(t, 10) : parseInt(t, 10);
                        return isNaN(e) ? p : e
                    }
                    )(h[0]),
                    m = Math.max(f, d(h[1] || "")),
                    f = n ? Math.max(f, n.getFullYear()) : f,
                    m = s ? Math.min(m, s.getFullYear()) : m,
                    t.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; f <= m; f++)
                        t.yearshtml += "<option value='" + f + "'" + (f === i ? " selected='selected'" : "") + ">" + f + "</option>";
                    t.yearshtml += "</select>",
                    v += t.yearshtml,
                    t.yearshtml = null
                }
            return v += this._get(t, "yearSuffix"),
            _ && (v += (!r && g && y ? "" : "&#xa0;") + w),
            v += "</div>"
        },
        _adjustInstDate: function(t, e, i) {
            var n = t.drawYear + ("Y" === i ? e : 0)
              , s = t.drawMonth + ("M" === i ? e : 0)
              , r = Math.min(t.selectedDay, this._getDaysInMonth(n, s)) + ("D" === i ? e : 0)
              , o = this._restrictMinMax(t, this._daylightSavingAdjust(new Date(n,s,r)));
            t.selectedDay = o.getDate(),
            t.drawMonth = t.selectedMonth = o.getMonth(),
            t.drawYear = t.selectedYear = o.getFullYear(),
            "M" !== i && "Y" !== i || this._notifyChange(t)
        },
        _restrictMinMax: function(t, e) {
            var i = this._getMinMaxDate(t, "min")
              , n = this._getMinMaxDate(t, "max")
              , s = i && e < i ? i : e;
            return n && n < s ? n : s
        },
        _notifyChange: function(t) {
            var e = this._get(t, "onChangeMonthYear");
            e && e.apply(t.input ? t.input[0] : null, [t.selectedYear, t.selectedMonth + 1, t])
        },
        _getNumberOfMonths: function(t) {
            var e = this._get(t, "numberOfMonths");
            return null == e ? [1, 1] : "number" == typeof e ? [1, e] : e
        },
        _getMinMaxDate: function(t, e) {
            return this._determineDate(t, this._get(t, e + "Date"), null)
        },
        _getDaysInMonth: function(t, e) {
            return 32 - this._daylightSavingAdjust(new Date(t,e,32)).getDate()
        },
        _getFirstDayOfMonth: function(t, e) {
            return new Date(t,e,1).getDay()
        },
        _canAdjustMonth: function(t, e, i, n) {
            var s = this._getNumberOfMonths(t)
              , r = this._daylightSavingAdjust(new Date(i,n + (e < 0 ? e : s[0] * s[1]),1));
            return e < 0 && r.setDate(this._getDaysInMonth(r.getFullYear(), r.getMonth())),
            this._isInRange(t, r)
        },
        _isInRange: function(t, e) {
            var i, n, s = this._getMinMaxDate(t, "min"), r = this._getMinMaxDate(t, "max"), o = null, a = null, l = this._get(t, "yearRange");
            return l && (i = l.split(":"),
            n = (new Date).getFullYear(),
            o = parseInt(i[0], 10),
            a = parseInt(i[1], 10),
            i[0].match(/[+\-].*/) && (o += n),
            i[1].match(/[+\-].*/) && (a += n)),
            (!s || e.getTime() >= s.getTime()) && (!r || e.getTime() <= r.getTime()) && (!o || e.getFullYear() >= o) && (!a || e.getFullYear() <= a)
        },
        _getFormatConfig: function(t) {
            var e = this._get(t, "shortYearCutoff");
            return {
                shortYearCutoff: e = "string" != typeof e ? e : (new Date).getFullYear() % 100 + parseInt(e, 10),
                dayNamesShort: this._get(t, "dayNamesShort"),
                dayNames: this._get(t, "dayNames"),
                monthNamesShort: this._get(t, "monthNamesShort"),
                monthNames: this._get(t, "monthNames")
            }
        },
        _formatDate: function(t, e, i, n) {
            e || (t.currentDay = t.selectedDay,
            t.currentMonth = t.selectedMonth,
            t.currentYear = t.selectedYear);
            var s = e ? "object" == typeof e ? e : this._daylightSavingAdjust(new Date(n,i,e)) : this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));
            return this.formatDate(this._get(t, "dateFormat"), s, this._getFormatConfig(t))
        }
    }),
    D.fn.datepicker = function(t, e) {
        if (!this.length)
            return this;
        D.datepicker.initialized || (D(document).mousedown(D.datepicker._checkExternalClick),
        D.datepicker.initialized = !0),
        0 === D("#" + D.datepicker._mainDivId).length && D("body").append(D.datepicker.dpDiv);
        var i = Array.prototype.slice.call(arguments, 1);
        return "string" != typeof t || "isDisabled" !== t && "getDate" !== t && "widget" !== t ? "option" === t && 2 === arguments.length && "string" == typeof e ? D.datepicker["_" + t + "Datepicker"].apply(D.datepicker, [this[0]].concat(i)) : this.each(function() {
            "string" == typeof t ? D.datepicker["_" + t + "Datepicker"].apply(D.datepicker, [this].concat(i)) : D.datepicker._attachDatepicker(this, t)
        }) : D.datepicker["_" + t + "Datepicker"].apply(D.datepicker, [this[0]].concat(i))
    }
    ,
    D.datepicker = new t,
    D.datepicker.initialized = !1,
    D.datepicker.uuid = (new Date).getTime(),
    D.datepicker.version = "1.11.4";
    D.datepicker;
    D.widget("ui.draggable", D.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "drag",
        options: {
            addClasses: !0,
            appendTo: "parent",
            axis: !1,
            connectToSortable: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            iframeFix: !1,
            opacity: !1,
            refreshPositions: !1,
            revert: !1,
            revertDuration: 500,
            scope: "default",
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            stack: !1,
            zIndex: !1,
            drag: null,
            start: null,
            stop: null
        },
        _create: function() {
            "original" === this.options.helper && this._setPositionRelative(),
            this.options.addClasses && this.element.addClass("ui-draggable"),
            this.options.disabled && this.element.addClass("ui-draggable-disabled"),
            this._setHandleClassName(),
            this._mouseInit()
        },
        _setOption: function(t, e) {
            this._super(t, e),
            "handle" === t && (this._removeHandleClassName(),
            this._setHandleClassName())
        },
        _destroy: function() {
            (this.helper || this.element).is(".ui-draggable-dragging") ? this.destroyOnClear = !0 : (this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),
            this._removeHandleClassName(),
            this._mouseDestroy())
        },
        _mouseCapture: function(t) {
            var e = this.options;
            return this._blurActiveElement(t),
            !(this.helper || e.disabled || 0 < D(t.target).closest(".ui-resizable-handle").length) && (this.handle = this._getHandle(t),
            !!this.handle && (this._blockFrames(!0 === e.iframeFix ? "iframe" : e.iframeFix),
            !0))
        },
        _blockFrames: function(t) {
            this.iframeBlocks = this.document.find(t).map(function() {
                var t = D(this);
                return D("<div>").css("position", "absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]
            })
        },
        _unblockFrames: function() {
            this.iframeBlocks && (this.iframeBlocks.remove(),
            delete this.iframeBlocks)
        },
        _blurActiveElement: function(t) {
            var e = this.document[0];
            if (this.handleElement.is(t.target))
                try {
                    e.activeElement && "body" !== e.activeElement.nodeName.toLowerCase() && D(e.activeElement).blur()
                } catch (i) {}
        },
        _mouseStart: function(t) {
            var e = this.options;
            return this.helper = this._createHelper(t),
            this.helper.addClass("ui-draggable-dragging"),
            this._cacheHelperProportions(),
            D.ui.ddmanager && (D.ui.ddmanager.current = this),
            this._cacheMargins(),
            this.cssPosition = this.helper.css("position"),
            this.scrollParent = this.helper.scrollParent(!0),
            this.offsetParent = this.helper.offsetParent(),
            this.hasFixedAncestor = 0 < this.helper.parents().filter(function() {
                return "fixed" === D(this).css("position")
            }).length,
            this.positionAbs = this.element.offset(),
            this._refreshOffsets(t),
            this.originalPosition = this.position = this._generatePosition(t, !1),
            this.originalPageX = t.pageX,
            this.originalPageY = t.pageY,
            e.cursorAt && this._adjustOffsetFromHelper(e.cursorAt),
            this._setContainment(),
            !1 === this._trigger("start", t) ? (this._clear(),
            !1) : (this._cacheHelperProportions(),
            D.ui.ddmanager && !e.dropBehaviour && D.ui.ddmanager.prepareOffsets(this, t),
            this._normalizeRightBottom(),
            this._mouseDrag(t, !0),
            D.ui.ddmanager && D.ui.ddmanager.dragStart(this, t),
            !0)
        },
        _refreshOffsets: function(t) {
            this.offset = {
                top: this.positionAbs.top - this.margins.top,
                left: this.positionAbs.left - this.margins.left,
                scroll: !1,
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            },
            this.offset.click = {
                left: t.pageX - this.offset.left,
                top: t.pageY - this.offset.top
            }
        },
        _mouseDrag: function(t, e) {
            if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()),
            this.position = this._generatePosition(t, !0),
            this.positionAbs = this._convertPositionTo("absolute"),
            !e) {
                var i = this._uiHash();
                if (!1 === this._trigger("drag", t, i))
                    return this._mouseUp({}),
                    !1;
                this.position = i.position
            }
            return this.helper[0].style.left = this.position.left + "px",
            this.helper[0].style.top = this.position.top + "px",
            D.ui.ddmanager && D.ui.ddmanager.drag(this, t),
            !1
        },
        _mouseStop: function(t) {
            var e = this
              , i = !1;
            return D.ui.ddmanager && !this.options.dropBehaviour && (i = D.ui.ddmanager.drop(this, t)),
            this.dropped && (i = this.dropped,
            this.dropped = !1),
            "invalid" === this.options.revert && !i || "valid" === this.options.revert && i || !0 === this.options.revert || D.isFunction(this.options.revert) && this.options.revert.call(this.element, i) ? D(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                !1 !== e._trigger("stop", t) && e._clear()
            }) : !1 !== this._trigger("stop", t) && this._clear(),
            !1
        },
        _mouseUp: function(t) {
            return this._unblockFrames(),
            D.ui.ddmanager && D.ui.ddmanager.dragStop(this, t),
            this.handleElement.is(t.target) && this.element.focus(),
            D.ui.mouse.prototype._mouseUp.call(this, t)
        },
        cancel: function() {
            return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(),
            this
        },
        _getHandle: function(t) {
            return !this.options.handle || !!D(t.target).closest(this.element.find(this.options.handle)).length
        },
        _setHandleClassName: function() {
            this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element,
            this.handleElement.addClass("ui-draggable-handle")
        },
        _removeHandleClassName: function() {
            this.handleElement.removeClass("ui-draggable-handle")
        },
        _createHelper: function(t) {
            var e = this.options
              , i = D.isFunction(e.helper)
              , n = i ? D(e.helper.apply(this.element[0], [t])) : "clone" === e.helper ? this.element.clone().removeAttr("id") : this.element;
            return n.parents("body").length || n.appendTo("parent" === e.appendTo ? this.element[0].parentNode : e.appendTo),
            i && n[0] === this.element[0] && this._setPositionRelative(),
            n[0] === this.element[0] || /(fixed|absolute)/.test(n.css("position")) || n.css("position", "absolute"),
            n
        },
        _setPositionRelative: function() {
            /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative")
        },
        _adjustOffsetFromHelper: function(t) {
            "string" == typeof t && (t = t.split(" ")),
            D.isArray(t) && (t = {
                left: +t[0],
                top: +t[1] || 0
            }),
            "left"in t && (this.offset.click.left = t.left + this.margins.left),
            "right"in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left),
            "top"in t && (this.offset.click.top = t.top + this.margins.top),
            "bottom"in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
        },
        _isRootNode: function(t) {
            return /(html|body)/i.test(t.tagName) || t === this.document[0]
        },
        _getParentOffset: function() {
            var t = this.offsetParent.offset()
              , e = this.document[0];
            return "absolute" === this.cssPosition && this.scrollParent[0] !== e && D.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(),
            t.top += this.scrollParent.scrollTop()),
            this._isRootNode(this.offsetParent[0]) && (t = {
                top: 0,
                left: 0
            }),
            {
                top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" !== this.cssPosition)
                return {
                    top: 0,
                    left: 0
                };
            var t = this.element.position()
              , e = this._isRootNode(this.scrollParent[0]);
            return {
                top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + (e ? 0 : this.scrollParent.scrollTop()),
                left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + (e ? 0 : this.scrollParent.scrollLeft())
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"), 10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var t, e, i, n = this.options, s = this.document[0];
            this.relativeContainer = null,
            n.containment ? "window" !== n.containment ? "document" !== n.containment ? n.containment.constructor !== Array ? ("parent" === n.containment && (n.containment = this.helper[0].parentNode),
            (i = (e = D(n.containment))[0]) && (t = /(scroll|auto)/.test(e.css("overflow")),
            this.containment = [(parseInt(e.css("borderLeftWidth"), 10) || 0) + (parseInt(e.css("paddingLeft"), 10) || 0), (parseInt(e.css("borderTopWidth"), 10) || 0) + (parseInt(e.css("paddingTop"), 10) || 0), (t ? Math.max(i.scrollWidth, i.offsetWidth) : i.offsetWidth) - (parseInt(e.css("borderRightWidth"), 10) || 0) - (parseInt(e.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (t ? Math.max(i.scrollHeight, i.offsetHeight) : i.offsetHeight) - (parseInt(e.css("borderBottomWidth"), 10) || 0) - (parseInt(e.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom],
            this.relativeContainer = e)) : this.containment = n.containment : this.containment = [0, 0, D(s).width() - this.helperProportions.width - this.margins.left, (D(s).height() || s.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top] : this.containment = [D(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, D(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, D(window).scrollLeft() + D(window).width() - this.helperProportions.width - this.margins.left, D(window).scrollTop() + (D(window).height() || s.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top] : this.containment = null
        },
        _convertPositionTo: function(t, e) {
            e || (e = this.position);
            var i = "absolute" === t ? 1 : -1
              , n = this._isRootNode(this.scrollParent[0]);
            return {
                top: e.top + this.offset.relative.top * i + this.offset.parent.top * i - ("fixed" === this.cssPosition ? -this.offset.scroll.top : n ? 0 : this.offset.scroll.top) * i,
                left: e.left + this.offset.relative.left * i + this.offset.parent.left * i - ("fixed" === this.cssPosition ? -this.offset.scroll.left : n ? 0 : this.offset.scroll.left) * i
            }
        },
        _generatePosition: function(t, e) {
            var i, n, s, r, o = this.options, a = this._isRootNode(this.scrollParent[0]), l = t.pageX, u = t.pageY;
            return a && this.offset.scroll || (this.offset.scroll = {
                top: this.scrollParent.scrollTop(),
                left: this.scrollParent.scrollLeft()
            }),
            e && (this.containment && (this.relativeContainer ? (n = this.relativeContainer.offset(),
            i = [this.containment[0] + n.left, this.containment[1] + n.top, this.containment[2] + n.left, this.containment[3] + n.top]) : i = this.containment,
            t.pageX - this.offset.click.left < i[0] && (l = i[0] + this.offset.click.left),
            t.pageY - this.offset.click.top < i[1] && (u = i[1] + this.offset.click.top),
            t.pageX - this.offset.click.left > i[2] && (l = i[2] + this.offset.click.left),
            t.pageY - this.offset.click.top > i[3] && (u = i[3] + this.offset.click.top)),
            o.grid && (s = o.grid[1] ? this.originalPageY + Math.round((u - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY,
            u = i ? s - this.offset.click.top >= i[1] || s - this.offset.click.top > i[3] ? s : s - this.offset.click.top >= i[1] ? s - o.grid[1] : s + o.grid[1] : s,
            r = o.grid[0] ? this.originalPageX + Math.round((l - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX,
            l = i ? r - this.offset.click.left >= i[0] || r - this.offset.click.left > i[2] ? r : r - this.offset.click.left >= i[0] ? r - o.grid[0] : r + o.grid[0] : r),
            "y" === o.axis && (l = this.originalPageX),
            "x" === o.axis && (u = this.originalPageY)),
            {
                top: u - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : a ? 0 : this.offset.scroll.top),
                left: l - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : a ? 0 : this.offset.scroll.left)
            }
        },
        _clear: function() {
            this.helper.removeClass("ui-draggable-dragging"),
            this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(),
            this.helper = null,
            this.cancelHelperRemoval = !1,
            this.destroyOnClear && this.destroy()
        },
        _normalizeRightBottom: function() {
            "y" !== this.options.axis && "auto" !== this.helper.css("right") && (this.helper.width(this.helper.width()),
            this.helper.css("right", "auto")),
            "x" !== this.options.axis && "auto" !== this.helper.css("bottom") && (this.helper.height(this.helper.height()),
            this.helper.css("bottom", "auto"))
        },
        _trigger: function(t, e, i) {
            return i = i || this._uiHash(),
            D.ui.plugin.call(this, t, [e, i, this], !0),
            /^(drag|start|stop)/.test(t) && (this.positionAbs = this._convertPositionTo("absolute"),
            i.offset = this.positionAbs),
            D.Widget.prototype._trigger.call(this, t, e, i)
        },
        plugins: {},
        _uiHash: function() {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    }),
    D.ui.plugin.add("draggable", "connectToSortable", {
        start: function(e, t, i) {
            var n = D.extend({}, t, {
                item: i.element
            });
            i.sortables = [],
            D(i.options.connectToSortable).each(function() {
                var t = D(this).sortable("instance");
                t && !t.options.disabled && (i.sortables.push(t),
                t.refreshPositions(),
                t._trigger("activate", e, n))
            })
        },
        stop: function(e, t, i) {
            var n = D.extend({}, t, {
                item: i.element
            });
            i.cancelHelperRemoval = !1,
            D.each(i.sortables, function() {
                var t = this;
                t.isOver ? (t.isOver = 0,
                i.cancelHelperRemoval = !0,
                t.cancelHelperRemoval = !1,
                t._storedCSS = {
                    position: t.placeholder.css("position"),
                    top: t.placeholder.css("top"),
                    left: t.placeholder.css("left")
                },
                t._mouseStop(e),
                t.options.helper = t.options._helper) : (t.cancelHelperRemoval = !0,
                t._trigger("deactivate", e, n))
            })
        },
        drag: function(i, n, s) {
            D.each(s.sortables, function() {
                var t = !1
                  , e = this;
                e.positionAbs = s.positionAbs,
                e.helperProportions = s.helperProportions,
                e.offset.click = s.offset.click,
                e._intersectsWith(e.containerCache) && (t = !0,
                D.each(s.sortables, function() {
                    return this.positionAbs = s.positionAbs,
                    this.helperProportions = s.helperProportions,
                    this.offset.click = s.offset.click,
                    this !== e && this._intersectsWith(this.containerCache) && D.contains(e.element[0], this.element[0]) && (t = !1),
                    t
                })),
                t ? (e.isOver || (e.isOver = 1,
                s._parent = n.helper.parent(),
                e.currentItem = n.helper.appendTo(e.element).data("ui-sortable-item", !0),
                e.options._helper = e.options.helper,
                e.options.helper = function() {
                    return n.helper[0]
                }
                ,
                i.target = e.currentItem[0],
                e._mouseCapture(i, !0),
                e._mouseStart(i, !0, !0),
                e.offset.click.top = s.offset.click.top,
                e.offset.click.left = s.offset.click.left,
                e.offset.parent.left -= s.offset.parent.left - e.offset.parent.left,
                e.offset.parent.top -= s.offset.parent.top - e.offset.parent.top,
                s._trigger("toSortable", i),
                s.dropped = e.element,
                D.each(s.sortables, function() {
                    this.refreshPositions()
                }),
                s.currentItem = s.element,
                e.fromOutside = s),
                e.currentItem && (e._mouseDrag(i),
                n.position = e.position)) : e.isOver && (e.isOver = 0,
                e.cancelHelperRemoval = !0,
                e.options._revert = e.options.revert,
                e.options.revert = !1,
                e._trigger("out", i, e._uiHash(e)),
                e._mouseStop(i, !0),
                e.options.revert = e.options._revert,
                e.options.helper = e.options._helper,
                e.placeholder && e.placeholder.remove(),
                n.helper.appendTo(s._parent),
                s._refreshOffsets(i),
                n.position = s._generatePosition(i, !0),
                s._trigger("fromSortable", i),
                s.dropped = !1,
                D.each(s.sortables, function() {
                    this.refreshPositions()
                }))
            })
        }
    }),
    D.ui.plugin.add("draggable", "cursor", {
        start: function(t, e, i) {
            var n = D("body")
              , s = i.options;
            n.css("cursor") && (s._cursor = n.css("cursor")),
            n.css("cursor", s.cursor)
        },
        stop: function(t, e, i) {
            var n = i.options;
            n._cursor && D("body").css("cursor", n._cursor)
        }
    }),
    D.ui.plugin.add("draggable", "opacity", {
        start: function(t, e, i) {
            var n = D(e.helper)
              , s = i.options;
            n.css("opacity") && (s._opacity = n.css("opacity")),
            n.css("opacity", s.opacity)
        },
        stop: function(t, e, i) {
            var n = i.options;
            n._opacity && D(e.helper).css("opacity", n._opacity)
        }
    }),
    D.ui.plugin.add("draggable", "scroll", {
        start: function(t, e, i) {
            i.scrollParentNotHidden || (i.scrollParentNotHidden = i.helper.scrollParent(!1)),
            i.scrollParentNotHidden[0] !== i.document[0] && "HTML" !== i.scrollParentNotHidden[0].tagName && (i.overflowOffset = i.scrollParentNotHidden.offset())
        },
        drag: function(t, e, i) {
            var n = i.options
              , s = !1
              , r = i.scrollParentNotHidden[0]
              , o = i.document[0];
            r !== o && "HTML" !== r.tagName ? (n.axis && "x" === n.axis || (i.overflowOffset.top + r.offsetHeight - t.pageY < n.scrollSensitivity ? r.scrollTop = s = r.scrollTop + n.scrollSpeed : t.pageY - i.overflowOffset.top < n.scrollSensitivity && (r.scrollTop = s = r.scrollTop - n.scrollSpeed)),
            n.axis && "y" === n.axis || (i.overflowOffset.left + r.offsetWidth - t.pageX < n.scrollSensitivity ? r.scrollLeft = s = r.scrollLeft + n.scrollSpeed : t.pageX - i.overflowOffset.left < n.scrollSensitivity && (r.scrollLeft = s = r.scrollLeft - n.scrollSpeed))) : (n.axis && "x" === n.axis || (t.pageY - D(o).scrollTop() < n.scrollSensitivity ? s = D(o).scrollTop(D(o).scrollTop() - n.scrollSpeed) : D(window).height() - (t.pageY - D(o).scrollTop()) < n.scrollSensitivity && (s = D(o).scrollTop(D(o).scrollTop() + n.scrollSpeed))),
            n.axis && "y" === n.axis || (t.pageX - D(o).scrollLeft() < n.scrollSensitivity ? s = D(o).scrollLeft(D(o).scrollLeft() - n.scrollSpeed) : D(window).width() - (t.pageX - D(o).scrollLeft()) < n.scrollSensitivity && (s = D(o).scrollLeft(D(o).scrollLeft() + n.scrollSpeed)))),
            !1 !== s && D.ui.ddmanager && !n.dropBehaviour && D.ui.ddmanager.prepareOffsets(i, t)
        }
    }),
    D.ui.plugin.add("draggable", "snap", {
        start: function(t, e, i) {
            var n = i.options;
            i.snapElements = [],
            D(n.snap.constructor !== String ? n.snap.items || ":data(ui-draggable)" : n.snap).each(function() {
                var t = D(this)
                  , e = t.offset();
                this !== i.element[0] && i.snapElements.push({
                    item: this,
                    width: t.outerWidth(),
                    height: t.outerHeight(),
                    top: e.top,
                    left: e.left
                })
            })
        },
        drag: function(t, e, i) {
            var n, s, r, o, a, l, u, c, h, p, d = i.options, f = d.snapTolerance, m = e.offset.left, g = m + i.helperProportions.width, y = e.offset.top, _ = y + i.helperProportions.height;
            for (h = i.snapElements.length - 1; 0 <= h; h--)
                l = (a = i.snapElements[h].left - i.margins.left) + i.snapElements[h].width,
                c = (u = i.snapElements[h].top - i.margins.top) + i.snapElements[h].height,
                g < a - f || l + f < m || _ < u - f || c + f < y || !D.contains(i.snapElements[h].item.ownerDocument, i.snapElements[h].item) ? (i.snapElements[h].snapping && i.options.snap.release && i.options.snap.release.call(i.element, t, D.extend(i._uiHash(), {
                    snapItem: i.snapElements[h].item
                })),
                i.snapElements[h].snapping = !1) : ("inner" !== d.snapMode && (n = Math.abs(u - _) <= f,
                s = Math.abs(c - y) <= f,
                r = Math.abs(a - g) <= f,
                o = Math.abs(l - m) <= f,
                n && (e.position.top = i._convertPositionTo("relative", {
                    top: u - i.helperProportions.height,
                    left: 0
                }).top),
                s && (e.position.top = i._convertPositionTo("relative", {
                    top: c,
                    left: 0
                }).top),
                r && (e.position.left = i._convertPositionTo("relative", {
                    top: 0,
                    left: a - i.helperProportions.width
                }).left),
                o && (e.position.left = i._convertPositionTo("relative", {
                    top: 0,
                    left: l
                }).left)),
                p = n || s || r || o,
                "outer" !== d.snapMode && (n = Math.abs(u - y) <= f,
                s = Math.abs(c - _) <= f,
                r = Math.abs(a - m) <= f,
                o = Math.abs(l - g) <= f,
                n && (e.position.top = i._convertPositionTo("relative", {
                    top: u,
                    left: 0
                }).top),
                s && (e.position.top = i._convertPositionTo("relative", {
                    top: c - i.helperProportions.height,
                    left: 0
                }).top),
                r && (e.position.left = i._convertPositionTo("relative", {
                    top: 0,
                    left: a
                }).left),
                o && (e.position.left = i._convertPositionTo("relative", {
                    top: 0,
                    left: l - i.helperProportions.width
                }).left)),
                !i.snapElements[h].snapping && (n || s || r || o || p) && i.options.snap.snap && i.options.snap.snap.call(i.element, t, D.extend(i._uiHash(), {
                    snapItem: i.snapElements[h].item
                })),
                i.snapElements[h].snapping = n || s || r || o || p)
        }
    }),
    D.ui.plugin.add("draggable", "stack", {
        start: function(t, e, i) {
            var n, s = i.options, r = D.makeArray(D(s.stack)).sort(function(t, e) {
                return (parseInt(D(t).css("zIndex"), 10) || 0) - (parseInt(D(e).css("zIndex"), 10) || 0)
            });
            r.length && (n = parseInt(D(r[0]).css("zIndex"), 10) || 0,
            D(r).each(function(t) {
                D(this).css("zIndex", n + t)
            }),
            this.css("zIndex", n + r.length))
        }
    }),
    D.ui.plugin.add("draggable", "zIndex", {
        start: function(t, e, i) {
            var n = D(e.helper)
              , s = i.options;
            n.css("zIndex") && (s._zIndex = n.css("zIndex")),
            n.css("zIndex", s.zIndex)
        },
        stop: function(t, e, i) {
            var n = i.options;
            n._zIndex && D(e.helper).css("zIndex", n._zIndex)
        }
    });
    D.ui.draggable;
    D.widget("ui.resizable", D.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _num: function(t) {
            return parseInt(t, 10) || 0
        },
        _isNumber: function(t) {
            return !isNaN(parseInt(t, 10))
        },
        _hasScroll: function(t, e) {
            if ("hidden" === D(t).css("overflow"))
                return !1;
            var i = e && "left" === e ? "scrollLeft" : "scrollTop"
              , n = !1;
            return 0 < t[i] || (t[i] = 1,
            n = 0 < t[i],
            t[i] = 0,
            n)
        },
        _create: function() {
            var t, e, i, n, r = this, s = this.options;
            if (this.element.addClass("ui-resizable"),
            D.extend(this, {
                _aspectRatio: !!s.aspectRatio,
                aspectRatio: s.aspectRatio,
                originalElement: this.element,
                _proportionallyResizeElements: [],
                _helper: s.helper || s.ghost || s.animate ? s.helper || "ui-resizable-helper" : null
            }),
            this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(D("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                position: this.element.css("position"),
                width: this.element.outerWidth(),
                height: this.element.outerHeight(),
                top: this.element.css("top"),
                left: this.element.css("left")
            })),
            this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")),
            this.elementIsWrapper = !0,
            this.element.css({
                marginLeft: this.originalElement.css("marginLeft"),
                marginTop: this.originalElement.css("marginTop"),
                marginRight: this.originalElement.css("marginRight"),
                marginBottom: this.originalElement.css("marginBottom")
            }),
            this.originalElement.css({
                marginLeft: 0,
                marginTop: 0,
                marginRight: 0,
                marginBottom: 0
            }),
            this.originalResizeStyle = this.originalElement.css("resize"),
            this.originalElement.css("resize", "none"),
            this._proportionallyResizeElements.push(this.originalElement.css({
                position: "static",
                zoom: 1,
                display: "block"
            })),
            this.originalElement.css({
                margin: this.originalElement.css("margin")
            }),
            this._proportionallyResize()),
            this.handles = s.handles || (D(".ui-resizable-handle", this.element).length ? {
                n: ".ui-resizable-n",
                e: ".ui-resizable-e",
                s: ".ui-resizable-s",
                w: ".ui-resizable-w",
                se: ".ui-resizable-se",
                sw: ".ui-resizable-sw",
                ne: ".ui-resizable-ne",
                nw: ".ui-resizable-nw"
            } : "e,s,se"),
            this._handles = D(),
            this.handles.constructor === String)
                for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"),
                t = this.handles.split(","),
                this.handles = {},
                e = 0; e < t.length; e++)
                    i = D.trim(t[e]),
                    (n = D("<div class='ui-resizable-handle " + ("ui-resizable-" + i) + "'></div>")).css({
                        zIndex: s.zIndex
                    }),
                    "se" === i && n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),
                    this.handles[i] = ".ui-resizable-" + i,
                    this.element.append(n);
            this._renderAxis = function(t) {
                var e, i, n, s;
                for (e in t = t || this.element,
                this.handles)
                    this.handles[e].constructor === String ? this.handles[e] = this.element.children(this.handles[e]).first().show() : (this.handles[e].jquery || this.handles[e].nodeType) && (this.handles[e] = D(this.handles[e]),
                    this._on(this.handles[e], {
                        mousedown: r._mouseDown
                    })),
                    this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (i = D(this.handles[e], this.element),
                    s = /sw|ne|nw|se|n|s/.test(e) ? i.outerHeight() : i.outerWidth(),
                    n = ["padding", /ne|nw|n/.test(e) ? "Top" : /se|sw|s/.test(e) ? "Bottom" : /^e$/.test(e) ? "Right" : "Left"].join(""),
                    t.css(n, s),
                    this._proportionallyResize()),
                    this._handles = this._handles.add(this.handles[e])
            }
            ,
            this._renderAxis(this.element),
            this._handles = this._handles.add(this.element.find(".ui-resizable-handle")),
            this._handles.disableSelection(),
            this._handles.mouseover(function() {
                r.resizing || (this.className && (n = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),
                r.axis = n && n[1] ? n[1] : "se")
            }),
            s.autoHide && (this._handles.hide(),
            D(this.element).addClass("ui-resizable-autohide").mouseenter(function() {
                s.disabled || (D(this).removeClass("ui-resizable-autohide"),
                r._handles.show())
            }).mouseleave(function() {
                s.disabled || r.resizing || (D(this).addClass("ui-resizable-autohide"),
                r._handles.hide())
            })),
            this._mouseInit()
        },
        _destroy: function() {
            this._mouseDestroy();
            var t, e = function(t) {
                D(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
            };
            return this.elementIsWrapper && (e(this.element),
            t = this.element,
            this.originalElement.css({
                position: t.css("position"),
                width: t.outerWidth(),
                height: t.outerHeight(),
                top: t.css("top"),
                left: t.css("left")
            }).insertAfter(t),
            t.remove()),
            this.originalElement.css("resize", this.originalResizeStyle),
            e(this.originalElement),
            this
        },
        _mouseCapture: function(t) {
            var e, i, n = !1;
            for (e in this.handles)
                ((i = D(this.handles[e])[0]) === t.target || D.contains(i, t.target)) && (n = !0);
            return !this.options.disabled && n
        },
        _mouseStart: function(t) {
            var e, i, n, s = this.options, r = this.element;
            return this.resizing = !0,
            this._renderProxy(),
            e = this._num(this.helper.css("left")),
            i = this._num(this.helper.css("top")),
            s.containment && (e += D(s.containment).scrollLeft() || 0,
            i += D(s.containment).scrollTop() || 0),
            this.offset = this.helper.offset(),
            this.position = {
                left: e,
                top: i
            },
            this.size = this._helper ? {
                width: this.helper.width(),
                height: this.helper.height()
            } : {
                width: r.width(),
                height: r.height()
            },
            this.originalSize = this._helper ? {
                width: r.outerWidth(),
                height: r.outerHeight()
            } : {
                width: r.width(),
                height: r.height()
            },
            this.sizeDiff = {
                width: r.outerWidth() - r.width(),
                height: r.outerHeight() - r.height()
            },
            this.originalPosition = {
                left: e,
                top: i
            },
            this.originalMousePosition = {
                left: t.pageX,
                top: t.pageY
            },
            this.aspectRatio = "number" == typeof s.aspectRatio ? s.aspectRatio : this.originalSize.width / this.originalSize.height || 1,
            n = D(".ui-resizable-" + this.axis).css("cursor"),
            D("body").css("cursor", "auto" === n ? this.axis + "-resize" : n),
            r.addClass("ui-resizable-resizing"),
            this._propagate("start", t),
            !0
        },
        _mouseDrag: function(t) {
            var e, i, n = this.originalMousePosition, s = this.axis, r = t.pageX - n.left || 0, o = t.pageY - n.top || 0, a = this._change[s];
            return this._updatePrevProperties(),
            a && (e = a.apply(this, [t, r, o]),
            this._updateVirtualBoundaries(t.shiftKey),
            (this._aspectRatio || t.shiftKey) && (e = this._updateRatio(e, t)),
            e = this._respectSize(e, t),
            this._updateCache(e),
            this._propagate("resize", t),
            i = this._applyChanges(),
            !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(),
            D.isEmptyObject(i) || (this._updatePrevProperties(),
            this._trigger("resize", t, this.ui()),
            this._applyChanges())),
            !1
        },
        _mouseStop: function(t) {
            this.resizing = !1;
            var e, i, n, s, r, o, a, l = this.options, u = this;
            return this._helper && (n = (i = (e = this._proportionallyResizeElements).length && /textarea/i.test(e[0].nodeName)) && this._hasScroll(e[0], "left") ? 0 : u.sizeDiff.height,
            s = i ? 0 : u.sizeDiff.width,
            r = {
                width: u.helper.width() - s,
                height: u.helper.height() - n
            },
            o = parseInt(u.element.css("left"), 10) + (u.position.left - u.originalPosition.left) || null,
            a = parseInt(u.element.css("top"), 10) + (u.position.top - u.originalPosition.top) || null,
            l.animate || this.element.css(D.extend(r, {
                top: a,
                left: o
            })),
            u.helper.height(u.size.height),
            u.helper.width(u.size.width),
            this._helper && !l.animate && this._proportionallyResize()),
            D("body").css("cursor", "auto"),
            this.element.removeClass("ui-resizable-resizing"),
            this._propagate("stop", t),
            this._helper && this.helper.remove(),
            !1
        },
        _updatePrevProperties: function() {
            this.prevPosition = {
                top: this.position.top,
                left: this.position.left
            },
            this.prevSize = {
                width: this.size.width,
                height: this.size.height
            }
        },
        _applyChanges: function() {
            var t = {};
            return this.position.top !== this.prevPosition.top && (t.top = this.position.top + "px"),
            this.position.left !== this.prevPosition.left && (t.left = this.position.left + "px"),
            this.size.width !== this.prevSize.width && (t.width = this.size.width + "px"),
            this.size.height !== this.prevSize.height && (t.height = this.size.height + "px"),
            this.helper.css(t),
            t
        },
        _updateVirtualBoundaries: function(t) {
            var e, i, n, s, r, o = this.options;
            r = {
                minWidth: this._isNumber(o.minWidth) ? o.minWidth : 0,
                maxWidth: this._isNumber(o.maxWidth) ? o.maxWidth : Infinity,
                minHeight: this._isNumber(o.minHeight) ? o.minHeight : 0,
                maxHeight: this._isNumber(o.maxHeight) ? o.maxHeight : Infinity
            },
            (this._aspectRatio || t) && (e = r.minHeight * this.aspectRatio,
            n = r.minWidth / this.aspectRatio,
            i = r.maxHeight * this.aspectRatio,
            s = r.maxWidth / this.aspectRatio,
            e > r.minWidth && (r.minWidth = e),
            n > r.minHeight && (r.minHeight = n),
            i < r.maxWidth && (r.maxWidth = i),
            s < r.maxHeight && (r.maxHeight = s)),
            this._vBoundaries = r
        },
        _updateCache: function(t) {
            this.offset = this.helper.offset(),
            this._isNumber(t.left) && (this.position.left = t.left),
            this._isNumber(t.top) && (this.position.top = t.top),
            this._isNumber(t.height) && (this.size.height = t.height),
            this._isNumber(t.width) && (this.size.width = t.width)
        },
        _updateRatio: function(t) {
            var e = this.position
              , i = this.size
              , n = this.axis;
            return this._isNumber(t.height) ? t.width = t.height * this.aspectRatio : this._isNumber(t.width) && (t.height = t.width / this.aspectRatio),
            "sw" === n && (t.left = e.left + (i.width - t.width),
            t.top = null),
            "nw" === n && (t.top = e.top + (i.height - t.height),
            t.left = e.left + (i.width - t.width)),
            t
        },
        _respectSize: function(t) {
            var e = this._vBoundaries
              , i = this.axis
              , n = this._isNumber(t.width) && e.maxWidth && e.maxWidth < t.width
              , s = this._isNumber(t.height) && e.maxHeight && e.maxHeight < t.height
              , r = this._isNumber(t.width) && e.minWidth && e.minWidth > t.width
              , o = this._isNumber(t.height) && e.minHeight && e.minHeight > t.height
              , a = this.originalPosition.left + this.originalSize.width
              , l = this.position.top + this.size.height
              , u = /sw|nw|w/.test(i)
              , c = /nw|ne|n/.test(i);
            return r && (t.width = e.minWidth),
            o && (t.height = e.minHeight),
            n && (t.width = e.maxWidth),
            s && (t.height = e.maxHeight),
            r && u && (t.left = a - e.minWidth),
            n && u && (t.left = a - e.maxWidth),
            o && c && (t.top = l - e.minHeight),
            s && c && (t.top = l - e.maxHeight),
            t.width || t.height || t.left || !t.top ? t.width || t.height || t.top || !t.left || (t.left = null) : t.top = null,
            t
        },
        _getPaddingPlusBorderDimensions: function(t) {
            for (var e = 0, i = [], n = [t.css("borderTopWidth"), t.css("borderRightWidth"), t.css("borderBottomWidth"), t.css("borderLeftWidth")], s = [t.css("paddingTop"), t.css("paddingRight"), t.css("paddingBottom"), t.css("paddingLeft")]; e < 4; e++)
                i[e] = parseInt(n[e], 10) || 0,
                i[e] += parseInt(s[e], 10) || 0;
            return {
                height: i[0] + i[2],
                width: i[1] + i[3]
            }
        },
        _proportionallyResize: function() {
            if (this._proportionallyResizeElements.length)
                for (var t, e = 0, i = this.helper || this.element; e < this._proportionallyResizeElements.length; e++)
                    t = this._proportionallyResizeElements[e],
                    this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(t)),
                    t.css({
                        height: i.height() - this.outerDimensions.height || 0,
                        width: i.width() - this.outerDimensions.width || 0
                    })
        },
        _renderProxy: function() {
            var t = this.element
              , e = this.options;
            this.elementOffset = t.offset(),
            this._helper ? (this.helper = this.helper || D("<div style='overflow:hidden;'></div>"),
            this.helper.addClass(this._helper).css({
                width: this.element.outerWidth() - 1,
                height: this.element.outerHeight() - 1,
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++e.zIndex
            }),
            this.helper.appendTo("body").disableSelection()) : this.helper = this.element
        },
        _change: {
            e: function(t, e) {
                return {
                    width: this.originalSize.width + e
                }
            },
            w: function(t, e) {
                var i = this.originalSize;
                return {
                    left: this.originalPosition.left + e,
                    width: i.width - e
                }
            },
            n: function(t, e, i) {
                var n = this.originalSize;
                return {
                    top: this.originalPosition.top + i,
                    height: n.height - i
                }
            },
            s: function(t, e, i) {
                return {
                    height: this.originalSize.height + i
                }
            },
            se: function(t, e, i) {
                return D.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [t, e, i]))
            },
            sw: function(t, e, i) {
                return D.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [t, e, i]))
            },
            ne: function(t, e, i) {
                return D.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [t, e, i]))
            },
            nw: function(t, e, i) {
                return D.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [t, e, i]))
            }
        },
        _propagate: function(t, e) {
            D.ui.plugin.call(this, t, [e, this.ui()]),
            "resize" !== t && this._trigger(t, e, this.ui())
        },
        plugins: {},
        ui: function() {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    }),
    D.ui.plugin.add("resizable", "animate", {
        stop: function(e) {
            var i = D(this).resizable("instance")
              , t = i.options
              , n = i._proportionallyResizeElements
              , s = n.length && /textarea/i.test(n[0].nodeName)
              , r = s && i._hasScroll(n[0], "left") ? 0 : i.sizeDiff.height
              , o = s ? 0 : i.sizeDiff.width
              , a = {
                width: i.size.width - o,
                height: i.size.height - r
            }
              , l = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null
              , u = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null;
            i.element.animate(D.extend(a, u && l ? {
                top: u,
                left: l
            } : {}), {
                duration: t.animateDuration,
                easing: t.animateEasing,
                step: function() {
                    var t = {
                        width: parseInt(i.element.css("width"), 10),
                        height: parseInt(i.element.css("height"), 10),
                        top: parseInt(i.element.css("top"), 10),
                        left: parseInt(i.element.css("left"), 10)
                    };
                    n && n.length && D(n[0]).css({
                        width: t.width,
                        height: t.height
                    }),
                    i._updateCache(t),
                    i._propagate("resize", e)
                }
            })
        }
    }),
    D.ui.plugin.add("resizable", "containment", {
        start: function() {
            var i, n, t, e, s, r, o, a = D(this).resizable("instance"), l = a.options, u = a.element, c = l.containment, h = c instanceof D ? c.get(0) : /parent/.test(c) ? u.parent().get(0) : c;
            h && (a.containerElement = D(h),
            /document/.test(c) || c === document ? (a.containerOffset = {
                left: 0,
                top: 0
            },
            a.containerPosition = {
                left: 0,
                top: 0
            },
            a.parentData = {
                element: D(document),
                left: 0,
                top: 0,
                width: D(document).width(),
                height: D(document).height() || document.body.parentNode.scrollHeight
            }) : (i = D(h),
            n = [],
            D(["Top", "Right", "Left", "Bottom"]).each(function(t, e) {
                n[t] = a._num(i.css("padding" + e))
            }),
            a.containerOffset = i.offset(),
            a.containerPosition = i.position(),
            a.containerSize = {
                height: i.innerHeight() - n[3],
                width: i.innerWidth() - n[1]
            },
            t = a.containerOffset,
            e = a.containerSize.height,
            s = a.containerSize.width,
            r = a._hasScroll(h, "left") ? h.scrollWidth : s,
            o = a._hasScroll(h) ? h.scrollHeight : e,
            a.parentData = {
                element: h,
                left: t.left,
                top: t.top,
                width: r,
                height: o
            }))
        },
        resize: function(t) {
            var e, i, n, s, r = D(this).resizable("instance"), o = r.options, a = r.containerOffset, l = r.position, u = r._aspectRatio || t.shiftKey, c = {
                top: 0,
                left: 0
            }, h = r.containerElement, p = !0;
            h[0] !== document && /static/.test(h.css("position")) && (c = a),
            l.left < (r._helper ? a.left : 0) && (r.size.width = r.size.width + (r._helper ? r.position.left - a.left : r.position.left - c.left),
            u && (r.size.height = r.size.width / r.aspectRatio,
            p = !1),
            r.position.left = o.helper ? a.left : 0),
            l.top < (r._helper ? a.top : 0) && (r.size.height = r.size.height + (r._helper ? r.position.top - a.top : r.position.top),
            u && (r.size.width = r.size.height * r.aspectRatio,
            p = !1),
            r.position.top = r._helper ? a.top : 0),
            n = r.containerElement.get(0) === r.element.parent().get(0),
            s = /relative|absolute/.test(r.containerElement.css("position")),
            n && s ? (r.offset.left = r.parentData.left + r.position.left,
            r.offset.top = r.parentData.top + r.position.top) : (r.offset.left = r.element.offset().left,
            r.offset.top = r.element.offset().top),
            e = Math.abs(r.sizeDiff.width + (r._helper ? r.offset.left - c.left : r.offset.left - a.left)),
            i = Math.abs(r.sizeDiff.height + (r._helper ? r.offset.top - c.top : r.offset.top - a.top)),
            e + r.size.width >= r.parentData.width && (r.size.width = r.parentData.width - e,
            u && (r.size.height = r.size.width / r.aspectRatio,
            p = !1)),
            i + r.size.height >= r.parentData.height && (r.size.height = r.parentData.height - i,
            u && (r.size.width = r.size.height * r.aspectRatio,
            p = !1)),
            p || (r.position.left = r.prevPosition.left,
            r.position.top = r.prevPosition.top,
            r.size.width = r.prevSize.width,
            r.size.height = r.prevSize.height)
        },
        stop: function() {
            var t = D(this).resizable("instance")
              , e = t.options
              , i = t.containerOffset
              , n = t.containerPosition
              , s = t.containerElement
              , r = D(t.helper)
              , o = r.offset()
              , a = r.outerWidth() - t.sizeDiff.width
              , l = r.outerHeight() - t.sizeDiff.height;
            t._helper && !e.animate && /relative/.test(s.css("position")) && D(this).css({
                left: o.left - n.left - i.left,
                width: a,
                height: l
            }),
            t._helper && !e.animate && /static/.test(s.css("position")) && D(this).css({
                left: o.left - n.left - i.left,
                width: a,
                height: l
            })
        }
    }),
    D.ui.plugin.add("resizable", "alsoResize", {
        start: function() {
            var t = D(this).resizable("instance").options;
            D(t.alsoResize).each(function() {
                var t = D(this);
                t.data("ui-resizable-alsoresize", {
                    width: parseInt(t.width(), 10),
                    height: parseInt(t.height(), 10),
                    left: parseInt(t.css("left"), 10),
                    top: parseInt(t.css("top"), 10)
                })
            })
        },
        resize: function(t, i) {
            var e = D(this).resizable("instance")
              , n = e.options
              , s = e.originalSize
              , r = e.originalPosition
              , o = {
                height: e.size.height - s.height || 0,
                width: e.size.width - s.width || 0,
                top: e.position.top - r.top || 0,
                left: e.position.left - r.left || 0
            };
            D(n.alsoResize).each(function() {
                var t = D(this)
                  , n = D(this).data("ui-resizable-alsoresize")
                  , s = {}
                  , e = t.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                D.each(e, function(t, e) {
                    var i = (n[e] || 0) + (o[e] || 0);
                    i && 0 <= i && (s[e] = i || null)
                }),
                t.css(s)
            })
        },
        stop: function() {
            D(this).removeData("resizable-alsoresize")
        }
    }),
    D.ui.plugin.add("resizable", "ghost", {
        start: function() {
            var t = D(this).resizable("instance")
              , e = t.options
              , i = t.size;
            t.ghost = t.originalElement.clone(),
            t.ghost.css({
                opacity: .25,
                display: "block",
                position: "relative",
                height: i.height,
                width: i.width,
                margin: 0,
                left: 0,
                top: 0
            }).addClass("ui-resizable-ghost").addClass("string" == typeof e.ghost ? e.ghost : ""),
            t.ghost.appendTo(t.helper)
        },
        resize: function() {
            var t = D(this).resizable("instance");
            t.ghost && t.ghost.css({
                position: "relative",
                height: t.size.height,
                width: t.size.width
            })
        },
        stop: function() {
            var t = D(this).resizable("instance");
            t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0))
        }
    }),
    D.ui.plugin.add("resizable", "grid", {
        resize: function() {
            var t, e = D(this).resizable("instance"), i = e.options, n = e.size, s = e.originalSize, r = e.originalPosition, o = e.axis, a = "number" == typeof i.grid ? [i.grid, i.grid] : i.grid, l = a[0] || 1, u = a[1] || 1, c = Math.round((n.width - s.width) / l) * l, h = Math.round((n.height - s.height) / u) * u, p = s.width + c, d = s.height + h, f = i.maxWidth && i.maxWidth < p, m = i.maxHeight && i.maxHeight < d, g = i.minWidth && i.minWidth > p, y = i.minHeight && i.minHeight > d;
            i.grid = a,
            g && (p += l),
            y && (d += u),
            f && (p -= l),
            m && (d -= u),
            /^(se|s|e)$/.test(o) ? (e.size.width = p,
            e.size.height = d) : /^(ne)$/.test(o) ? (e.size.width = p,
            e.size.height = d,
            e.position.top = r.top - h) : /^(sw)$/.test(o) ? (e.size.width = p,
            e.size.height = d,
            e.position.left = r.left - c) : ((d - u <= 0 || p - l <= 0) && (t = e._getPaddingPlusBorderDimensions(this)),
            0 < d - u ? (e.size.height = d,
            e.position.top = r.top - h) : (d = u - t.height,
            e.size.height = d,
            e.position.top = r.top + s.height - d),
            0 < p - l ? (e.size.width = p,
            e.position.left = r.left - c) : (p = l - t.width,
            e.size.width = p,
            e.position.left = r.left + s.width - p))
        }
    });
    D.ui.resizable,
    D.widget("ui.dialog", {
        version: "1.11.4",
        options: {
            appendTo: "body",
            autoOpen: !0,
            buttons: [],
            closeOnEscape: !0,
            closeText: "Close",
            dialogClass: "",
            draggable: !0,
            hide: null,
            height: "auto",
            maxHeight: null,
            maxWidth: null,
            minHeight: 150,
            minWidth: 150,
            modal: !1,
            position: {
                my: "center",
                at: "center",
                of: window,
                collision: "fit",
                using: function(t) {
                    var e = D(this).css(t).offset().top;
                    e < 0 && D(this).css("top", t.top - e)
                }
            },
            resizable: !0,
            show: null,
            title: null,
            width: 300,
            beforeClose: null,
            close: null,
            drag: null,
            dragStart: null,
            dragStop: null,
            focus: null,
            open: null,
            resize: null,
            resizeStart: null,
            resizeStop: null
        },
        sizeRelatedOptions: {
            buttons: !0,
            height: !0,
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0,
            width: !0
        },
        resizableRelatedOptions: {
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0
        },
        _create: function() {
            this.originalCss = {
                display: this.element[0].style.display,
                width: this.element[0].style.width,
                minHeight: this.element[0].style.minHeight,
                maxHeight: this.element[0].style.maxHeight,
                height: this.element[0].style.height
            },
            this.originalPosition = {
                parent: this.element.parent(),
                index: this.element.parent().children().index(this.element)
            },
            this.originalTitle = this.element.attr("title"),
            this.options.title = this.options.title || this.originalTitle,
            this._createWrapper(),
            this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),
            this._createTitlebar(),
            this._createButtonPane(),
            this.options.draggable && D.fn.draggable && this._makeDraggable(),
            this.options.resizable && D.fn.resizable && this._makeResizable(),
            this._isOpen = !1,
            this._trackFocus()
        },
        _init: function() {
            this.options.autoOpen && this.open()
        },
        _appendTo: function() {
            var t = this.options.appendTo;
            return t && (t.jquery || t.nodeType) ? D(t) : this.document.find(t || "body").eq(0)
        },
        _destroy: function() {
            var t, e = this.originalPosition;
            this._untrackInstance(),
            this._destroyOverlay(),
            this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),
            this.uiDialog.stop(!0, !0).remove(),
            this.originalTitle && this.element.attr("title", this.originalTitle),
            (t = e.parent.children().eq(e.index)).length && t[0] !== this.element[0] ? t.before(this.element) : e.parent.append(this.element)
        },
        widget: function() {
            return this.uiDialog
        },
        disable: D.noop,
        enable: D.noop,
        close: function(t) {
            var e, i = this;
            if (this._isOpen && !1 !== this._trigger("beforeClose", t)) {
                if (this._isOpen = !1,
                this._focusedElement = null,
                this._destroyOverlay(),
                this._untrackInstance(),
                !this.opener.filter(":focusable").focus().length)
                    try {
                        (e = this.document[0].activeElement) && "body" !== e.nodeName.toLowerCase() && D(e).blur()
                    } catch (n) {}
                this._hide(this.uiDialog, this.options.hide, function() {
                    i._trigger("close", t)
                })
            }
        },
        isOpen: function() {
            return this._isOpen
        },
        moveToTop: function() {
            this._moveToTop()
        },
        _moveToTop: function(t, e) {
            var i = !1
              , n = this.uiDialog.siblings(".ui-front:visible").map(function() {
                return +D(this).css("z-index")
            }).get()
              , s = Math.max.apply(null, n);
            return s >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", s + 1),
            i = !0),
            i && !e && this._trigger("focus", t),
            i
        },
        open: function() {
            var t = this;
            this._isOpen ? this._moveToTop() && this._focusTabbable() : (this._isOpen = !0,
            this.opener = D(this.document[0].activeElement),
            this._size(),
            this._position(),
            this._createOverlay(),
            this._moveToTop(null, !0),
            this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1),
            this._show(this.uiDialog, this.options.show, function() {
                t._focusTabbable(),
                t._trigger("focus")
            }),
            this._makeFocusTarget(),
            this._trigger("open"))
        },
        _focusTabbable: function() {
            var t = this._focusedElement;
            t || (t = this.element.find("[autofocus]")),
            t.length || (t = this.element.find(":tabbable")),
            t.length || (t = this.uiDialogButtonPane.find(":tabbable")),
            t.length || (t = this.uiDialogTitlebarClose.filter(":tabbable")),
            t.length || (t = this.uiDialog),
            t.eq(0).focus()
        },
        _keepFocus: function(t) {
            function e() {
                var t = this.document[0].activeElement;
                this.uiDialog[0] === t || D.contains(this.uiDialog[0], t) || this._focusTabbable()
            }
            t.preventDefault(),
            e.call(this),
            this._delay(e)
        },
        _createWrapper: function() {
            this.uiDialog = D("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                tabIndex: -1,
                role: "dialog"
            }).appendTo(this._appendTo()),
            this._on(this.uiDialog, {
                keydown: function(t) {
                    if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === D.ui.keyCode.ESCAPE)
                        return t.preventDefault(),
                        void this.close(t);
                    if (t.keyCode === D.ui.keyCode.TAB && !t.isDefaultPrevented()) {
                        var e = this.uiDialog.find(":tabbable")
                          , i = e.filter(":first")
                          , n = e.filter(":last");
                        t.target !== n[0] && t.target !== this.uiDialog[0] || t.shiftKey ? t.target !== i[0] && t.target !== this.uiDialog[0] || !t.shiftKey || (this._delay(function() {
                            n.focus()
                        }),
                        t.preventDefault()) : (this._delay(function() {
                            i.focus()
                        }),
                        t.preventDefault())
                    }
                },
                mousedown: function(t) {
                    this._moveToTop(t) && this._focusTabbable()
                }
            }),
            this.element.find("[aria-describedby]").length || this.uiDialog.attr({
                "aria-describedby": this.element.uniqueId().attr("id")
            })
        },
        _createTitlebar: function() {
            var t;
            this.uiDialogTitlebar = D("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),
            this._on(this.uiDialogTitlebar, {
                mousedown: function(t) {
                    D(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus()
                }
            }),
            this.uiDialogTitlebarClose = D("<button type='button'></button>").button({
                label: this.options.closeText,
                icons: {
                    primary: "ui-icon-closethick"
                },
                text: !1
            }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),
            this._on(this.uiDialogTitlebarClose, {
                click: function(t) {
                    t.preventDefault(),
                    this.close(t)
                }
            }),
            t = D("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),
            this._title(t),
            this.uiDialog.attr({
                "aria-labelledby": t.attr("id")
            })
        },
        _title: function(t) {
            this.options.title || t.html("&#160;"),
            t.text(this.options.title)
        },
        _createButtonPane: function() {
            this.uiDialogButtonPane = D("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),
            this.uiButtonSet = D("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),
            this._createButtons()
        },
        _createButtons: function() {
            var s = this
              , t = this.options.buttons;
            this.uiDialogButtonPane.remove(),
            this.uiButtonSet.empty(),
            D.isEmptyObject(t) || D.isArray(t) && !t.length ? this.uiDialog.removeClass("ui-dialog-buttons") : (D.each(t, function(t, e) {
                var i, n;
                e = D.isFunction(e) ? {
                    click: e,
                    text: t
                } : e,
                e = D.extend({
                    type: "button"
                }, e),
                i = e.click,
                e.click = function() {
                    i.apply(s.element[0], arguments)
                }
                ,
                n = {
                    icons: e.icons,
                    text: e.showText
                },
                delete e.icons,
                delete e.showText,
                D("<button></button>", e).button(n).appendTo(s.uiButtonSet)
            }),
            this.uiDialog.addClass("ui-dialog-buttons"),
            this.uiDialogButtonPane.appendTo(this.uiDialog))
        },
        _makeDraggable: function() {
            function s(t) {
                return {
                    position: t.position,
                    offset: t.offset
                }
            }
            var r = this
              , o = this.options;
            this.uiDialog.draggable({
                cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                handle: ".ui-dialog-titlebar",
                containment: "document",
                start: function(t, e) {
                    D(this).addClass("ui-dialog-dragging"),
                    r._blockFrames(),
                    r._trigger("dragStart", t, s(e))
                },
                drag: function(t, e) {
                    r._trigger("drag", t, s(e))
                },
                stop: function(t, e) {
                    var i = e.offset.left - r.document.scrollLeft()
                      , n = e.offset.top - r.document.scrollTop();
                    o.position = {
                        my: "left top",
                        at: "left" + (0 <= i ? "+" : "") + i + " top" + (0 <= n ? "+" : "") + n,
                        of: r.window
                    },
                    D(this).removeClass("ui-dialog-dragging"),
                    r._unblockFrames(),
                    r._trigger("dragStop", t, s(e))
                }
            })
        },
        _makeResizable: function() {
            function r(t) {
                return {
                    originalPosition: t.originalPosition,
                    originalSize: t.originalSize,
                    position: t.position,
                    size: t.size
                }
            }
            var o = this
              , a = this.options
              , t = a.resizable
              , e = this.uiDialog.css("position")
              , i = "string" == typeof t ? t : "n,e,s,w,se,sw,ne,nw";
            this.uiDialog.resizable({
                cancel: ".ui-dialog-content",
                containment: "document",
                alsoResize: this.element,
                maxWidth: a.maxWidth,
                maxHeight: a.maxHeight,
                minWidth: a.minWidth,
                minHeight: this._minHeight(),
                handles: i,
                start: function(t, e) {
                    D(this).addClass("ui-dialog-resizing"),
                    o._blockFrames(),
                    o._trigger("resizeStart", t, r(e))
                },
                resize: function(t, e) {
                    o._trigger("resize", t, r(e))
                },
                stop: function(t, e) {
                    var i = o.uiDialog.offset()
                      , n = i.left - o.document.scrollLeft()
                      , s = i.top - o.document.scrollTop();
                    a.height = o.uiDialog.height(),
                    a.width = o.uiDialog.width(),
                    a.position = {
                        my: "left top",
                        at: "left" + (0 <= n ? "+" : "") + n + " top" + (0 <= s ? "+" : "") + s,
                        of: o.window
                    },
                    D(this).removeClass("ui-dialog-resizing"),
                    o._unblockFrames(),
                    o._trigger("resizeStop", t, r(e))
                }
            }).css("position", e)
        },
        _trackFocus: function() {
            this._on(this.widget(), {
                focusin: function(t) {
                    this._makeFocusTarget(),
                    this._focusedElement = D(t.target)
                }
            })
        },
        _makeFocusTarget: function() {
            this._untrackInstance(),
            this._trackingInstances().unshift(this)
        },
        _untrackInstance: function() {
            var t = this._trackingInstances()
              , e = D.inArray(this, t);
            -1 !== e && t.splice(e, 1)
        },
        _trackingInstances: function() {
            var t = this.document.data("ui-dialog-instances");
            return t || (t = [],
            this.document.data("ui-dialog-instances", t)),
            t
        },
        _minHeight: function() {
            var t = this.options;
            return "auto" === t.height ? t.minHeight : Math.min(t.minHeight, t.height)
        },
        _position: function() {
            var t = this.uiDialog.is(":visible");
            t || this.uiDialog.show(),
            this.uiDialog.position(this.options.position),
            t || this.uiDialog.hide()
        },
        _setOptions: function(t) {
            var i = this
              , n = !1
              , s = {};
            D.each(t, function(t, e) {
                i._setOption(t, e),
                t in i.sizeRelatedOptions && (n = !0),
                t in i.resizableRelatedOptions && (s[t] = e)
            }),
            n && (this._size(),
            this._position()),
            this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", s)
        },
        _setOption: function(t, e) {
            var i, n, s = this.uiDialog;
            "dialogClass" === t && s.removeClass(this.options.dialogClass).addClass(e),
            "disabled" !== t && (this._super(t, e),
            "appendTo" === t && this.uiDialog.appendTo(this._appendTo()),
            "buttons" === t && this._createButtons(),
            "closeText" === t && this.uiDialogTitlebarClose.button({
                label: "" + e
            }),
            "draggable" === t && ((i = s.is(":data(ui-draggable)")) && !e && s.draggable("destroy"),
            !i && e && this._makeDraggable()),
            "position" === t && this._position(),
            "resizable" === t && ((n = s.is(":data(ui-resizable)")) && !e && s.resizable("destroy"),
            n && "string" == typeof e && s.resizable("option", "handles", e),
            n || !1 === e || this._makeResizable()),
            "title" === t && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
        },
        _size: function() {
            var t, e, i, n = this.options;
            this.element.show().css({
                width: "auto",
                minHeight: 0,
                maxHeight: "none",
                height: 0
            }),
            n.minWidth > n.width && (n.width = n.minWidth),
            t = this.uiDialog.css({
                height: "auto",
                width: n.width
            }).outerHeight(),
            e = Math.max(0, n.minHeight - t),
            i = "number" == typeof n.maxHeight ? Math.max(0, n.maxHeight - t) : "none",
            "auto" === n.height ? this.element.css({
                minHeight: e,
                maxHeight: i,
                height: "auto"
            }) : this.element.height(Math.max(0, n.height - t)),
            this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
        },
        _blockFrames: function() {
            this.iframeBlocks = this.document.find("iframe").map(function() {
                var t = D(this);
                return D("<div>").css({
                    position: "absolute",
                    width: t.outerWidth(),
                    height: t.outerHeight()
                }).appendTo(t.parent()).offset(t.offset())[0]
            })
        },
        _unblockFrames: function() {
            this.iframeBlocks && (this.iframeBlocks.remove(),
            delete this.iframeBlocks)
        },
        _allowInteraction: function(t) {
            return !!D(t.target).closest(".ui-dialog").length || !!D(t.target).closest(".ui-datepicker").length
        },
        _createOverlay: function() {
            if (this.options.modal) {
                var e = !0;
                this._delay(function() {
                    e = !1
                }),
                this.document.data("ui-dialog-overlays") || this._on(this.document, {
                    focusin: function(t) {
                        e || this._allowInteraction(t) || (t.preventDefault(),
                        this._trackingInstances()[0]._focusTabbable())
                    }
                }),
                this.overlay = D("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),
                this._on(this.overlay, {
                    mousedown: "_keepFocus"
                }),
                this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1)
            }
        },
        _destroyOverlay: function() {
            if (this.options.modal && this.overlay) {
                var t = this.document.data("ui-dialog-overlays") - 1;
                t ? this.document.data("ui-dialog-overlays", t) : this.document.unbind("focusin").removeData("ui-dialog-overlays"),
                this.overlay.remove(),
                this.overlay = null
            }
        }
    });
    D.widget("ui.droppable", {
        version: "1.11.4",
        widgetEventPrefix: "drop",
        options: {
            accept: "*",
            activeClass: !1,
            addClasses: !0,
            greedy: !1,
            hoverClass: !1,
            scope: "default",
            tolerance: "intersect",
            activate: null,
            deactivate: null,
            drop: null,
            out: null,
            over: null
        },
        _create: function() {
            var e, t = this.options, i = t.accept;
            this.isover = !1,
            this.isout = !0,
            this.accept = D.isFunction(i) ? i : function(t) {
                return t.is(i)
            }
            ,
            this.proportions = function(t) {
                if (!arguments.length)
                    return e || (e = {
                        width: this.element[0].offsetWidth,
                        height: this.element[0].offsetHeight
                    });
                e = t
            }
            ,
            this._addToManager(t.scope),
            t.addClasses && this.element.addClass("ui-droppable")
        },
        _addToManager: function(t) {
            D.ui.ddmanager.droppables[t] = D.ui.ddmanager.droppables[t] || [],
            D.ui.ddmanager.droppables[t].push(this)
        },
        _splice: function(t) {
            for (var e = 0; e < t.length; e++)
                t[e] === this && t.splice(e, 1)
        },
        _destroy: function() {
            var t = D.ui.ddmanager.droppables[this.options.scope];
            this._splice(t),
            this.element.removeClass("ui-droppable ui-droppable-disabled")
        },
        _setOption: function(t, e) {
            if ("accept" === t)
                this.accept = D.isFunction(e) ? e : function(t) {
                    return t.is(e)
                }
                ;
            else if ("scope" === t) {
                var i = D.ui.ddmanager.droppables[this.options.scope];
                this._splice(i),
                this._addToManager(e)
            }
            this._super(t, e)
        },
        _activate: function(t) {
            var e = D.ui.ddmanager.current;
            this.options.activeClass && this.element.addClass(this.options.activeClass),
            e && this._trigger("activate", t, this.ui(e))
        },
        _deactivate: function(t) {
            var e = D.ui.ddmanager.current;
            this.options.activeClass && this.element.removeClass(this.options.activeClass),
            e && this._trigger("deactivate", t, this.ui(e))
        },
        _over: function(t) {
            var e = D.ui.ddmanager.current;
            e && (e.currentItem || e.element)[0] !== this.element[0] && this.accept.call(this.element[0], e.currentItem || e.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass),
            this._trigger("over", t, this.ui(e)))
        },
        _out: function(t) {
            var e = D.ui.ddmanager.current;
            e && (e.currentItem || e.element)[0] !== this.element[0] && this.accept.call(this.element[0], e.currentItem || e.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass),
            this._trigger("out", t, this.ui(e)))
        },
        _drop: function(e, t) {
            var i = t || D.ui.ddmanager.current
              , n = !1;
            return !(!i || (i.currentItem || i.element)[0] === this.element[0]) && (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                var t = D(this).droppable("instance");
                if (t.options.greedy && !t.options.disabled && t.options.scope === i.options.scope && t.accept.call(t.element[0], i.currentItem || i.element) && D.ui.intersect(i, D.extend(t, {
                    offset: t.element.offset()
                }), t.options.tolerance, e))
                    return !(n = !0)
            }),
            !n && (!!this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.activeClass && this.element.removeClass(this.options.activeClass),
            this.options.hoverClass && this.element.removeClass(this.options.hoverClass),
            this._trigger("drop", e, this.ui(i)),
            this.element)))
        },
        ui: function(t) {
            return {
                draggable: t.currentItem || t.element,
                helper: t.helper,
                position: t.position,
                offset: t.positionAbs
            }
        }
    }),
    D.ui.intersect = function() {
        function p(t, e, i) {
            return e <= t && t < e + i
        }
        return function(t, e, i, n) {
            if (!e.offset)
                return !1;
            var s = (t.positionAbs || t.position.absolute).left + t.margins.left
              , r = (t.positionAbs || t.position.absolute).top + t.margins.top
              , o = s + t.helperProportions.width
              , a = r + t.helperProportions.height
              , l = e.offset.left
              , u = e.offset.top
              , c = l + e.proportions().width
              , h = u + e.proportions().height;
            switch (i) {
            case "fit":
                return l <= s && o <= c && u <= r && a <= h;
            case "intersect":
                return l < s + t.helperProportions.width / 2 && o - t.helperProportions.width / 2 < c && u < r + t.helperProportions.height / 2 && a - t.helperProportions.height / 2 < h;
            case "pointer":
                return p(n.pageY, u, e.proportions().height) && p(n.pageX, l, e.proportions().width);
            case "touch":
                return (u <= r && r <= h || u <= a && a <= h || r < u && h < a) && (l <= s && s <= c || l <= o && o <= c || s < l && c < o);
            default:
                return !1
            }
        }
    }(),
    D.ui.ddmanager = {
        current: null,
        droppables: {
            "default": []
        },
        prepareOffsets: function(t, e) {
            var i, n, s = D.ui.ddmanager.droppables[t.options.scope] || [], r = e ? e.type : null, o = (t.currentItem || t.element).find(":data(ui-droppable)").addBack();
            t: for (i = 0; i < s.length; i++)
                if (!(s[i].options.disabled || t && !s[i].accept.call(s[i].element[0], t.currentItem || t.element))) {
                    for (n = 0; n < o.length; n++)
                        if (o[n] === s[i].element[0]) {
                            s[i].proportions().height = 0;
                            continue t
                        }
                    s[i].visible = "none" !== s[i].element.css("display"),
                    s[i].visible && ("mousedown" === r && s[i]._activate.call(s[i], e),
                    s[i].offset = s[i].element.offset(),
                    s[i].proportions({
                        width: s[i].element[0].offsetWidth,
                        height: s[i].element[0].offsetHeight
                    }))
                }
        },
        drop: function(t, e) {
            var i = !1;
            return D.each((D.ui.ddmanager.droppables[t.options.scope] || []).slice(), function() {
                this.options && (!this.options.disabled && this.visible && D.ui.intersect(t, this, this.options.tolerance, e) && (i = this._drop.call(this, e) || i),
                !this.options.disabled && this.visible && this.accept.call(this.element[0], t.currentItem || t.element) && (this.isout = !0,
                this.isover = !1,
                this._deactivate.call(this, e)))
            }),
            i
        },
        dragStart: function(t, e) {
            t.element.parentsUntil("body").bind("scroll.droppable", function() {
                t.options.refreshPositions || D.ui.ddmanager.prepareOffsets(t, e)
            })
        },
        drag: function(r, o) {
            r.options.refreshPositions && D.ui.ddmanager.prepareOffsets(r, o),
            D.each(D.ui.ddmanager.droppables[r.options.scope] || [], function() {
                if (!this.options.disabled && !this.greedyChild && this.visible) {
                    var t, e, i, n = D.ui.intersect(r, this, this.options.tolerance, o), s = !n && this.isover ? "isout" : n && !this.isover ? "isover" : null;
                    s && (this.options.greedy && (e = this.options.scope,
                    (i = this.element.parents(":data(ui-droppable)").filter(function() {
                        return D(this).droppable("instance").options.scope === e
                    })).length && ((t = D(i[0]).droppable("instance")).greedyChild = "isover" === s)),
                    t && "isover" === s && (t.isover = !1,
                    t.isout = !0,
                    t._out.call(t, o)),
                    this[s] = !0,
                    this["isout" === s ? "isover" : "isout"] = !1,
                    this["isover" === s ? "_over" : "_out"].call(this, o),
                    t && "isout" === s && (t.isout = !1,
                    t.isover = !0,
                    t._over.call(t, o)))
                }
            })
        },
        dragStop: function(t, e) {
            t.element.parentsUntil("body").unbind("scroll.droppable"),
            t.options.refreshPositions || D.ui.ddmanager.prepareOffsets(t, e)
        }
    };
    D.ui.droppable;
    var x, k = "ui-effects-", C = D;
    D.effects = {
        effect: {}
    },
    function(c, h) {
        function p(t, e, i) {
            var n = g[e.type] || {};
            return null == t ? i || !e.def ? null : e.def : (t = n.floor ? ~~t : parseFloat(t),
            isNaN(t) ? e.def : n.mod ? (t + n.mod) % n.mod : t < 0 ? 0 : n.max < t ? n.max : t)
        }
        function a(o) {
            var a = f()
              , l = a._rgba = [];
            return o = o.toLowerCase(),
            _(e, function(t, e) {
                var i, n = e.re.exec(o), s = n && e.parse(n), r = e.space || "rgba";
                if (s)
                    return i = a[r](s),
                    a[m[r].cache] = i[m[r].cache],
                    l = a._rgba = i._rgba,
                    !1
            }),
            l.length ? ("0,0,0,0" === l.join() && c.extend(l, u.transparent),
            a) : u[o]
        }
        function l(t, e, i) {
            return 6 * (i = (i + 1) % 1) < 1 ? t + (e - t) * i * 6 : 2 * i < 1 ? e : 3 * i < 2 ? t + (e - t) * (2 / 3 - i) * 6 : t
        }
        var u, t = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor", d = /^([\-+])=\s*(\d+\.?\d*)/, e = [{
            re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            parse: function(t) {
                return [t[1], t[2], t[3], t[4]]
            }
        }, {
            re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            parse: function(t) {
                return [2.55 * t[1], 2.55 * t[2], 2.55 * t[3], t[4]]
            }
        }, {
            re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
            parse: function(t) {
                return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)]
            }
        }, {
            re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
            parse: function(t) {
                return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)]
            }
        }, {
            re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            space: "hsla",
            parse: function(t) {
                return [t[1], t[2] / 100, t[3] / 100, t[4]]
            }
        }], f = c.Color = function(t, e, i, n) {
            return new c.Color.fn.parse(t,e,i,n)
        }
        , m = {
            rgba: {
                props: {
                    red: {
                        idx: 0,
                        type: "byte"
                    },
                    green: {
                        idx: 1,
                        type: "byte"
                    },
                    blue: {
                        idx: 2,
                        type: "byte"
                    }
                }
            },
            hsla: {
                props: {
                    hue: {
                        idx: 0,
                        type: "degrees"
                    },
                    saturation: {
                        idx: 1,
                        type: "percent"
                    },
                    lightness: {
                        idx: 2,
                        type: "percent"
                    }
                }
            }
        }, g = {
            "byte": {
                floor: !0,
                max: 255
            },
            percent: {
                max: 1
            },
            degrees: {
                mod: 360,
                floor: !0
            }
        }, y = f.support = {}, i = c("<p>")[0], _ = c.each;
        i.style.cssText = "background-color:rgba(1,1,1,.5)",
        y.rgba = -1 < i.style.backgroundColor.indexOf("rgba"),
        _(m, function(t, e) {
            e.cache = "_" + t,
            e.props.alpha = {
                idx: 3,
                type: "percent",
                def: 1
            }
        }),
        f.fn = c.extend(f.prototype, {
            parse: function(s, t, e, i) {
                if (s === h)
                    return this._rgba = [null, null, null, null],
                    this;
                (s.jquery || s.nodeType) && (s = c(s).css(t),
                t = h);
                var r = this
                  , n = c.type(s)
                  , o = this._rgba = [];
                return t !== h && (s = [s, t, e, i],
                n = "array"),
                "string" === n ? this.parse(a(s) || u._default) : "array" === n ? (_(m.rgba.props, function(t, e) {
                    o[e.idx] = p(s[e.idx], e)
                }),
                this) : "object" === n ? (_(m, s instanceof f ? function(t, e) {
                    s[e.cache] && (r[e.cache] = s[e.cache].slice())
                }
                : function(t, i) {
                    var n = i.cache;
                    _(i.props, function(t, e) {
                        if (!r[n] && i.to) {
                            if ("alpha" === t || null == s[t])
                                return;
                            r[n] = i.to(r._rgba)
                        }
                        r[n][e.idx] = p(s[t], e, !0)
                    }),
                    r[n] && c.inArray(null, r[n].slice(0, 3)) < 0 && (r[n][3] = 1,
                    i.from && (r._rgba = i.from(r[n])))
                }
                ),
                this) : void 0
            },
            is: function(t) {
                var s = f(t)
                  , r = !0
                  , o = this;
                return _(m, function(t, e) {
                    var i, n = s[e.cache];
                    return n && (i = o[e.cache] || e.to && e.to(o._rgba) || [],
                    _(e.props, function(t, e) {
                        if (null != n[e.idx])
                            return r = n[e.idx] === i[e.idx]
                    })),
                    r
                }),
                r
            },
            _space: function() {
                var i = []
                  , n = this;
                return _(m, function(t, e) {
                    n[e.cache] && i.push(t)
                }),
                i.pop()
            },
            transition: function(t, o) {
                var a = f(t)
                  , e = a._space()
                  , i = m[e]
                  , n = 0 === this.alpha() ? f("transparent") : this
                  , l = n[i.cache] || i.to(n._rgba)
                  , u = l.slice();
                return a = a[i.cache],
                _(i.props, function(t, e) {
                    var i = e.idx
                      , n = l[i]
                      , s = a[i]
                      , r = g[e.type] || {};
                    null !== s && (null === n ? u[i] = s : (r.mod && (s - n > r.mod / 2 ? n += r.mod : n - s > r.mod / 2 && (n -= r.mod)),
                    u[i] = p((s - n) * o + n, e)))
                }),
                this[e](u)
            },
            blend: function(t) {
                if (1 === this._rgba[3])
                    return this;
                var e = this._rgba.slice()
                  , i = e.pop()
                  , n = f(t)._rgba;
                return f(c.map(e, function(t, e) {
                    return (1 - i) * n[e] + i * t
                }))
            },
            toRgbaString: function() {
                var t = "rgba("
                  , e = c.map(this._rgba, function(t, e) {
                    return null == t ? 2 < e ? 1 : 0 : t
                });
                return 1 === e[3] && (e.pop(),
                t = "rgb("),
                t + e.join() + ")"
            },
            toHslaString: function() {
                var t = "hsla("
                  , e = c.map(this.hsla(), function(t, e) {
                    return null == t && (t = 2 < e ? 1 : 0),
                    e && e < 3 && (t = Math.round(100 * t) + "%"),
                    t
                });
                return 1 === e[3] && (e.pop(),
                t = "hsl("),
                t + e.join() + ")"
            },
            toHexString: function(t) {
                var e = this._rgba.slice()
                  , i = e.pop();
                return t && e.push(~~(255 * i)),
                "#" + c.map(e, function(t) {
                    return 1 === (t = (t || 0).toString(16)).length ? "0" + t : t
                }).join("")
            },
            toString: function() {
                return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
            }
        }),
        f.fn.parse.prototype = f.fn,
        m.hsla.to = function(t) {
            if (null == t[0] || null == t[1] || null == t[2])
                return [null, null, null, t[3]];
            var e, i, n = t[0] / 255, s = t[1] / 255, r = t[2] / 255, o = t[3], a = Math.max(n, s, r), l = Math.min(n, s, r), u = a - l, c = a + l, h = .5 * c;
            return e = l === a ? 0 : n === a ? 60 * (s - r) / u + 360 : s === a ? 60 * (r - n) / u + 120 : 60 * (n - s) / u + 240,
            i = 0 === u ? 0 : h <= .5 ? u / c : u / (2 - c),
            [Math.round(e) % 360, i, h, null == o ? 1 : o]
        }
        ,
        m.hsla.from = function(t) {
            if (null == t[0] || null == t[1] || null == t[2])
                return [null, null, null, t[3]];
            var e = t[0] / 360
              , i = t[1]
              , n = t[2]
              , s = t[3]
              , r = n <= .5 ? n * (1 + i) : n + i - n * i
              , o = 2 * n - r;
            return [Math.round(255 * l(o, r, e + 1 / 3)), Math.round(255 * l(o, r, e)), Math.round(255 * l(o, r, e - 1 / 3)), s]
        }
        ,
        _(m, function(l, t) {
            var i = t.props
              , o = t.cache
              , a = t.to
              , u = t.from;
            f.fn[l] = function(t) {
                if (a && !this[o] && (this[o] = a(this._rgba)),
                t === h)
                    return this[o].slice();
                var e, n = c.type(t), s = "array" === n || "object" === n ? t : arguments, r = this[o].slice();
                return _(i, function(t, e) {
                    var i = s["object" === n ? t : e.idx];
                    null == i && (i = r[e.idx]),
                    r[e.idx] = p(i, e)
                }),
                u ? ((e = f(u(r)))[o] = r,
                e) : f(r)
            }
            ,
            _(i, function(o, a) {
                f.fn[o] || (f.fn[o] = function(t) {
                    var e, i = c.type(t), n = "alpha" === o ? this._hsla ? "hsla" : "rgba" : l, s = this[n](), r = s[a.idx];
                    return "undefined" === i ? r : ("function" === i && (t = t.call(this, r),
                    i = c.type(t)),
                    null == t && a.empty ? this : ("string" === i && (e = d.exec(t)) && (t = r + parseFloat(e[2]) * ("+" === e[1] ? 1 : -1)),
                    s[a.idx] = t,
                    this[n](s)))
                }
                )
            })
        }),
        f.hook = function(t) {
            var e = t.split(" ");
            _(e, function(t, o) {
                c.cssHooks[o] = {
                    set: function(t, e) {
                        var i, n, s = "";
                        if ("transparent" !== e && ("string" !== c.type(e) || (i = a(e)))) {
                            if (e = f(i || e),
                            !y.rgba && 1 !== e._rgba[3]) {
                                for (n = "backgroundColor" === o ? t.parentNode : t; ("" === s || "transparent" === s) && n && n.style; )
                                    try {
                                        s = c.css(n, "backgroundColor"),
                                        n = n.parentNode
                                    } catch (r) {}
                                e = e.blend(s && "transparent" !== s ? s : "_default")
                            }
                            e = e.toRgbaString()
                        }
                        try {
                            t.style[o] = e
                        } catch (r) {}
                    }
                },
                c.fx.step[o] = function(t) {
                    t.colorInit || (t.start = f(t.elem, o),
                    t.end = f(t.end),
                    t.colorInit = !0),
                    c.cssHooks[o].set(t.elem, t.start.transition(t.end, t.pos))
                }
            })
        }
        ,
        f.hook(t),
        c.cssHooks.borderColor = {
            expand: function(i) {
                var n = {};
                return _(["Top", "Right", "Bottom", "Left"], function(t, e) {
                    n["border" + e + "Color"] = i
                }),
                n
            }
        },
        u = c.Color.names = {
            aqua: "#00ffff",
            black: "#000000",
            blue: "#0000ff",
            fuchsia: "#ff00ff",
            gray: "#808080",
            green: "#008000",
            lime: "#00ff00",
            maroon: "#800000",
            navy: "#000080",
            olive: "#808000",
            purple: "#800080",
            red: "#ff0000",
            silver: "#c0c0c0",
            teal: "#008080",
            white: "#ffffff",
            yellow: "#ffff00",
            transparent: [null, null, null, 0],
            _default: "#ffffff"
        }
    }(C),
    function() {
        function o(t) {
            var e, i, n = t.ownerDocument.defaultView ? t.ownerDocument.defaultView.getComputedStyle(t, null) : t.currentStyle, s = {};
            if (n && n.length && n[0] && n[n[0]])
                for (i = n.length; i--; )
                    "string" == typeof n[e = n[i]] && (s[D.camelCase(e)] = n[e]);
            else
                for (e in n)
                    "string" == typeof n[e] && (s[e] = n[e]);
            return s
        }
        function a(t, e) {
            var i, n, s = {};
            for (i in e)
                n = e[i],
                t[i] !== n && (c[i] || !D.fx.step[i] && isNaN(parseFloat(n)) || (s[i] = n));
            return s
        }
        var r, s, l, u = ["add", "remove", "toggle"], c = {
            border: 1,
            borderBottom: 1,
            borderColor: 1,
            borderLeft: 1,
            borderRight: 1,
            borderTop: 1,
            borderWidth: 1,
            margin: 1,
            padding: 1
        };
        D.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function(t, e) {
            D.fx.step[e] = function(t) {
                ("none" !== t.end && !t.setAttr || 1 === t.pos && !t.setAttr) && (C.style(t.elem, e, t.end),
                t.setAttr = !0)
            }
        }),
        D.fn.addBack || (D.fn.addBack = function(t) {
            return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
        }
        ),
        D.effects.animateClass = function(s, t, e, i) {
            var r = D.speed(t, e, i);
            return this.queue(function() {
                var t, i = D(this), e = i.attr("class") || "", n = r.children ? i.find("*").addBack() : i;
                n = n.map(function() {
                    return {
                        el: D(this),
                        start: o(this)
                    }
                }),
                (t = function() {
                    D.each(u, function(t, e) {
                        s[e] && i[e + "Class"](s[e])
                    })
                }
                )(),
                n = n.map(function() {
                    return this.end = o(this.el[0]),
                    this.diff = a(this.start, this.end),
                    this
                }),
                i.attr("class", e),
                n = n.map(function() {
                    var t = this
                      , e = D.Deferred()
                      , i = D.extend({}, r, {
                        queue: !1,
                        complete: function() {
                            e.resolve(t)
                        }
                    });
                    return this.el.animate(this.diff, i),
                    e.promise()
                }),
                D.when.apply(D, n.get()).done(function() {
                    t(),
                    D.each(arguments, function() {
                        var e = this.el;
                        D.each(this.diff, function(t) {
                            e.css(t, "")
                        })
                    }),
                    r.complete.call(i[0])
                })
            })
        }
        ,
        D.fn.extend({
            addClass: (l = D.fn.addClass,
            function(t, e, i, n) {
                return e ? D.effects.animateClass.call(this, {
                    add: t
                }, e, i, n) : l.apply(this, arguments)
            }
            ),
            removeClass: (s = D.fn.removeClass,
            function(t, e, i, n) {
                return 1 < arguments.length ? D.effects.animateClass.call(this, {
                    remove: t
                }, e, i, n) : s.apply(this, arguments)
            }
            ),
            toggleClass: (r = D.fn.toggleClass,
            function(t, e, i, n, s) {
                return "boolean" == typeof e || e === undefined ? i ? D.effects.animateClass.call(this, e ? {
                    add: t
                } : {
                    remove: t
                }, i, n, s) : r.apply(this, arguments) : D.effects.animateClass.call(this, {
                    toggle: t
                }, e, i, n)
            }
            ),
            switchClass: function(t, e, i, n, s) {
                return D.effects.animateClass.call(this, {
                    add: e,
                    remove: t
                }, i, n, s)
            }
        })
    }(),
    function() {
        function n(t, e, i, n) {
            return D.isPlainObject(t) && (t = (e = t).effect),
            t = {
                effect: t
            },
            null == e && (e = {}),
            D.isFunction(e) && (n = e,
            i = null,
            e = {}),
            ("number" == typeof e || D.fx.speeds[e]) && (n = i,
            i = e,
            e = {}),
            D.isFunction(i) && (n = i,
            i = null),
            e && D.extend(t, e),
            i = i || e.duration,
            t.duration = D.fx.off ? 0 : "number" == typeof i ? i : i in D.fx.speeds ? D.fx.speeds[i] : D.fx.speeds._default,
            t.complete = n || e.complete,
            t
        }
        function i(t) {
            return !(t && "number" != typeof t && !D.fx.speeds[t]) || ("string" == typeof t && !D.effects.effect[t] || (!!D.isFunction(t) || "object" == typeof t && !t.effect))
        }
        var s, r, o;
        D.extend(D.effects, {
            version: "1.11.4",
            save: function(t, e) {
                for (var i = 0; i < e.length; i++)
                    null !== e[i] && t.data(k + e[i], t[0].style[e[i]])
            },
            restore: function(t, e) {
                var i, n;
                for (n = 0; n < e.length; n++)
                    null !== e[n] && ((i = t.data(k + e[n])) === undefined && (i = ""),
                    t.css(e[n], i))
            },
            setMode: function(t, e) {
                return "toggle" === e && (e = t.is(":hidden") ? "show" : "hide"),
                e
            },
            getBaseline: function(t, e) {
                var i, n;
                switch (t[0]) {
                case "top":
                    i = 0;
                    break;
                case "middle":
                    i = .5;
                    break;
                case "bottom":
                    i = 1;
                    break;
                default:
                    i = t[0] / e.height
                }
                switch (t[1]) {
                case "left":
                    n = 0;
                    break;
                case "center":
                    n = .5;
                    break;
                case "right":
                    n = 1;
                    break;
                default:
                    n = t[1] / e.width
                }
                return {
                    x: n,
                    y: i
                }
            },
            createWrapper: function(i) {
                if (i.parent().is(".ui-effects-wrapper"))
                    return i.parent();
                var n = {
                    width: i.outerWidth(!0),
                    height: i.outerHeight(!0),
                    "float": i.css("float")
                }
                  , t = D("<div></div>").addClass("ui-effects-wrapper").css({
                    fontSize: "100%",
                    background: "transparent",
                    border: "none",
                    margin: 0,
                    padding: 0
                })
                  , e = {
                    width: i.width(),
                    height: i.height()
                }
                  , s = document.activeElement;
                try {
                    s.id
                } catch (r) {
                    s = document.body
                }
                return i.wrap(t),
                (i[0] === s || D.contains(i[0], s)) && D(s).focus(),
                t = i.parent(),
                "static" === i.css("position") ? (t.css({
                    position: "relative"
                }),
                i.css({
                    position: "relative"
                })) : (D.extend(n, {
                    position: i.css("position"),
                    zIndex: i.css("z-index")
                }),
                D.each(["top", "left", "bottom", "right"], function(t, e) {
                    n[e] = i.css(e),
                    isNaN(parseInt(n[e], 10)) && (n[e] = "auto")
                }),
                i.css({
                    position: "relative",
                    top: 0,
                    left: 0,
                    right: "auto",
                    bottom: "auto"
                })),
                i.css(e),
                t.css(n).show()
            },
            removeWrapper: function(t) {
                var e = document.activeElement;
                return t.parent().is(".ui-effects-wrapper") && (t.parent().replaceWith(t),
                (t[0] === e || D.contains(t[0], e)) && D(e).focus()),
                t
            },
            setTransition: function(n, t, s, r) {
                return r = r || {},
                D.each(t, function(t, e) {
                    var i = n.cssUnit(e);
                    0 < i[0] && (r[e] = i[0] * s + i[1])
                }),
                r
            }
        }),
        D.fn.extend({
            effect: function() {
                function t(t) {
                    function e() {
                        D.isFunction(n) && n.call(i[0]),
                        D.isFunction(t) && t()
                    }
                    var i = D(this)
                      , n = r.complete
                      , s = r.mode;
                    (i.is(":hidden") ? "hide" === s : "show" === s) ? (i[s](),
                    e()) : o.call(i[0], r, e)
                }
                var r = n.apply(this, arguments)
                  , e = r.mode
                  , i = r.queue
                  , o = D.effects.effect[r.effect];
                return D.fx.off || !o ? e ? this[e](r.duration, r.complete) : this.each(function() {
                    r.complete && r.complete.call(this)
                }) : !1 === i ? this.each(t) : this.queue(i || "fx", t)
            },
            show: (o = D.fn.show,
            function(t) {
                if (i(t))
                    return o.apply(this, arguments);
                var e = n.apply(this, arguments);
                return e.mode = "show",
                this.effect.call(this, e)
            }
            ),
            hide: (r = D.fn.hide,
            function(t) {
                if (i(t))
                    return r.apply(this, arguments);
                var e = n.apply(this, arguments);
                return e.mode = "hide",
                this.effect.call(this, e)
            }
            ),
            toggle: (s = D.fn.toggle,
            function(t) {
                if (i(t) || "boolean" == typeof t)
                    return s.apply(this, arguments);
                var e = n.apply(this, arguments);
                return e.mode = "toggle",
                this.effect.call(this, e)
            }
            ),
            cssUnit: function(t) {
                var i = this.css(t)
                  , n = [];
                return D.each(["em", "px", "%", "pt"], function(t, e) {
                    0 < i.indexOf(e) && (n = [parseFloat(i), e])
                }),
                n
            }
        })
    }(),
    x = {},
    D.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(e, t) {
        x[t] = function(t) {
            return Math.pow(t, e + 2)
        }
    }),
    D.extend(x, {
        Sine: function(t) {
            return 1 - Math.cos(t * Math.PI / 2)
        },
        Circ: function(t) {
            return 1 - Math.sqrt(1 - t * t)
        },
        Elastic: function(t) {
            return 0 === t || 1 === t ? t : -Math.pow(2, 8 * (t - 1)) * Math.sin((80 * (t - 1) - 7.5) * Math.PI / 15)
        },
        Back: function(t) {
            return t * t * (3 * t - 2)
        },
        Bounce: function(t) {
            for (var e, i = 4; t < ((e = Math.pow(2, --i)) - 1) / 11; )
                ;
            return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * e - 2) / 22 - t, 2)
        }
    }),
    D.each(x, function(t, e) {
        D.easing["easeIn" + t] = e,
        D.easing["easeOut" + t] = function(t) {
            return 1 - e(1 - t)
        }
        ,
        D.easing["easeInOut" + t] = function(t) {
            return t < .5 ? e(2 * t) / 2 : 1 - e(-2 * t + 2) / 2
        }
    });
    var S;
    D.effects,
    D.effects.effect.blind = function(t, e) {
        var i, n, s, r = D(this), o = /up|down|vertical/, a = /up|left|vertical|horizontal/, l = ["position", "top", "bottom", "left", "right", "height", "width"], u = D.effects.setMode(r, t.mode || "hide"), c = t.direction || "up", h = o.test(c), p = h ? "height" : "width", d = h ? "top" : "left", f = a.test(c), m = {}, g = "show" === u;
        r.parent().is(".ui-effects-wrapper") ? D.effects.save(r.parent(), l) : D.effects.save(r, l),
        r.show(),
        n = (i = D.effects.createWrapper(r).css({
            overflow: "hidden"
        }))[p](),
        s = parseFloat(i.css(d)) || 0,
        m[p] = g ? n : 0,
        f || (r.css(h ? "bottom" : "right", 0).css(h ? "top" : "left", "auto").css({
            position: "absolute"
        }),
        m[d] = g ? s : n + s),
        g && (i.css(p, 0),
        f || i.css(d, s + n)),
        i.animate(m, {
            duration: t.duration,
            easing: t.easing,
            queue: !1,
            complete: function() {
                "hide" === u && r.hide(),
                D.effects.restore(r, l),
                D.effects.removeWrapper(r),
                e()
            }
        })
    }
    ,
    D.effects.effect.bounce = function(t, e) {
        var i, n, s, r = D(this), o = ["position", "top", "bottom", "left", "right", "height", "width"], a = D.effects.setMode(r, t.mode || "effect"), l = "hide" === a, u = "show" === a, c = t.direction || "up", h = t.distance, p = t.times || 5, d = 2 * p + (u || l ? 1 : 0), f = t.duration / d, m = t.easing, g = "up" === c || "down" === c ? "top" : "left", y = "up" === c || "left" === c, _ = r.queue(), v = _.length;
        for ((u || l) && o.push("opacity"),
        D.effects.save(r, o),
        r.show(),
        D.effects.createWrapper(r),
        h || (h = r["top" === g ? "outerHeight" : "outerWidth"]() / 3),
        u && ((s = {
            opacity: 1
        })[g] = 0,
        r.css("opacity", 0).css(g, y ? 2 * -h : 2 * h).animate(s, f, m)),
        l && (h /= Math.pow(2, p - 1)),
        i = (s = {})[g] = 0; i < p; i++)
            (n = {})[g] = (y ? "-=" : "+=") + h,
            r.animate(n, f, m).animate(s, f, m),
            h = l ? 2 * h : h / 2;
        l && ((n = {
            opacity: 0
        })[g] = (y ? "-=" : "+=") + h,
        r.animate(n, f, m)),
        r.queue(function() {
            l && r.hide(),
            D.effects.restore(r, o),
            D.effects.removeWrapper(r),
            e()
        }),
        1 < v && _.splice.apply(_, [1, 0].concat(_.splice(v, d + 1))),
        r.dequeue()
    }
    ,
    D.effects.effect.clip = function(t, e) {
        var i, n, s, r = D(this), o = ["position", "top", "bottom", "left", "right", "height", "width"], a = "show" === D.effects.setMode(r, t.mode || "hide"), l = "vertical" === (t.direction || "vertical"), u = l ? "height" : "width", c = l ? "top" : "left", h = {};
        D.effects.save(r, o),
        r.show(),
        i = D.effects.createWrapper(r).css({
            overflow: "hidden"
        }),
        s = (n = "IMG" === r[0].tagName ? i : r)[u](),
        a && (n.css(u, 0),
        n.css(c, s / 2)),
        h[u] = a ? s : 0,
        h[c] = a ? 0 : s / 2,
        n.animate(h, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                a || r.hide(),
                D.effects.restore(r, o),
                D.effects.removeWrapper(r),
                e()
            }
        })
    }
    ,
    D.effects.effect.drop = function(t, e) {
        var i, n = D(this), s = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"], r = D.effects.setMode(n, t.mode || "hide"), o = "show" === r, a = t.direction || "left", l = "up" === a || "down" === a ? "top" : "left", u = "up" === a || "left" === a ? "pos" : "neg", c = {
            opacity: o ? 1 : 0
        };
        D.effects.save(n, s),
        n.show(),
        D.effects.createWrapper(n),
        i = t.distance || n["top" === l ? "outerHeight" : "outerWidth"](!0) / 2,
        o && n.css("opacity", 0).css(l, "pos" === u ? -i : i),
        c[l] = (o ? "pos" === u ? "+=" : "-=" : "pos" === u ? "-=" : "+=") + i,
        n.animate(c, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                "hide" === r && n.hide(),
                D.effects.restore(n, s),
                D.effects.removeWrapper(n),
                e()
            }
        })
    }
    ,
    D.effects.effect.explode = function(t, e) {
        function i() {
            y.push(this),
            y.length === c * h && n()
        }
        function n() {
            p.css({
                visibility: "visible"
            }),
            D(y).remove(),
            d || p.hide(),
            e()
        }
        var s, r, o, a, l, u, c = t.pieces ? Math.round(Math.sqrt(t.pieces)) : 3, h = c, p = D(this), d = "show" === D.effects.setMode(p, t.mode || "hide"), f = p.show().css("visibility", "hidden").offset(), m = Math.ceil(p.outerWidth() / h), g = Math.ceil(p.outerHeight() / c), y = [];
        for (s = 0; s < c; s++)
            for (a = f.top + s * g,
            u = s - (c - 1) / 2,
            r = 0; r < h; r++)
                o = f.left + r * m,
                l = r - (h - 1) / 2,
                p.clone().appendTo("body").wrap("<div></div>").css({
                    position: "absolute",
                    visibility: "visible",
                    left: -r * m,
                    top: -s * g
                }).parent().addClass("ui-effects-explode").css({
                    position: "absolute",
                    overflow: "hidden",
                    width: m,
                    height: g,
                    left: o + (d ? l * m : 0),
                    top: a + (d ? u * g : 0),
                    opacity: d ? 0 : 1
                }).animate({
                    left: o + (d ? 0 : l * m),
                    top: a + (d ? 0 : u * g),
                    opacity: d ? 1 : 0
                }, t.duration || 500, t.easing, i)
    }
    ,
    D.effects.effect.fade = function(t, e) {
        var i = D(this)
          , n = D.effects.setMode(i, t.mode || "toggle");
        i.animate({
            opacity: n
        }, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: e
        })
    }
    ,
    D.effects.effect.fold = function(t, e) {
        var i, n, s = D(this), r = ["position", "top", "bottom", "left", "right", "height", "width"], o = D.effects.setMode(s, t.mode || "hide"), a = "show" === o, l = "hide" === o, u = t.size || 15, c = /([0-9]+)%/.exec(u), h = !!t.horizFirst, p = a !== h, d = p ? ["width", "height"] : ["height", "width"], f = t.duration / 2, m = {}, g = {};
        D.effects.save(s, r),
        s.show(),
        i = D.effects.createWrapper(s).css({
            overflow: "hidden"
        }),
        n = p ? [i.width(), i.height()] : [i.height(), i.width()],
        c && (u = parseInt(c[1], 10) / 100 * n[l ? 0 : 1]),
        a && i.css(h ? {
            height: 0,
            width: u
        } : {
            height: u,
            width: 0
        }),
        m[d[0]] = a ? n[0] : u,
        g[d[1]] = a ? n[1] : 0,
        i.animate(m, f, t.easing).animate(g, f, t.easing, function() {
            l && s.hide(),
            D.effects.restore(s, r),
            D.effects.removeWrapper(s),
            e()
        })
    }
    ,
    D.effects.effect.highlight = function(t, e) {
        var i = D(this)
          , n = ["backgroundImage", "backgroundColor", "opacity"]
          , s = D.effects.setMode(i, t.mode || "show")
          , r = {
            backgroundColor: i.css("backgroundColor")
        };
        "hide" === s && (r.opacity = 0),
        D.effects.save(i, n),
        i.show().css({
            backgroundImage: "none",
            backgroundColor: t.color || "#ffff99"
        }).animate(r, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                "hide" === s && i.hide(),
                D.effects.restore(i, n),
                e()
            }
        })
    }
    ,
    D.effects.effect.size = function(i, t) {
        var e, n, s, r = D(this), o = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"], a = ["position", "top", "bottom", "left", "right", "overflow", "opacity"], l = ["width", "height", "overflow"], u = ["fontSize"], c = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"], h = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"], p = D.effects.setMode(r, i.mode || "effect"), d = i.restore || "effect" !== p, f = i.scale || "both", m = i.origin || ["middle", "center"], g = r.css("position"), y = d ? o : a, _ = {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
        };
        "show" === p && r.show(),
        e = {
            height: r.height(),
            width: r.width(),
            outerHeight: r.outerHeight(),
            outerWidth: r.outerWidth()
        },
        "toggle" === i.mode && "show" === p ? (r.from = i.to || _,
        r.to = i.from || e) : (r.from = i.from || ("show" === p ? _ : e),
        r.to = i.to || ("hide" === p ? _ : e)),
        s = {
            from: {
                y: r.from.height / e.height,
                x: r.from.width / e.width
            },
            to: {
                y: r.to.height / e.height,
                x: r.to.width / e.width
            }
        },
        "box" !== f && "both" !== f || (s.from.y !== s.to.y && (y = y.concat(c),
        r.from = D.effects.setTransition(r, c, s.from.y, r.from),
        r.to = D.effects.setTransition(r, c, s.to.y, r.to)),
        s.from.x !== s.to.x && (y = y.concat(h),
        r.from = D.effects.setTransition(r, h, s.from.x, r.from),
        r.to = D.effects.setTransition(r, h, s.to.x, r.to))),
        "content" !== f && "both" !== f || s.from.y !== s.to.y && (y = y.concat(u).concat(l),
        r.from = D.effects.setTransition(r, u, s.from.y, r.from),
        r.to = D.effects.setTransition(r, u, s.to.y, r.to)),
        D.effects.save(r, y),
        r.show(),
        D.effects.createWrapper(r),
        r.css("overflow", "hidden").css(r.from),
        m && (n = D.effects.getBaseline(m, e),
        r.from.top = (e.outerHeight - r.outerHeight()) * n.y,
        r.from.left = (e.outerWidth - r.outerWidth()) * n.x,
        r.to.top = (e.outerHeight - r.to.outerHeight) * n.y,
        r.to.left = (e.outerWidth - r.to.outerWidth) * n.x),
        r.css(r.from),
        "content" !== f && "both" !== f || (c = c.concat(["marginTop", "marginBottom"]).concat(u),
        h = h.concat(["marginLeft", "marginRight"]),
        l = o.concat(c).concat(h),
        r.find("*[width]").each(function() {
            var t = D(this)
              , e = {
                height: t.height(),
                width: t.width(),
                outerHeight: t.outerHeight(),
                outerWidth: t.outerWidth()
            };
            d && D.effects.save(t, l),
            t.from = {
                height: e.height * s.from.y,
                width: e.width * s.from.x,
                outerHeight: e.outerHeight * s.from.y,
                outerWidth: e.outerWidth * s.from.x
            },
            t.to = {
                height: e.height * s.to.y,
                width: e.width * s.to.x,
                outerHeight: e.height * s.to.y,
                outerWidth: e.width * s.to.x
            },
            s.from.y !== s.to.y && (t.from = D.effects.setTransition(t, c, s.from.y, t.from),
            t.to = D.effects.setTransition(t, c, s.to.y, t.to)),
            s.from.x !== s.to.x && (t.from = D.effects.setTransition(t, h, s.from.x, t.from),
            t.to = D.effects.setTransition(t, h, s.to.x, t.to)),
            t.css(t.from),
            t.animate(t.to, i.duration, i.easing, function() {
                d && D.effects.restore(t, l)
            })
        })),
        r.animate(r.to, {
            queue: !1,
            duration: i.duration,
            easing: i.easing,
            complete: function() {
                0 === r.to.opacity && r.css("opacity", r.from.opacity),
                "hide" === p && r.hide(),
                D.effects.restore(r, y),
                d || ("static" === g ? r.css({
                    position: "relative",
                    top: r.to.top,
                    left: r.to.left
                }) : D.each(["top", "left"], function(s, t) {
                    r.css(t, function(t, e) {
                        var i = parseInt(e, 10)
                          , n = s ? r.to.left : r.to.top;
                        return "auto" === e ? n + "px" : i + n + "px"
                    })
                })),
                D.effects.removeWrapper(r),
                t()
            }
        })
    }
    ,
    D.effects.effect.scale = function(t, e) {
        var i = D(this)
          , n = D.extend(!0, {}, t)
          , s = D.effects.setMode(i, t.mode || "effect")
          , r = parseInt(t.percent, 10) || (0 === parseInt(t.percent, 10) ? 0 : "hide" === s ? 0 : 100)
          , o = t.direction || "both"
          , a = t.origin
          , l = {
            height: i.height(),
            width: i.width(),
            outerHeight: i.outerHeight(),
            outerWidth: i.outerWidth()
        }
          , u = {
            y: "horizontal" !== o ? r / 100 : 1,
            x: "vertical" !== o ? r / 100 : 1
        };
        n.effect = "size",
        n.queue = !1,
        n.complete = e,
        "effect" !== s && (n.origin = a || ["middle", "center"],
        n.restore = !0),
        n.from = t.from || ("show" === s ? {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
        } : l),
        n.to = {
            height: l.height * u.y,
            width: l.width * u.x,
            outerHeight: l.outerHeight * u.y,
            outerWidth: l.outerWidth * u.x
        },
        n.fade && ("show" === s && (n.from.opacity = 0,
        n.to.opacity = 1),
        "hide" === s && (n.from.opacity = 1,
        n.to.opacity = 0)),
        i.effect(n)
    }
    ,
    D.effects.effect.puff = function(t, e) {
        var i = D(this)
          , n = D.effects.setMode(i, t.mode || "hide")
          , s = "hide" === n
          , r = parseInt(t.percent, 10) || 150
          , o = r / 100
          , a = {
            height: i.height(),
            width: i.width(),
            outerHeight: i.outerHeight(),
            outerWidth: i.outerWidth()
        };
        D.extend(t, {
            effect: "scale",
            queue: !1,
            fade: !0,
            mode: n,
            complete: e,
            percent: s ? r : 100,
            from: s ? a : {
                height: a.height * o,
                width: a.width * o,
                outerHeight: a.outerHeight * o,
                outerWidth: a.outerWidth * o
            }
        }),
        i.effect(t)
    }
    ,
    D.effects.effect.pulsate = function(t, e) {
        var i, n = D(this), s = D.effects.setMode(n, t.mode || "show"), r = "show" === s, o = "hide" === s, a = r || "hide" === s, l = 2 * (t.times || 5) + (a ? 1 : 0), u = t.duration / l, c = 0, h = n.queue(), p = h.length;
        for (!r && n.is(":visible") || (n.css("opacity", 0).show(),
        c = 1),
        i = 1; i < l; i++)
            n.animate({
                opacity: c
            }, u, t.easing),
            c = 1 - c;
        n.animate({
            opacity: c
        }, u, t.easing),
        n.queue(function() {
            o && n.hide(),
            e()
        }),
        1 < p && h.splice.apply(h, [1, 0].concat(h.splice(p, l + 1))),
        n.dequeue()
    }
    ,
    D.effects.effect.shake = function(t, e) {
        var i, n = D(this), s = ["position", "top", "bottom", "left", "right", "height", "width"], r = D.effects.setMode(n, t.mode || "effect"), o = t.direction || "left", a = t.distance || 20, l = t.times || 3, u = 2 * l + 1, c = Math.round(t.duration / u), h = "up" === o || "down" === o ? "top" : "left", p = "up" === o || "left" === o, d = {}, f = {}, m = {}, g = n.queue(), y = g.length;
        for (D.effects.save(n, s),
        n.show(),
        D.effects.createWrapper(n),
        d[h] = (p ? "-=" : "+=") + a,
        f[h] = (p ? "+=" : "-=") + 2 * a,
        m[h] = (p ? "-=" : "+=") + 2 * a,
        n.animate(d, c, t.easing),
        i = 1; i < l; i++)
            n.animate(f, c, t.easing).animate(m, c, t.easing);
        n.animate(f, c, t.easing).animate(d, c / 2, t.easing).queue(function() {
            "hide" === r && n.hide(),
            D.effects.restore(n, s),
            D.effects.removeWrapper(n),
            e()
        }),
        1 < y && g.splice.apply(g, [1, 0].concat(g.splice(y, u + 1))),
        n.dequeue()
    }
    ,
    D.effects.effect.slide = function(t, e) {
        var i, n = D(this), s = ["position", "top", "bottom", "left", "right", "width", "height"], r = D.effects.setMode(n, t.mode || "show"), o = "show" === r, a = t.direction || "left", l = "up" === a || "down" === a ? "top" : "left", u = "up" === a || "left" === a, c = {};
        D.effects.save(n, s),
        n.show(),
        i = t.distance || n["top" === l ? "outerHeight" : "outerWidth"](!0),
        D.effects.createWrapper(n).css({
            overflow: "hidden"
        }),
        o && n.css(l, u ? isNaN(i) ? "-" + i : -i : i),
        c[l] = (o ? u ? "+=" : "-=" : u ? "-=" : "+=") + i,
        n.animate(c, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                "hide" === r && n.hide(),
                D.effects.restore(n, s),
                D.effects.removeWrapper(n),
                e()
            }
        })
    }
    ,
    D.effects.effect.transfer = function(t, e) {
        var i = D(this)
          , n = D(t.to)
          , s = "fixed" === n.css("position")
          , r = D("body")
          , o = s ? r.scrollTop() : 0
          , a = s ? r.scrollLeft() : 0
          , l = n.offset()
          , u = {
            top: l.top - o,
            left: l.left - a,
            height: n.innerHeight(),
            width: n.innerWidth()
        }
          , c = i.offset()
          , h = D("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({
            top: c.top - o,
            left: c.left - a,
            height: i.innerHeight(),
            width: i.innerWidth(),
            position: s ? "fixed" : "absolute"
        }).animate(u, t.duration, t.easing, function() {
            h.remove(),
            e()
        })
    }
    ,
    D.widget("ui.progressbar", {
        version: "1.11.4",
        options: {
            max: 100,
            value: 0,
            change: null,
            complete: null
        },
        min: 0,
        _create: function() {
            this.oldValue = this.options.value = this._constrainedValue(),
            this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
                role: "progressbar",
                "aria-valuemin": this.min
            }),
            this.valueDiv = D("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),
            this._refreshValue()
        },
        _destroy: function() {
            this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),
            this.valueDiv.remove()
        },
        value: function(t) {
            if (t === undefined)
                return this.options.value;
            this.options.value = this._constrainedValue(t),
            this._refreshValue()
        },
        _constrainedValue: function(t) {
            return t === undefined && (t = this.options.value),
            this.indeterminate = !1 === t,
            "number" != typeof t && (t = 0),
            !this.indeterminate && Math.min(this.options.max, Math.max(this.min, t))
        },
        _setOptions: function(t) {
            var e = t.value;
            delete t.value,
            this._super(t),
            this.options.value = this._constrainedValue(e),
            this._refreshValue()
        },
        _setOption: function(t, e) {
            "max" === t && (e = Math.max(this.min, e)),
            "disabled" === t && this.element.toggleClass("ui-state-disabled", !!e).attr("aria-disabled", e),
            this._super(t, e)
        },
        _percentage: function() {
            return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
        },
        _refreshValue: function() {
            var t = this.options.value
              , e = this._percentage();
            this.valueDiv.toggle(this.indeterminate || t > this.min).toggleClass("ui-corner-right", t === this.options.max).width(e.toFixed(0) + "%"),
            this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate),
            this.indeterminate ? (this.element.removeAttr("aria-valuenow"),
            this.overlayDiv || (this.overlayDiv = D("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))) : (this.element.attr({
                "aria-valuemax": this.options.max,
                "aria-valuenow": t
            }),
            this.overlayDiv && (this.overlayDiv.remove(),
            this.overlayDiv = null)),
            this.oldValue !== t && (this.oldValue = t,
            this._trigger("change")),
            t === this.options.max && this._trigger("complete")
        }
    }),
    D.widget("ui.selectable", D.ui.mouse, {
        version: "1.11.4",
        options: {
            appendTo: "body",
            autoRefresh: !0,
            distance: 0,
            filter: "*",
            tolerance: "touch",
            selected: null,
            selecting: null,
            start: null,
            stop: null,
            unselected: null,
            unselecting: null
        },
        _create: function() {
            var t, e = this;
            this.element.addClass("ui-selectable"),
            this.dragged = !1,
            this.refresh = function() {
                (t = D(e.options.filter, e.element[0])).addClass("ui-selectee"),
                t.each(function() {
                    var t = D(this)
                      , e = t.offset();
                    D.data(this, "selectable-item", {
                        element: this,
                        $element: t,
                        left: e.left,
                        top: e.top,
                        right: e.left + t.outerWidth(),
                        bottom: e.top + t.outerHeight(),
                        startselected: !1,
                        selected: t.hasClass("ui-selected"),
                        selecting: t.hasClass("ui-selecting"),
                        unselecting: t.hasClass("ui-unselecting")
                    })
                })
            }
            ,
            this.refresh(),
            this.selectees = t.addClass("ui-selectee"),
            this._mouseInit(),
            this.helper = D("<div class='ui-selectable-helper'></div>")
        },
        _destroy: function() {
            this.selectees.removeClass("ui-selectee").removeData("selectable-item"),
            this.element.removeClass("ui-selectable ui-selectable-disabled"),
            this._mouseDestroy()
        },
        _mouseStart: function(i) {
            var n = this
              , t = this.options;
            this.opos = [i.pageX, i.pageY],
            this.options.disabled || (this.selectees = D(t.filter, this.element[0]),
            this._trigger("start", i),
            D(t.appendTo).append(this.helper),
            this.helper.css({
                left: i.pageX,
                top: i.pageY,
                width: 0,
                height: 0
            }),
            t.autoRefresh && this.refresh(),
            this.selectees.filter(".ui-selected").each(function() {
                var t = D.data(this, "selectable-item");
                t.startselected = !0,
                i.metaKey || i.ctrlKey || (t.$element.removeClass("ui-selected"),
                t.selected = !1,
                t.$element.addClass("ui-unselecting"),
                t.unselecting = !0,
                n._trigger("unselecting", i, {
                    unselecting: t.element
                }))
            }),
            D(i.target).parents().addBack().each(function() {
                var t, e = D.data(this, "selectable-item");
                if (e)
                    return t = !i.metaKey && !i.ctrlKey || !e.$element.hasClass("ui-selected"),
                    e.$element.removeClass(t ? "ui-unselecting" : "ui-selected").addClass(t ? "ui-selecting" : "ui-unselecting"),
                    e.unselecting = !t,
                    e.selecting = t,
                    (e.selected = t) ? n._trigger("selecting", i, {
                        selecting: e.element
                    }) : n._trigger("unselecting", i, {
                        unselecting: e.element
                    }),
                    !1
            }))
        },
        _mouseDrag: function(i) {
            if (this.dragged = !0,
            !this.options.disabled) {
                var t, n = this, s = this.options, r = this.opos[0], o = this.opos[1], a = i.pageX, l = i.pageY;
                return a < r && (t = a,
                a = r,
                r = t),
                l < o && (t = l,
                l = o,
                o = t),
                this.helper.css({
                    left: r,
                    top: o,
                    width: a - r,
                    height: l - o
                }),
                this.selectees.each(function() {
                    var t = D.data(this, "selectable-item")
                      , e = !1;
                    t && t.element !== n.element[0] && ("touch" === s.tolerance ? e = !(t.left > a || t.right < r || t.top > l || t.bottom < o) : "fit" === s.tolerance && (e = t.left > r && t.right < a && t.top > o && t.bottom < l),
                    e ? (t.selected && (t.$element.removeClass("ui-selected"),
                    t.selected = !1),
                    t.unselecting && (t.$element.removeClass("ui-unselecting"),
                    t.unselecting = !1),
                    t.selecting || (t.$element.addClass("ui-selecting"),
                    t.selecting = !0,
                    n._trigger("selecting", i, {
                        selecting: t.element
                    }))) : (t.selecting && ((i.metaKey || i.ctrlKey) && t.startselected ? (t.$element.removeClass("ui-selecting"),
                    t.selecting = !1,
                    t.$element.addClass("ui-selected"),
                    t.selected = !0) : (t.$element.removeClass("ui-selecting"),
                    t.selecting = !1,
                    t.startselected && (t.$element.addClass("ui-unselecting"),
                    t.unselecting = !0),
                    n._trigger("unselecting", i, {
                        unselecting: t.element
                    }))),
                    t.selected && (i.metaKey || i.ctrlKey || t.startselected || (t.$element.removeClass("ui-selected"),
                    t.selected = !1,
                    t.$element.addClass("ui-unselecting"),
                    t.unselecting = !0,
                    n._trigger("unselecting", i, {
                        unselecting: t.element
                    })))))
                }),
                !1
            }
        },
        _mouseStop: function(e) {
            var i = this;
            return this.dragged = !1,
            D(".ui-unselecting", this.element[0]).each(function() {
                var t = D.data(this, "selectable-item");
                t.$element.removeClass("ui-unselecting"),
                t.unselecting = !1,
                t.startselected = !1,
                i._trigger("unselected", e, {
                    unselected: t.element
                })
            }),
            D(".ui-selecting", this.element[0]).each(function() {
                var t = D.data(this, "selectable-item");
                t.$element.removeClass("ui-selecting").addClass("ui-selected"),
                t.selecting = !1,
                t.selected = !0,
                t.startselected = !0,
                i._trigger("selected", e, {
                    selected: t.element
                })
            }),
            this._trigger("stop", e),
            this.helper.remove(),
            !1
        }
    }),
    D.widget("ui.selectmenu", {
        version: "1.11.4",
        defaultElement: "<select>",
        options: {
            appendTo: null,
            disabled: null,
            icons: {
                button: "ui-icon-triangle-1-s"
            },
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            width: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            select: null
        },
        _create: function() {
            var t = this.element.uniqueId().attr("id");
            this.ids = {
                element: t,
                button: t + "-button",
                menu: t + "-menu"
            },
            this._drawButton(),
            this._drawMenu(),
            this.options.disabled && this.disable()
        },
        _drawButton: function() {
            var t = this;
            this.label = D("label[for='" + this.ids.element + "']").attr("for", this.ids.button),
            this._on(this.label, {
                click: function(t) {
                    this.button.focus(),
                    t.preventDefault()
                }
            }),
            this.element.hide(),
            this.button = D("<span>", {
                "class": "ui-selectmenu-button ui-widget ui-state-default ui-corner-all",
                tabindex: this.options.disabled ? -1 : 0,
                id: this.ids.button,
                role: "combobox",
                "aria-expanded": "false",
                "aria-autocomplete": "list",
                "aria-owns": this.ids.menu,
                "aria-haspopup": "true"
            }).insertAfter(this.element),
            D("<span>", {
                "class": "ui-icon " + this.options.icons.button
            }).prependTo(this.button),
            this.buttonText = D("<span>", {
                "class": "ui-selectmenu-text"
            }).appendTo(this.button),
            this._setText(this.buttonText, this.element.find("option:selected").text()),
            this._resizeButton(),
            this._on(this.button, this._buttonEvents),
            this.button.one("focusin", function() {
                t.menuItems || t._refreshMenu()
            }),
            this._hoverable(this.button),
            this._focusable(this.button)
        },
        _drawMenu: function() {
            var n = this;
            this.menu = D("<ul>", {
                "aria-hidden": "true",
                "aria-labelledby": this.ids.button,
                id: this.ids.menu
            }),
            this.menuWrap = D("<div>", {
                "class": "ui-selectmenu-menu ui-front"
            }).append(this.menu).appendTo(this._appendTo()),
            this.menuInstance = this.menu.menu({
                role: "listbox",
                select: function(t, e) {
                    t.preventDefault(),
                    n._setSelection(),
                    n._select(e.item.data("ui-selectmenu-item"), t)
                },
                focus: function(t, e) {
                    var i = e.item.data("ui-selectmenu-item");
                    null != n.focusIndex && i.index !== n.focusIndex && (n._trigger("focus", t, {
                        item: i
                    }),
                    n.isOpen || n._select(i, t)),
                    n.focusIndex = i.index,
                    n.button.attr("aria-activedescendant", n.menuItems.eq(i.index).attr("id"))
                }
            }).menu("instance"),
            this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),
            this.menuInstance._off(this.menu, "mouseleave"),
            this.menuInstance._closeOnDocumentClick = function() {
                return !1
            }
            ,
            this.menuInstance._isDivider = function() {
                return !1
            }
        },
        refresh: function() {
            this._refreshMenu(),
            this._setText(this.buttonText, this._getSelectedItem().text()),
            this.options.width || this._resizeButton()
        },
        _refreshMenu: function() {
            this.menu.empty();
            var t, e = this.element.find("option");
            e.length && (this._parseOptions(e),
            this._renderMenu(this.menu, this.items),
            this.menuInstance.refresh(),
            this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup"),
            t = this._getSelectedItem(),
            this.menuInstance.focus(null, t),
            this._setAria(t.data("ui-selectmenu-item")),
            this._setOption("disabled", this.element.prop("disabled")))
        },
        open: function(t) {
            this.options.disabled || (this.menuItems ? (this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),
            this.menuInstance.focus(null, this._getSelectedItem())) : this._refreshMenu(),
            this.isOpen = !0,
            this._toggleAttr(),
            this._resizeMenu(),
            this._position(),
            this._on(this.document, this._documentClick),
            this._trigger("open", t))
        },
        _position: function() {
            this.menuWrap.position(D.extend({
                of: this.button
            }, this.options.position))
        },
        close: function(t) {
            this.isOpen && (this.isOpen = !1,
            this._toggleAttr(),
            this.range = null,
            this._off(this.document),
            this._trigger("close", t))
        },
        widget: function() {
            return this.button
        },
        menuWidget: function() {
            return this.menu
        },
        _renderMenu: function(i, t) {
            var n = this
              , s = "";
            D.each(t, function(t, e) {
                e.optgroup !== s && (D("<li>", {
                    "class": "ui-selectmenu-optgroup ui-menu-divider" + (e.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : ""),
                    text: e.optgroup
                }).appendTo(i),
                s = e.optgroup),
                n._renderItemData(i, e)
            })
        },
        _renderItemData: function(t, e) {
            return this._renderItem(t, e).data("ui-selectmenu-item", e)
        },
        _renderItem: function(t, e) {
            var i = D("<li>");
            return e.disabled && i.addClass("ui-state-disabled"),
            this._setText(i, e.label),
            i.appendTo(t)
        },
        _setText: function(t, e) {
            e ? t.text(e) : t.html("&#160;")
        },
        _move: function(t, e) {
            var i, n, s = ".ui-menu-item";
            this.isOpen ? i = this.menuItems.eq(this.focusIndex) : (i = this.menuItems.eq(this.element[0].selectedIndex),
            s += ":not(.ui-state-disabled)"),
            (n = "first" === t || "last" === t ? i["first" === t ? "prevAll" : "nextAll"](s).eq(-1) : i[t + "All"](s).eq(0)).length && this.menuInstance.focus(e, n)
        },
        _getSelectedItem: function() {
            return this.menuItems.eq(this.element[0].selectedIndex)
        },
        _toggle: function(t) {
            this[this.isOpen ? "close" : "open"](t)
        },
        _setSelection: function() {
            var t;
            this.range && (window.getSelection ? ((t = window.getSelection()).removeAllRanges(),
            t.addRange(this.range)) : this.range.select(),
            this.button.focus())
        },
        _documentClick: {
            mousedown: function(t) {
                this.isOpen && (D(t.target).closest(".ui-selectmenu-menu, #" + this.ids.button).length || this.close(t))
            }
        },
        _buttonEvents: {
            mousedown: function() {
                var t;
                window.getSelection ? (t = window.getSelection()).rangeCount && (this.range = t.getRangeAt(0)) : this.range = document.selection.createRange()
            },
            click: function(t) {
                this._setSelection(),
                this._toggle(t)
            },
            keydown: function(t) {
                var e = !0;
                switch (t.keyCode) {
                case D.ui.keyCode.TAB:
                case D.ui.keyCode.ESCAPE:
                    this.close(t),
                    e = !1;
                    break;
                case D.ui.keyCode.ENTER:
                    this.isOpen && this._selectFocusedItem(t);
                    break;
                case D.ui.keyCode.UP:
                    t.altKey ? this._toggle(t) : this._move("prev", t);
                    break;
                case D.ui.keyCode.DOWN:
                    t.altKey ? this._toggle(t) : this._move("next", t);
                    break;
                case D.ui.keyCode.SPACE:
                    this.isOpen ? this._selectFocusedItem(t) : this._toggle(t);
                    break;
                case D.ui.keyCode.LEFT:
                    this._move("prev", t);
                    break;
                case D.ui.keyCode.RIGHT:
                    this._move("next", t);
                    break;
                case D.ui.keyCode.HOME:
                case D.ui.keyCode.PAGE_UP:
                    this._move("first", t);
                    break;
                case D.ui.keyCode.END:
                case D.ui.keyCode.PAGE_DOWN:
                    this._move("last", t);
                    break;
                default:
                    this.menu.trigger(t),
                    e = !1
                }
                e && t.preventDefault()
            }
        },
        _selectFocusedItem: function(t) {
            var e = this.menuItems.eq(this.focusIndex);
            e.hasClass("ui-state-disabled") || this._select(e.data("ui-selectmenu-item"), t)
        },
        _select: function(t, e) {
            var i = this.element[0].selectedIndex;
            this.element[0].selectedIndex = t.index,
            this._setText(this.buttonText, t.label),
            this._setAria(t),
            this._trigger("select", e, {
                item: t
            }),
            t.index !== i && this._trigger("change", e, {
                item: t
            }),
            this.close(e)
        },
        _setAria: function(t) {
            var e = this.menuItems.eq(t.index).attr("id");
            this.button.attr({
                "aria-labelledby": e,
                "aria-activedescendant": e
            }),
            this.menu.attr("aria-activedescendant", e)
        },
        _setOption: function(t, e) {
            "icons" === t && this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),
            this._super(t, e),
            "appendTo" === t && this.menuWrap.appendTo(this._appendTo()),
            "disabled" === t && (this.menuInstance.option("disabled", e),
            this.button.toggleClass("ui-state-disabled", e).attr("aria-disabled", e),
            this.element.prop("disabled", e),
            e ? (this.button.attr("tabindex", -1),
            this.close()) : this.button.attr("tabindex", 0)),
            "width" === t && this._resizeButton()
        },
        _appendTo: function() {
            var t = this.options.appendTo;
            return t && (t = t.jquery || t.nodeType ? D(t) : this.document.find(t).eq(0)),
            t && t[0] || (t = this.element.closest(".ui-front")),
            t.length || (t = this.document[0].body),
            t
        },
        _toggleAttr: function() {
            this.button.toggleClass("ui-corner-top", this.isOpen).toggleClass("ui-corner-all", !this.isOpen).attr("aria-expanded", this.isOpen),
            this.menuWrap.toggleClass("ui-selectmenu-open", this.isOpen),
            this.menu.attr("aria-hidden", !this.isOpen)
        },
        _resizeButton: function() {
            var t = this.options.width;
            t || (t = this.element.show().outerWidth(),
            this.element.hide()),
            this.button.outerWidth(t)
        },
        _resizeMenu: function() {
            this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1))
        },
        _getCreateOptions: function() {
            return {
                disabled: this.element.prop("disabled")
            }
        },
        _parseOptions: function(t) {
            var s = [];
            t.each(function(t, e) {
                var i = D(e)
                  , n = i.parent("optgroup");
                s.push({
                    element: i,
                    index: t,
                    value: i.val(),
                    label: i.text(),
                    optgroup: n.attr("label") || "",
                    disabled: n.prop("disabled") || i.prop("disabled")
                })
            }),
            this.items = s
        },
        _destroy: function() {
            this.menuWrap.remove(),
            this.button.remove(),
            this.element.show(),
            this.element.removeUniqueId(),
            this.label.attr("for", this.ids.element)
        }
    }),
    D.widget("ui.slider", D.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "slide",
        options: {
            animate: !1,
            distance: 0,
            max: 100,
            min: 0,
            orientation: "horizontal",
            range: !1,
            step: 1,
            value: 0,
            values: null,
            change: null,
            slide: null,
            start: null,
            stop: null
        },
        numPages: 5,
        _create: function() {
            this._keySliding = !1,
            this._mouseSliding = !1,
            this._animateOff = !0,
            this._handleIndex = null,
            this._detectOrientation(),
            this._mouseInit(),
            this._calculateNewMax(),
            this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget ui-widget-content ui-corner-all"),
            this._refresh(),
            this._setOption("disabled", this.options.disabled),
            this._animateOff = !1
        },
        _refresh: function() {
            this._createRange(),
            this._createHandles(),
            this._setupEvents(),
            this._refreshValue()
        },
        _createHandles: function() {
            var t, e, i = this.options, n = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"), s = "<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>", r = [];
            for (e = i.values && i.values.length || 1,
            n.length > e && (n.slice(e).remove(),
            n = n.slice(0, e)),
            t = n.length; t < e; t++)
                r.push(s);
            this.handles = n.add(D(r.join("")).appendTo(this.element)),
            this.handle = this.handles.eq(0),
            this.handles.each(function(t) {
                D(this).data("ui-slider-handle-index", t)
            })
        },
        _createRange: function() {
            var t = this.options
              , e = "";
            t.range ? (!0 === t.range && (t.values ? t.values.length && 2 !== t.values.length ? t.values = [t.values[0], t.values[0]] : D.isArray(t.values) && (t.values = t.values.slice(0)) : t.values = [this._valueMin(), this._valueMin()]),
            this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                left: "",
                bottom: ""
            }) : (this.range = D("<div></div>").appendTo(this.element),
            e = "ui-slider-range ui-widget-header ui-corner-all"),
            this.range.addClass(e + ("min" === t.range || "max" === t.range ? " ui-slider-range-" + t.range : ""))) : (this.range && this.range.remove(),
            this.range = null)
        },
        _setupEvents: function() {
            this._off(this.handles),
            this._on(this.handles, this._handleEvents),
            this._hoverable(this.handles),
            this._focusable(this.handles)
        },
        _destroy: function() {
            this.handles.remove(),
            this.range && this.range.remove(),
            this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),
            this._mouseDestroy()
        },
        _mouseCapture: function(t) {
            var e, i, n, s, r, o, a, l = this, u = this.options;
            return !u.disabled && (this.elementSize = {
                width: this.element.outerWidth(),
                height: this.element.outerHeight()
            },
            this.elementOffset = this.element.offset(),
            e = {
                x: t.pageX,
                y: t.pageY
            },
            i = this._normValueFromMouse(e),
            n = this._valueMax() - this._valueMin() + 1,
            this.handles.each(function(t) {
                var e = Math.abs(i - l.values(t));
                (e < n || n === e && (t === l._lastChangedValue || l.values(t) === u.min)) && (n = e,
                s = D(this),
                r = t)
            }),
            !1 !== this._start(t, r) && (this._mouseSliding = !0,
            this._handleIndex = r,
            s.addClass("ui-state-active").focus(),
            o = s.offset(),
            a = !D(t.target).parents().addBack().is(".ui-slider-handle"),
            this._clickOffset = a ? {
                left: 0,
                top: 0
            } : {
                left: t.pageX - o.left - s.width() / 2,
                top: t.pageY - o.top - s.height() / 2 - (parseInt(s.css("borderTopWidth"), 10) || 0) - (parseInt(s.css("borderBottomWidth"), 10) || 0) + (parseInt(s.css("marginTop"), 10) || 0)
            },
            this.handles.hasClass("ui-state-hover") || this._slide(t, r, i),
            this._animateOff = !0))
        },
        _mouseStart: function() {
            return !0
        },
        _mouseDrag: function(t) {
            var e = {
                x: t.pageX,
                y: t.pageY
            }
              , i = this._normValueFromMouse(e);
            return this._slide(t, this._handleIndex, i),
            !1
        },
        _mouseStop: function(t) {
            return this.handles.removeClass("ui-state-active"),
            this._mouseSliding = !1,
            this._stop(t, this._handleIndex),
            this._change(t, this._handleIndex),
            this._handleIndex = null,
            this._clickOffset = null,
            this._animateOff = !1
        },
        _detectOrientation: function() {
            this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
        },
        _normValueFromMouse: function(t) {
            var e, i, n, s, r;
            return "horizontal" === this.orientation ? (e = this.elementSize.width,
            i = t.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (e = this.elementSize.height,
            i = t.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)),
            1 < (n = i / e) && (n = 1),
            n < 0 && (n = 0),
            "vertical" === this.orientation && (n = 1 - n),
            s = this._valueMax() - this._valueMin(),
            r = this._valueMin() + n * s,
            this._trimAlignValue(r)
        },
        _start: function(t, e) {
            var i = {
                handle: this.handles[e],
                value: this.value()
            };
            return this.options.values && this.options.values.length && (i.value = this.values(e),
            i.values = this.values()),
            this._trigger("start", t, i)
        },
        _slide: function(t, e, i) {
            var n, s, r;
            this.options.values && this.options.values.length ? (n = this.values(e ? 0 : 1),
            2 === this.options.values.length && !0 === this.options.range && (0 === e && n < i || 1 === e && i < n) && (i = n),
            i !== this.values(e) && ((s = this.values())[e] = i,
            r = this._trigger("slide", t, {
                handle: this.handles[e],
                value: i,
                values: s
            }),
            n = this.values(e ? 0 : 1),
            !1 !== r && this.values(e, i))) : i !== this.value() && !1 !== (r = this._trigger("slide", t, {
                handle: this.handles[e],
                value: i
            })) && this.value(i)
        },
        _stop: function(t, e) {
            var i = {
                handle: this.handles[e],
                value: this.value()
            };
            this.options.values && this.options.values.length && (i.value = this.values(e),
            i.values = this.values()),
            this._trigger("stop", t, i)
        },
        _change: function(t, e) {
            if (!this._keySliding && !this._mouseSliding) {
                var i = {
                    handle: this.handles[e],
                    value: this.value()
                };
                this.options.values && this.options.values.length && (i.value = this.values(e),
                i.values = this.values()),
                this._lastChangedValue = e,
                this._trigger("change", t, i)
            }
        },
        value: function(t) {
            return arguments.length ? (this.options.value = this._trimAlignValue(t),
            this._refreshValue(),
            void this._change(null, 0)) : this._value()
        },
        values: function(t, e) {
            var i, n, s;
            if (1 < arguments.length)
                return this.options.values[t] = this._trimAlignValue(e),
                this._refreshValue(),
                void this._change(null, t);
            if (!arguments.length)
                return this._values();
            if (!D.isArray(t))
                return this.options.values && this.options.values.length ? this._values(t) : this.value();
            for (i = this.options.values,
            n = t,
            s = 0; s < i.length; s += 1)
                i[s] = this._trimAlignValue(n[s]),
                this._change(null, s);
            this._refreshValue()
        },
        _setOption: function(t, e) {
            var i, n = 0;
            switch ("range" === t && !0 === this.options.range && ("min" === e ? (this.options.value = this._values(0),
            this.options.values = null) : "max" === e && (this.options.value = this._values(this.options.values.length - 1),
            this.options.values = null)),
            D.isArray(this.options.values) && (n = this.options.values.length),
            "disabled" === t && this.element.toggleClass("ui-state-disabled", !!e),
            this._super(t, e),
            t) {
            case "orientation":
                this._detectOrientation(),
                this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation),
                this._refreshValue(),
                this.handles.css("horizontal" === e ? "bottom" : "left", "");
                break;
            case "value":
                this._animateOff = !0,
                this._refreshValue(),
                this._change(null, 0),
                this._animateOff = !1;
                break;
            case "values":
                for (this._animateOff = !0,
                this._refreshValue(),
                i = 0; i < n; i += 1)
                    this._change(null, i);
                this._animateOff = !1;
                break;
            case "step":
            case "min":
            case "max":
                this._animateOff = !0,
                this._calculateNewMax(),
                this._refreshValue(),
                this._animateOff = !1;
                break;
            case "range":
                this._animateOff = !0,
                this._refresh(),
                this._animateOff = !1
            }
        },
        _value: function() {
            var t = this.options.value;
            return t = this._trimAlignValue(t)
        },
        _values: function(t) {
            var e, i, n;
            if (arguments.length)
                return e = this.options.values[t],
                e = this._trimAlignValue(e);
            if (this.options.values && this.options.values.length) {
                for (i = this.options.values.slice(),
                n = 0; n < i.length; n += 1)
                    i[n] = this._trimAlignValue(i[n]);
                return i
            }
            return []
        },
        _trimAlignValue: function(t) {
            if (t <= this._valueMin())
                return this._valueMin();
            if (t >= this._valueMax())
                return this._valueMax();
            var e = 0 < this.options.step ? this.options.step : 1
              , i = (t - this._valueMin()) % e
              , n = t - i;
            return 2 * Math.abs(i) >= e && (n += 0 < i ? e : -e),
            parseFloat(n.toFixed(5))
        },
        _calculateNewMax: function() {
            var t = this.options.max
              , e = this._valueMin()
              , i = this.options.step;
            t = Math.floor(+(t - e).toFixed(this._precision()) / i) * i + e,
            this.max = parseFloat(t.toFixed(this._precision()))
        },
        _precision: function() {
            var t = this._precisionOf(this.options.step);
            return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))),
            t
        },
        _precisionOf: function(t) {
            var e = t.toString()
              , i = e.indexOf(".");
            return -1 === i ? 0 : e.length - i - 1
        },
        _valueMin: function() {
            return this.options.min
        },
        _valueMax: function() {
            return this.max
        },
        _refreshValue: function() {
            var e, i, t, n, s, r = this.options.range, o = this.options, a = this, l = !this._animateOff && o.animate, u = {};
            this.options.values && this.options.values.length ? this.handles.each(function(t) {
                i = (a.values(t) - a._valueMin()) / (a._valueMax() - a._valueMin()) * 100,
                u["horizontal" === a.orientation ? "left" : "bottom"] = i + "%",
                D(this).stop(1, 1)[l ? "animate" : "css"](u, o.animate),
                !0 === a.options.range && ("horizontal" === a.orientation ? (0 === t && a.range.stop(1, 1)[l ? "animate" : "css"]({
                    left: i + "%"
                }, o.animate),
                1 === t && a.range[l ? "animate" : "css"]({
                    width: i - e + "%"
                }, {
                    queue: !1,
                    duration: o.animate
                })) : (0 === t && a.range.stop(1, 1)[l ? "animate" : "css"]({
                    bottom: i + "%"
                }, o.animate),
                1 === t && a.range[l ? "animate" : "css"]({
                    height: i - e + "%"
                }, {
                    queue: !1,
                    duration: o.animate
                }))),
                e = i
            }) : (t = this.value(),
            n = this._valueMin(),
            s = this._valueMax(),
            i = s !== n ? (t - n) / (s - n) * 100 : 0,
            u["horizontal" === this.orientation ? "left" : "bottom"] = i + "%",
            this.handle.stop(1, 1)[l ? "animate" : "css"](u, o.animate),
            "min" === r && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                width: i + "%"
            }, o.animate),
            "max" === r && "horizontal" === this.orientation && this.range[l ? "animate" : "css"]({
                width: 100 - i + "%"
            }, {
                queue: !1,
                duration: o.animate
            }),
            "min" === r && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                height: i + "%"
            }, o.animate),
            "max" === r && "vertical" === this.orientation && this.range[l ? "animate" : "css"]({
                height: 100 - i + "%"
            }, {
                queue: !1,
                duration: o.animate
            }))
        },
        _handleEvents: {
            keydown: function(t) {
                var e, i, n, s = D(t.target).data("ui-slider-handle-index");
                switch (t.keyCode) {
                case D.ui.keyCode.HOME:
                case D.ui.keyCode.END:
                case D.ui.keyCode.PAGE_UP:
                case D.ui.keyCode.PAGE_DOWN:
                case D.ui.keyCode.UP:
                case D.ui.keyCode.RIGHT:
                case D.ui.keyCode.DOWN:
                case D.ui.keyCode.LEFT:
                    if (t.preventDefault(),
                    !this._keySliding && (this._keySliding = !0,
                    D(t.target).addClass("ui-state-active"),
                    !1 === this._start(t, s)))
                        return
                }
                switch (n = this.options.step,
                e = i = this.options.values && this.options.values.length ? this.values(s) : this.value(),
                t.keyCode) {
                case D.ui.keyCode.HOME:
                    i = this._valueMin();
                    break;
                case D.ui.keyCode.END:
                    i = this._valueMax();
                    break;
                case D.ui.keyCode.PAGE_UP:
                    i = this._trimAlignValue(e + (this._valueMax() - this._valueMin()) / this.numPages);
                    break;
                case D.ui.keyCode.PAGE_DOWN:
                    i = this._trimAlignValue(e - (this._valueMax() - this._valueMin()) / this.numPages);
                    break;
                case D.ui.keyCode.UP:
                case D.ui.keyCode.RIGHT:
                    if (e === this._valueMax())
                        return;
                    i = this._trimAlignValue(e + n);
                    break;
                case D.ui.keyCode.DOWN:
                case D.ui.keyCode.LEFT:
                    if (e === this._valueMin())
                        return;
                    i = this._trimAlignValue(e - n)
                }
                this._slide(t, s, i)
            },
            keyup: function(t) {
                var e = D(t.target).data("ui-slider-handle-index");
                this._keySliding && (this._keySliding = !1,
                this._stop(t, e),
                this._change(t, e),
                D(t.target).removeClass("ui-state-active"))
            }
        }
    }),
    D.widget("ui.sortable", D.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "sort",
        ready: !1,
        options: {
            appendTo: "parent",
            axis: !1,
            connectWith: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            dropOnEmpty: !0,
            forcePlaceholderSize: !1,
            forceHelperSize: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            items: "> *",
            opacity: !1,
            placeholder: !1,
            revert: !1,
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            scope: "default",
            tolerance: "intersect",
            zIndex: 1e3,
            activate: null,
            beforeStop: null,
            change: null,
            deactivate: null,
            out: null,
            over: null,
            receive: null,
            remove: null,
            sort: null,
            start: null,
            stop: null,
            update: null
        },
        _isOverAxis: function(t, e, i) {
            return e <= t && t < e + i
        },
        _isFloating: function(t) {
            return /left|right/.test(t.css("float")) || /inline|table-cell/.test(t.css("display"))
        },
        _create: function() {
            this.containerCache = {},
            this.element.addClass("ui-sortable"),
            this.refresh(),
            this.offset = this.element.offset(),
            this._mouseInit(),
            this._setHandleClassName(),
            this.ready = !0
        },
        _setOption: function(t, e) {
            this._super(t, e),
            "handle" === t && this._setHandleClassName()
        },
        _setHandleClassName: function() {
            this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),
            D.each(this.items, function() {
                (this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item).addClass("ui-sortable-handle")
            })
        },
        _destroy: function() {
            this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),
            this._mouseDestroy();
            for (var t = this.items.length - 1; 0 <= t; t--)
                this.items[t].item.removeData(this.widgetName + "-item");
            return this
        },
        _mouseCapture: function(t, e) {
            var i = null
              , n = !1
              , s = this;
            return !this.reverting && (!this.options.disabled && "static" !== this.options.type && (this._refreshItems(t),
            D(t.target).parents().each(function() {
                if (D.data(this, s.widgetName + "-item") === s)
                    return i = D(this),
                    !1
            }),
            D.data(t.target, s.widgetName + "-item") === s && (i = D(t.target)),
            !!i && (!(this.options.handle && !e && (D(this.options.handle, i).find("*").addBack().each(function() {
                this === t.target && (n = !0)
            }),
            !n)) && (this.currentItem = i,
            this._removeCurrentsFromItems(),
            !0))))
        },
        _mouseStart: function(t, e, i) {
            var n, s, r = this.options;
            if ((this.currentContainer = this).refreshPositions(),
            this.helper = this._createHelper(t),
            this._cacheHelperProportions(),
            this._cacheMargins(),
            this.scrollParent = this.helper.scrollParent(),
            this.offset = this.currentItem.offset(),
            this.offset = {
                top: this.offset.top - this.margins.top,
                left: this.offset.left - this.margins.left
            },
            D.extend(this.offset, {
                click: {
                    left: t.pageX - this.offset.left,
                    top: t.pageY - this.offset.top
                },
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            }),
            this.helper.css("position", "absolute"),
            this.cssPosition = this.helper.css("position"),
            this.originalPosition = this._generatePosition(t),
            this.originalPageX = t.pageX,
            this.originalPageY = t.pageY,
            r.cursorAt && this._adjustOffsetFromHelper(r.cursorAt),
            this.domPosition = {
                prev: this.currentItem.prev()[0],
                parent: this.currentItem.parent()[0]
            },
            this.helper[0] !== this.currentItem[0] && this.currentItem.hide(),
            this._createPlaceholder(),
            r.containment && this._setContainment(),
            r.cursor && "auto" !== r.cursor && (s = this.document.find("body"),
            this.storedCursor = s.css("cursor"),
            s.css("cursor", r.cursor),
            this.storedStylesheet = D("<style>*{ cursor: " + r.cursor + " !important; }</style>").appendTo(s)),
            r.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")),
            this.helper.css("opacity", r.opacity)),
            r.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")),
            this.helper.css("zIndex", r.zIndex)),
            this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()),
            this._trigger("start", t, this._uiHash()),
            this._preserveHelperProportions || this._cacheHelperProportions(),
            !i)
                for (n = this.containers.length - 1; 0 <= n; n--)
                    this.containers[n]._trigger("activate", t, this._uiHash(this));
            return D.ui.ddmanager && (D.ui.ddmanager.current = this),
            D.ui.ddmanager && !r.dropBehaviour && D.ui.ddmanager.prepareOffsets(this, t),
            this.dragging = !0,
            this.helper.addClass("ui-sortable-helper"),
            this._mouseDrag(t),
            !0
        },
        _mouseDrag: function(t) {
            var e, i, n, s, r = this.options, o = !1;
            for (this.position = this._generatePosition(t),
            this.positionAbs = this._convertPositionTo("absolute"),
            this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs),
            this.options.scroll && (this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - t.pageY < r.scrollSensitivity ? this.scrollParent[0].scrollTop = o = this.scrollParent[0].scrollTop + r.scrollSpeed : t.pageY - this.overflowOffset.top < r.scrollSensitivity && (this.scrollParent[0].scrollTop = o = this.scrollParent[0].scrollTop - r.scrollSpeed),
            this.overflowOffset.left + this.scrollParent[0].offsetWidth - t.pageX < r.scrollSensitivity ? this.scrollParent[0].scrollLeft = o = this.scrollParent[0].scrollLeft + r.scrollSpeed : t.pageX - this.overflowOffset.left < r.scrollSensitivity && (this.scrollParent[0].scrollLeft = o = this.scrollParent[0].scrollLeft - r.scrollSpeed)) : (t.pageY - this.document.scrollTop() < r.scrollSensitivity ? o = this.document.scrollTop(this.document.scrollTop() - r.scrollSpeed) : this.window.height() - (t.pageY - this.document.scrollTop()) < r.scrollSensitivity && (o = this.document.scrollTop(this.document.scrollTop() + r.scrollSpeed)),
            t.pageX - this.document.scrollLeft() < r.scrollSensitivity ? o = this.document.scrollLeft(this.document.scrollLeft() - r.scrollSpeed) : this.window.width() - (t.pageX - this.document.scrollLeft()) < r.scrollSensitivity && (o = this.document.scrollLeft(this.document.scrollLeft() + r.scrollSpeed))),
            !1 !== o && D.ui.ddmanager && !r.dropBehaviour && D.ui.ddmanager.prepareOffsets(this, t)),
            this.positionAbs = this._convertPositionTo("absolute"),
            this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"),
            this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"),
            e = this.items.length - 1; 0 <= e; e--)
                if (n = (i = this.items[e]).item[0],
                (s = this._intersectsWithPointer(i)) && i.instance === this.currentContainer && !(n === this.currentItem[0] || this.placeholder[1 === s ? "next" : "prev"]()[0] === n || D.contains(this.placeholder[0], n) || "semi-dynamic" === this.options.type && D.contains(this.element[0], n))) {
                    if (this.direction = 1 === s ? "down" : "up",
                    "pointer" !== this.options.tolerance && !this._intersectsWithSides(i))
                        break;
                    this._rearrange(t, i),
                    this._trigger("change", t, this._uiHash());
                    break
                }
            return this._contactContainers(t),
            D.ui.ddmanager && D.ui.ddmanager.drag(this, t),
            this._trigger("sort", t, this._uiHash()),
            this.lastPositionAbs = this.positionAbs,
            !1
        },
        _mouseStop: function(t, e) {
            if (t) {
                if (D.ui.ddmanager && !this.options.dropBehaviour && D.ui.ddmanager.drop(this, t),
                this.options.revert) {
                    var i = this
                      , n = this.placeholder.offset()
                      , s = this.options.axis
                      , r = {};
                    s && "x" !== s || (r.left = n.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft)),
                    s && "y" !== s || (r.top = n.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop)),
                    this.reverting = !0,
                    D(this.helper).animate(r, parseInt(this.options.revert, 10) || 500, function() {
                        i._clear(t)
                    })
                } else
                    this._clear(t, e);
                return !1
            }
        },
        cancel: function() {
            if (this.dragging) {
                this._mouseUp({
                    target: null
                }),
                "original" === this.options.helper ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
                for (var t = this.containers.length - 1; 0 <= t; t--)
                    this.containers[t]._trigger("deactivate", null, this._uiHash(this)),
                    this.containers[t].containerCache.over && (this.containers[t]._trigger("out", null, this._uiHash(this)),
                    this.containers[t].containerCache.over = 0)
            }
            return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
            "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(),
            D.extend(this, {
                helper: null,
                dragging: !1,
                reverting: !1,
                _noFinalSort: null
            }),
            this.domPosition.prev ? D(this.domPosition.prev).after(this.currentItem) : D(this.domPosition.parent).prepend(this.currentItem)),
            this
        },
        serialize: function(e) {
            var t = this._getItemsAsjQuery(e && e.connected)
              , i = [];
            return e = e || {},
            D(t).each(function() {
                var t = (D(e.item || this).attr(e.attribute || "id") || "").match(e.expression || /(.+)[\-=_](.+)/);
                t && i.push((e.key || t[1] + "[]") + "=" + (e.key && e.expression ? t[1] : t[2]))
            }),
            !i.length && e.key && i.push(e.key + "="),
            i.join("&")
        },
        toArray: function(t) {
            var e = this._getItemsAsjQuery(t && t.connected)
              , i = [];
            return t = t || {},
            e.each(function() {
                i.push(D(t.item || this).attr(t.attribute || "id") || "")
            }),
            i
        },
        _intersectsWith: function(t) {
            var e = this.positionAbs.left
              , i = e + this.helperProportions.width
              , n = this.positionAbs.top
              , s = n + this.helperProportions.height
              , r = t.left
              , o = r + t.width
              , a = t.top
              , l = a + t.height
              , u = this.offset.click.top
              , c = this.offset.click.left
              , h = "x" === this.options.axis || a < n + u && n + u < l
              , p = "y" === this.options.axis || r < e + c && e + c < o
              , d = h && p;
            return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > t[this.floating ? "width" : "height"] ? d : r < e + this.helperProportions.width / 2 && i - this.helperProportions.width / 2 < o && a < n + this.helperProportions.height / 2 && s - this.helperProportions.height / 2 < l
        },
        _intersectsWithPointer: function(t) {
            var e = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, t.top, t.height)
              , i = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, t.left, t.width)
              , n = e && i
              , s = this._getDragVerticalDirection()
              , r = this._getDragHorizontalDirection();
            return !!n && (this.floating ? r && "right" === r || "down" === s ? 2 : 1 : s && ("down" === s ? 2 : 1))
        },
        _intersectsWithSides: function(t) {
            var e = this._isOverAxis(this.positionAbs.top + this.offset.click.top, t.top + t.height / 2, t.height)
              , i = this._isOverAxis(this.positionAbs.left + this.offset.click.left, t.left + t.width / 2, t.width)
              , n = this._getDragVerticalDirection()
              , s = this._getDragHorizontalDirection();
            return this.floating && s ? "right" === s && i || "left" === s && !i : n && ("down" === n && e || "up" === n && !e)
        },
        _getDragVerticalDirection: function() {
            var t = this.positionAbs.top - this.lastPositionAbs.top;
            return 0 !== t && (0 < t ? "down" : "up")
        },
        _getDragHorizontalDirection: function() {
            var t = this.positionAbs.left - this.lastPositionAbs.left;
            return 0 !== t && (0 < t ? "right" : "left")
        },
        refresh: function(t) {
            return this._refreshItems(t),
            this._setHandleClassName(),
            this.refreshPositions(),
            this
        },
        _connectWith: function() {
            var t = this.options;
            return t.connectWith.constructor === String ? [t.connectWith] : t.connectWith
        },
        _getItemsAsjQuery: function(t) {
            function e() {
                o.push(this)
            }
            var i, n, s, r, o = [], a = [], l = this._connectWith();
            if (l && t)
                for (i = l.length - 1; 0 <= i; i--)
                    for (n = (s = D(l[i], this.document[0])).length - 1; 0 <= n; n--)
                        (r = D.data(s[n], this.widgetFullName)) && r !== this && !r.options.disabled && a.push([D.isFunction(r.options.items) ? r.options.items.call(r.element) : D(r.options.items, r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), r]);
            for (a.push([D.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                options: this.options,
                item: this.currentItem
            }) : D(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]),
            i = a.length - 1; 0 <= i; i--)
                a[i][0].each(e);
            return D(o)
        },
        _removeCurrentsFromItems: function() {
            var i = this.currentItem.find(":data(" + this.widgetName + "-item)");
            this.items = D.grep(this.items, function(t) {
                for (var e = 0; e < i.length; e++)
                    if (i[e] === t.item[0])
                        return !1;
                return !0
            })
        },
        _refreshItems: function(t) {
            this.items = [],
            this.containers = [this];
            var e, i, n, s, r, o, a, l, u = this.items, c = [[D.isFunction(this.options.items) ? this.options.items.call(this.element[0], t, {
                item: this.currentItem
            }) : D(this.options.items, this.element), this]], h = this._connectWith();
            if (h && this.ready)
                for (e = h.length - 1; 0 <= e; e--)
                    for (i = (n = D(h[e], this.document[0])).length - 1; 0 <= i; i--)
                        (s = D.data(n[i], this.widgetFullName)) && s !== this && !s.options.disabled && (c.push([D.isFunction(s.options.items) ? s.options.items.call(s.element[0], t, {
                            item: this.currentItem
                        }) : D(s.options.items, s.element), s]),
                        this.containers.push(s));
            for (e = c.length - 1; 0 <= e; e--)
                for (r = c[e][1],
                i = 0,
                l = (o = c[e][0]).length; i < l; i++)
                    (a = D(o[i])).data(this.widgetName + "-item", r),
                    u.push({
                        item: a,
                        instance: r,
                        width: 0,
                        height: 0,
                        left: 0,
                        top: 0
                    })
        },
        refreshPositions: function(t) {
            var e, i, n, s;
            for (this.floating = !!this.items.length && ("x" === this.options.axis || this._isFloating(this.items[0].item)),
            this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset()),
            e = this.items.length - 1; 0 <= e; e--)
                (i = this.items[e]).instance !== this.currentContainer && this.currentContainer && i.item[0] !== this.currentItem[0] || (n = this.options.toleranceElement ? D(this.options.toleranceElement, i.item) : i.item,
                t || (i.width = n.outerWidth(),
                i.height = n.outerHeight()),
                s = n.offset(),
                i.left = s.left,
                i.top = s.top);
            if (this.options.custom && this.options.custom.refreshContainers)
                this.options.custom.refreshContainers.call(this);
            else
                for (e = this.containers.length - 1; 0 <= e; e--)
                    s = this.containers[e].element.offset(),
                    this.containers[e].containerCache.left = s.left,
                    this.containers[e].containerCache.top = s.top,
                    this.containers[e].containerCache.width = this.containers[e].element.outerWidth(),
                    this.containers[e].containerCache.height = this.containers[e].element.outerHeight();
            return this
        },
        _createPlaceholder: function(i) {
            var n, s = (i = i || this).options;
            s.placeholder && s.placeholder.constructor !== String || (n = s.placeholder,
            s.placeholder = {
                element: function() {
                    var t = i.currentItem[0].nodeName.toLowerCase()
                      , e = D("<" + t + ">", i.document[0]).addClass(n || i.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                    return "tbody" === t ? i._createTrPlaceholder(i.currentItem.find("tr").eq(0), D("<tr>", i.document[0]).appendTo(e)) : "tr" === t ? i._createTrPlaceholder(i.currentItem, e) : "img" === t && e.attr("src", i.currentItem.attr("src")),
                    n || e.css("visibility", "hidden"),
                    e
                },
                update: function(t, e) {
                    n && !s.forcePlaceholderSize || (e.height() || e.height(i.currentItem.innerHeight() - parseInt(i.currentItem.css("paddingTop") || 0, 10) - parseInt(i.currentItem.css("paddingBottom") || 0, 10)),
                    e.width() || e.width(i.currentItem.innerWidth() - parseInt(i.currentItem.css("paddingLeft") || 0, 10) - parseInt(i.currentItem.css("paddingRight") || 0, 10)))
                }
            }),
            i.placeholder = D(s.placeholder.element.call(i.element, i.currentItem)),
            i.currentItem.after(i.placeholder),
            s.placeholder.update(i, i.placeholder)
        },
        _createTrPlaceholder: function(t, e) {
            var i = this;
            t.children().each(function() {
                D("<td>&#160;</td>", i.document[0]).attr("colspan", D(this).attr("colspan") || 1).appendTo(e)
            })
        },
        _contactContainers: function(t) {
            var e, i, n, s, r, o, a, l, u, c, h = null, p = null;
            for (e = this.containers.length - 1; 0 <= e; e--)
                if (!D.contains(this.currentItem[0], this.containers[e].element[0]))
                    if (this._intersectsWith(this.containers[e].containerCache)) {
                        if (h && D.contains(this.containers[e].element[0], h.element[0]))
                            continue;
                        h = this.containers[e],
                        p = e
                    } else
                        this.containers[e].containerCache.over && (this.containers[e]._trigger("out", t, this._uiHash(this)),
                        this.containers[e].containerCache.over = 0);
            if (h)
                if (1 === this.containers.length)
                    this.containers[p].containerCache.over || (this.containers[p]._trigger("over", t, this._uiHash(this)),
                    this.containers[p].containerCache.over = 1);
                else {
                    for (n = 1e4,
                    s = null,
                    r = (u = h.floating || this._isFloating(this.currentItem)) ? "left" : "top",
                    o = u ? "width" : "height",
                    c = u ? "clientX" : "clientY",
                    i = this.items.length - 1; 0 <= i; i--)
                        D.contains(this.containers[p].element[0], this.items[i].item[0]) && this.items[i].item[0] !== this.currentItem[0] && (a = this.items[i].item.offset()[r],
                        l = !1,
                        t[c] - a > this.items[i][o] / 2 && (l = !0),
                        Math.abs(t[c] - a) < n && (n = Math.abs(t[c] - a),
                        s = this.items[i],
                        this.direction = l ? "up" : "down"));
                    if (!s && !this.options.dropOnEmpty)
                        return;
                    if (this.currentContainer === this.containers[p])
                        return void (this.currentContainer.containerCache.over || (this.containers[p]._trigger("over", t, this._uiHash()),
                        this.currentContainer.containerCache.over = 1));
                    s ? this._rearrange(t, s, null, !0) : this._rearrange(t, null, this.containers[p].element, !0),
                    this._trigger("change", t, this._uiHash()),
                    this.containers[p]._trigger("change", t, this._uiHash(this)),
                    this.currentContainer = this.containers[p],
                    this.options.placeholder.update(this.currentContainer, this.placeholder),
                    this.containers[p]._trigger("over", t, this._uiHash(this)),
                    this.containers[p].containerCache.over = 1
                }
        },
        _createHelper: function(t) {
            var e = this.options
              , i = D.isFunction(e.helper) ? D(e.helper.apply(this.element[0], [t, this.currentItem])) : "clone" === e.helper ? this.currentItem.clone() : this.currentItem;
            return i.parents("body").length || D("parent" !== e.appendTo ? e.appendTo : this.currentItem[0].parentNode)[0].appendChild(i[0]),
            i[0] === this.currentItem[0] && (this._storedCSS = {
                width: this.currentItem[0].style.width,
                height: this.currentItem[0].style.height,
                position: this.currentItem.css("position"),
                top: this.currentItem.css("top"),
                left: this.currentItem.css("left")
            }),
            i[0].style.width && !e.forceHelperSize || i.width(this.currentItem.width()),
            i[0].style.height && !e.forceHelperSize || i.height(this.currentItem.height()),
            i
        },
        _adjustOffsetFromHelper: function(t) {
            "string" == typeof t && (t = t.split(" ")),
            D.isArray(t) && (t = {
                left: +t[0],
                top: +t[1] || 0
            }),
            "left"in t && (this.offset.click.left = t.left + this.margins.left),
            "right"in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left),
            "top"in t && (this.offset.click.top = t.top + this.margins.top),
            "bottom"in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
        },
        _getParentOffset: function() {
            this.offsetParent = this.helper.offsetParent();
            var t = this.offsetParent.offset();
            return "absolute" === this.cssPosition && this.scrollParent[0] !== this.document[0] && D.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(),
            t.top += this.scrollParent.scrollTop()),
            (this.offsetParent[0] === this.document[0].body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && D.ui.ie) && (t = {
                top: 0,
                left: 0
            }),
            {
                top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" !== this.cssPosition)
                return {
                    top: 0,
                    left: 0
                };
            var t = this.currentItem.position();
            return {
                top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                top: parseInt(this.currentItem.css("marginTop"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var t, e, i, n = this.options;
            "parent" === n.containment && (n.containment = this.helper[0].parentNode),
            "document" !== n.containment && "window" !== n.containment || (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, "document" === n.containment ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left, ("document" === n.containment ? this.document.width() : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]),
            /^(document|window|parent)$/.test(n.containment) || (t = D(n.containment)[0],
            e = D(n.containment).offset(),
            i = "hidden" !== D(t).css("overflow"),
            this.containment = [e.left + (parseInt(D(t).css("borderLeftWidth"), 10) || 0) + (parseInt(D(t).css("paddingLeft"), 10) || 0) - this.margins.left, e.top + (parseInt(D(t).css("borderTopWidth"), 10) || 0) + (parseInt(D(t).css("paddingTop"), 10) || 0) - this.margins.top, e.left + (i ? Math.max(t.scrollWidth, t.offsetWidth) : t.offsetWidth) - (parseInt(D(t).css("borderLeftWidth"), 10) || 0) - (parseInt(D(t).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, e.top + (i ? Math.max(t.scrollHeight, t.offsetHeight) : t.offsetHeight) - (parseInt(D(t).css("borderTopWidth"), 10) || 0) - (parseInt(D(t).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
        },
        _convertPositionTo: function(t, e) {
            e || (e = this.position);
            var i = "absolute" === t ? 1 : -1
              , n = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && D.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent
              , s = /(html|body)/i.test(n[0].tagName);
            return {
                top: e.top + this.offset.relative.top * i + this.offset.parent.top * i - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : s ? 0 : n.scrollTop()) * i,
                left: e.left + this.offset.relative.left * i + this.offset.parent.left * i - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : s ? 0 : n.scrollLeft()) * i
            }
        },
        _generatePosition: function(t) {
            var e, i, n = this.options, s = t.pageX, r = t.pageY, o = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && D.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent, a = /(html|body)/i.test(o[0].tagName);
            return "relative" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()),
            this.originalPosition && (this.containment && (t.pageX - this.offset.click.left < this.containment[0] && (s = this.containment[0] + this.offset.click.left),
            t.pageY - this.offset.click.top < this.containment[1] && (r = this.containment[1] + this.offset.click.top),
            t.pageX - this.offset.click.left > this.containment[2] && (s = this.containment[2] + this.offset.click.left),
            t.pageY - this.offset.click.top > this.containment[3] && (r = this.containment[3] + this.offset.click.top)),
            n.grid && (e = this.originalPageY + Math.round((r - this.originalPageY) / n.grid[1]) * n.grid[1],
            r = this.containment ? e - this.offset.click.top >= this.containment[1] && e - this.offset.click.top <= this.containment[3] ? e : e - this.offset.click.top >= this.containment[1] ? e - n.grid[1] : e + n.grid[1] : e,
            i = this.originalPageX + Math.round((s - this.originalPageX) / n.grid[0]) * n.grid[0],
            s = this.containment ? i - this.offset.click.left >= this.containment[0] && i - this.offset.click.left <= this.containment[2] ? i : i - this.offset.click.left >= this.containment[0] ? i - n.grid[0] : i + n.grid[0] : i)),
            {
                top: r - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : a ? 0 : o.scrollTop()),
                left: s - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : a ? 0 : o.scrollLeft())
            }
        },
        _rearrange: function(t, e, i, n) {
            i ? i[0].appendChild(this.placeholder[0]) : e.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? e.item[0] : e.item[0].nextSibling),
            this.counter = this.counter ? ++this.counter : 1;
            var s = this.counter;
            this._delay(function() {
                s === this.counter && this.refreshPositions(!n)
            })
        },
        _clear: function(t, e) {
            function i(e, i, n) {
                return function(t) {
                    n._trigger(e, t, i._uiHash(i))
                }
            }
            this.reverting = !1;
            var n, s = [];
            if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem),
            this._noFinalSort = null,
            this.helper[0] === this.currentItem[0]) {
                for (n in this._storedCSS)
                    "auto" !== this._storedCSS[n] && "static" !== this._storedCSS[n] || (this._storedCSS[n] = "");
                this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
            } else
                this.currentItem.show();
            for (this.fromOutside && !e && s.push(function(t) {
                this._trigger("receive", t, this._uiHash(this.fromOutside))
            }),
            !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || e || s.push(function(t) {
                this._trigger("update", t, this._uiHash())
            }),
            this !== this.currentContainer && (e || (s.push(function(t) {
                this._trigger("remove", t, this._uiHash())
            }),
            s.push(function(e) {
                return function(t) {
                    e._trigger("receive", t, this._uiHash(this))
                }
            }
            .call(this, this.currentContainer)),
            s.push(function(e) {
                return function(t) {
                    e._trigger("update", t, this._uiHash(this))
                }
            }
            .call(this, this.currentContainer)))),
            n = this.containers.length - 1; 0 <= n; n--)
                e || s.push(i("deactivate", this, this.containers[n])),
                this.containers[n].containerCache.over && (s.push(i("out", this, this.containers[n])),
                this.containers[n].containerCache.over = 0);
            if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor),
            this.storedStylesheet.remove()),
            this._storedOpacity && this.helper.css("opacity", this._storedOpacity),
            this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex),
            this.dragging = !1,
            e || this._trigger("beforeStop", t, this._uiHash()),
            this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
            this.cancelHelperRemoval || (this.helper[0] !== this.currentItem[0] && this.helper.remove(),
            this.helper = null),
            !e) {
                for (n = 0; n < s.length; n++)
                    s[n].call(this, t);
                this._trigger("stop", t, this._uiHash())
            }
            return this.fromOutside = !1,
            !this.cancelHelperRemoval
        },
        _trigger: function() {
            !1 === D.Widget.prototype._trigger.apply(this, arguments) && this.cancel()
        },
        _uiHash: function(t) {
            var e = t || this;
            return {
                helper: e.helper,
                placeholder: e.placeholder || D([]),
                position: e.position,
                originalPosition: e.originalPosition,
                offset: e.positionAbs,
                item: e.currentItem,
                sender: t ? t.element : null
            }
        }
    }),
    D.widget("ui.spinner", {
        version: "1.11.4",
        defaultElement: "<input>",
        widgetEventPrefix: "spin",
        options: {
            culture: null,
            icons: {
                down: "ui-icon-triangle-1-s",
                up: "ui-icon-triangle-1-n"
            },
            incremental: !0,
            max: null,
            min: null,
            numberFormat: null,
            page: 10,
            step: 1,
            change: null,
            spin: null,
            start: null,
            stop: null
        },
        _create: function() {
            this._setOption("max", this.options.max),
            this._setOption("min", this.options.min),
            this._setOption("step", this.options.step),
            "" !== this.value() && this._value(this.element.val(), !0),
            this._draw(),
            this._on(this._events),
            this._refresh(),
            this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _getCreateOptions: function() {
            var n = {}
              , s = this.element;
            return D.each(["min", "max", "step"], function(t, e) {
                var i = s.attr(e);
                i !== undefined && i.length && (n[e] = i)
            }),
            n
        },
        _events: {
            keydown: function(t) {
                this._start(t) && this._keydown(t) && t.preventDefault()
            },
            keyup: "_stop",
            focus: function() {
                this.previous = this.element.val()
            },
            blur: function(t) {
                this.cancelBlur ? delete this.cancelBlur : (this._stop(),
                this._refresh(),
                this.previous !== this.element.val() && this._trigger("change", t))
            },
            mousewheel: function(t, e) {
                if (e) {
                    if (!this.spinning && !this._start(t))
                        return !1;
                    this._spin((0 < e ? 1 : -1) * this.options.step, t),
                    clearTimeout(this.mousewheelTimer),
                    this.mousewheelTimer = this._delay(function() {
                        this.spinning && this._stop(t)
                    }, 100),
                    t.preventDefault()
                }
            },
            "mousedown .ui-spinner-button": function(t) {
                function e() {
                    this.element[0] === this.document[0].activeElement || (this.element.focus(),
                    this.previous = i,
                    this._delay(function() {
                        this.previous = i
                    }))
                }
                var i;
                i = this.element[0] === this.document[0].activeElement ? this.previous : this.element.val(),
                t.preventDefault(),
                e.call(this),
                this.cancelBlur = !0,
                this._delay(function() {
                    delete this.cancelBlur,
                    e.call(this)
                }),
                !1 !== this._start(t) && this._repeat(null, D(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t)
            },
            "mouseup .ui-spinner-button": "_stop",
            "mouseenter .ui-spinner-button": function(t) {
                if (D(t.currentTarget).hasClass("ui-state-active"))
                    return !1 !== this._start(t) && void this._repeat(null, D(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t)
            },
            "mouseleave .ui-spinner-button": "_stop"
        },
        _draw: function() {
            var t = this.uiSpinner = this.element.addClass("ui-spinner-input").attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
            this.element.attr("role", "spinbutton"),
            this.buttons = t.find(".ui-spinner-button").attr("tabIndex", -1).button().removeClass("ui-corner-all"),
            this.buttons.height() > Math.ceil(.5 * t.height()) && 0 < t.height() && t.height(t.height()),
            this.options.disabled && this.disable()
        },
        _keydown: function(t) {
            var e = this.options
              , i = D.ui.keyCode;
            switch (t.keyCode) {
            case i.UP:
                return this._repeat(null, 1, t),
                !0;
            case i.DOWN:
                return this._repeat(null, -1, t),
                !0;
            case i.PAGE_UP:
                return this._repeat(null, e.page, t),
                !0;
            case i.PAGE_DOWN:
                return this._repeat(null, -e.page, t),
                !0
            }
            return !1
        },
        _uiSpinnerHtml: function() {
            return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"
        },
        _buttonHtml: function() {
            return "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " + this.options.icons.up + "'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon " + this.options.icons.down + "'>&#9660;</span></a>"
        },
        _start: function(t) {
            return !(!this.spinning && !1 === this._trigger("start", t)) && (this.counter || (this.counter = 1),
            this.spinning = !0)
        },
        _repeat: function(t, e, i) {
            t = t || 500,
            clearTimeout(this.timer),
            this.timer = this._delay(function() {
                this._repeat(40, e, i)
            }, t),
            this._spin(e * this.options.step, i)
        },
        _spin: function(t, e) {
            var i = this.value() || 0;
            this.counter || (this.counter = 1),
            i = this._adjustValue(i + t * this._increment(this.counter)),
            this.spinning && !1 === this._trigger("spin", e, {
                value: i
            }) || (this._value(i),
            this.counter++)
        },
        _increment: function(t) {
            var e = this.options.incremental;
            return e ? D.isFunction(e) ? e(t) : Math.floor(t * t * t / 5e4 - t * t / 500 + 17 * t / 200 + 1) : 1
        },
        _precision: function() {
            var t = this._precisionOf(this.options.step);
            return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))),
            t
        },
        _precisionOf: function(t) {
            var e = t.toString()
              , i = e.indexOf(".");
            return -1 === i ? 0 : e.length - i - 1
        },
        _adjustValue: function(t) {
            var e, i, n = this.options;
            return i = t - (e = null !== n.min ? n.min : 0),
            t = e + (i = Math.round(i / n.step) * n.step),
            t = parseFloat(t.toFixed(this._precision())),
            null !== n.max && t > n.max ? n.max : null !== n.min && t < n.min ? n.min : t
        },
        _stop: function(t) {
            this.spinning && (clearTimeout(this.timer),
            clearTimeout(this.mousewheelTimer),
            this.counter = 0,
            this.spinning = !1,
            this._trigger("stop", t))
        },
        _setOption: function(t, e) {
            if ("culture" === t || "numberFormat" === t) {
                var i = this._parse(this.element.val());
                return this.options[t] = e,
                void this.element.val(this._format(i))
            }
            "max" !== t && "min" !== t && "step" !== t || "string" == typeof e && (e = this._parse(e)),
            "icons" === t && (this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),
            this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),
            this._super(t, e),
            "disabled" === t && (this.widget().toggleClass("ui-state-disabled", !!e),
            this.element.prop("disabled", !!e),
            this.buttons.button(e ? "disable" : "enable"))
        },
        _setOptions: e(function(t) {
            this._super(t)
        }),
        _parse: function(t) {
            return "string" == typeof t && "" !== t && (t = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(t, 10, this.options.culture) : +t),
            "" === t || isNaN(t) ? null : t
        },
        _format: function(t) {
            return "" === t ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(t, this.options.numberFormat, this.options.culture) : t
        },
        _refresh: function() {
            this.element.attr({
                "aria-valuemin": this.options.min,
                "aria-valuemax": this.options.max,
                "aria-valuenow": this._parse(this.element.val())
            })
        },
        isValid: function() {
            var t = this.value();
            return null !== t && t === this._adjustValue(t)
        },
        _value: function(t, e) {
            var i;
            "" !== t && null !== (i = this._parse(t)) && (e || (i = this._adjustValue(i)),
            t = this._format(i)),
            this.element.val(t),
            this._refresh()
        },
        _destroy: function() {
            this.element.removeClass("ui-spinner-input").prop("disabled", !1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),
            this.uiSpinner.replaceWith(this.element)
        },
        stepUp: e(function(t) {
            this._stepUp(t)
        }),
        _stepUp: function(t) {
            this._start() && (this._spin((t || 1) * this.options.step),
            this._stop())
        },
        stepDown: e(function(t) {
            this._stepDown(t)
        }),
        _stepDown: function(t) {
            this._start() && (this._spin((t || 1) * -this.options.step),
            this._stop())
        },
        pageUp: e(function(t) {
            this._stepUp((t || 1) * this.options.page)
        }),
        pageDown: e(function(t) {
            this._stepDown((t || 1) * this.options.page)
        }),
        value: function(t) {
            if (!arguments.length)
                return this._parse(this.element.val());
            e(this._value).call(this, t)
        },
        widget: function() {
            return this.uiSpinner
        }
    }),
    D.widget("ui.tabs", {
        version: "1.11.4",
        delay: 300,
        options: {
            active: null,
            collapsible: !1,
            event: "click",
            heightStyle: "content",
            hide: null,
            show: null,
            activate: null,
            beforeActivate: null,
            beforeLoad: null,
            load: null
        },
        _isLocal: (S = /#.*$/,
        function(t) {
            var e, i;
            e = (t = t.cloneNode(!1)).href.replace(S, ""),
            i = location.href.replace(S, "");
            try {
                e = decodeURIComponent(e)
            } catch (n) {}
            try {
                i = decodeURIComponent(i)
            } catch (n) {}
            return 1 < t.hash.length && e === i
        }
        ),
        _create: function() {
            var e = this
              , t = this.options;
            this.running = !1,
            this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", t.collapsible),
            this._processTabs(),
            t.active = this._initialActive(),
            D.isArray(t.disabled) && (t.disabled = D.unique(t.disabled.concat(D.map(this.tabs.filter(".ui-state-disabled"), function(t) {
                return e.tabs.index(t)
            }))).sort()),
            !1 !== this.options.active && this.anchors.length ? this.active = this._findActive(t.active) : this.active = D(),
            this._refresh(),
            this.active.length && this.load(t.active)
        },
        _initialActive: function() {
            var i = this.options.active
              , t = this.options.collapsible
              , n = location.hash.substring(1);
            return null === i && (n && this.tabs.each(function(t, e) {
                if (D(e).attr("aria-controls") === n)
                    return i = t,
                    !1
            }),
            null === i && (i = this.tabs.index(this.tabs.filter(".ui-tabs-active"))),
            null !== i && -1 !== i || (i = !!this.tabs.length && 0)),
            !1 !== i && -1 === (i = this.tabs.index(this.tabs.eq(i))) && (i = !t && 0),
            !t && !1 === i && this.anchors.length && (i = 0),
            i
        },
        _getCreateEventData: function() {
            return {
                tab: this.active,
                panel: this.active.length ? this._getPanelForTab(this.active) : D()
            }
        },
        _tabKeydown: function(t) {
            var e = D(this.document[0].activeElement).closest("li")
              , i = this.tabs.index(e)
              , n = !0;
            if (!this._handlePageNav(t)) {
                switch (t.keyCode) {
                case D.ui.keyCode.RIGHT:
                case D.ui.keyCode.DOWN:
                    i++;
                    break;
                case D.ui.keyCode.UP:
                case D.ui.keyCode.LEFT:
                    n = !1,
                    i--;
                    break;
                case D.ui.keyCode.END:
                    i = this.anchors.length - 1;
                    break;
                case D.ui.keyCode.HOME:
                    i = 0;
                    break;
                case D.ui.keyCode.SPACE:
                    return t.preventDefault(),
                    clearTimeout(this.activating),
                    void this._activate(i);
                case D.ui.keyCode.ENTER:
                    return t.preventDefault(),
                    clearTimeout(this.activating),
                    void this._activate(i !== this.options.active && i);
                default:
                    return
                }
                t.preventDefault(),
                clearTimeout(this.activating),
                i = this._focusNextTab(i, n),
                t.ctrlKey || t.metaKey || (e.attr("aria-selected", "false"),
                this.tabs.eq(i).attr("aria-selected", "true"),
                this.activating = this._delay(function() {
                    this.option("active", i)
                }, this.delay))
            }
        },
        _panelKeydown: function(t) {
            this._handlePageNav(t) || t.ctrlKey && t.keyCode === D.ui.keyCode.UP && (t.preventDefault(),
            this.active.focus())
        },
        _handlePageNav: function(t) {
            return t.altKey && t.keyCode === D.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)),
            !0) : t.altKey && t.keyCode === D.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)),
            !0) : void 0
        },
        _findNextTab: function(t, e) {
            function i() {
                return n < t && (t = 0),
                t < 0 && (t = n),
                t
            }
            for (var n = this.tabs.length - 1; -1 !== D.inArray(i(), this.options.disabled); )
                t = e ? t + 1 : t - 1;
            return t
        },
        _focusNextTab: function(t, e) {
            return t = this._findNextTab(t, e),
            this.tabs.eq(t).focus(),
            t
        },
        _setOption: function(t, e) {
            "active" !== t ? "disabled" !== t ? (this._super(t, e),
            "collapsible" === t && (this.element.toggleClass("ui-tabs-collapsible", e),
            e || !1 !== this.options.active || this._activate(0)),
            "event" === t && this._setupEvents(e),
            "heightStyle" === t && this._setupHeightStyle(e)) : this._setupDisabled(e) : this._activate(e)
        },
        _sanitizeSelector: function(t) {
            return t ? t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
        },
        refresh: function() {
            var t = this.options
              , e = this.tablist.children(":has(a[href])");
            t.disabled = D.map(e.filter(".ui-state-disabled"), function(t) {
                return e.index(t)
            }),
            this._processTabs(),
            !1 !== t.active && this.anchors.length ? this.active.length && !D.contains(this.tablist[0], this.active[0]) ? this.tabs.length === t.disabled.length ? (t.active = !1,
            this.active = D()) : this._activate(this._findNextTab(Math.max(0, t.active - 1), !1)) : t.active = this.tabs.index(this.active) : (t.active = !1,
            this.active = D()),
            this._refresh()
        },
        _refresh: function() {
            this._setupDisabled(this.options.disabled),
            this._setupEvents(this.options.event),
            this._setupHeightStyle(this.options.heightStyle),
            this.tabs.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }),
            this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                "aria-hidden": "true"
            }),
            this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }),
            this._getPanelForTab(this.active).show().attr({
                "aria-hidden": "false"
            })) : this.tabs.eq(0).attr("tabIndex", 0)
        },
        _processTabs: function() {
            var l = this
              , t = this.tabs
              , e = this.anchors
              , i = this.panels;
            this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist").delegate("> li", "mousedown" + this.eventNamespace, function(t) {
                D(this).is(".ui-state-disabled") && t.preventDefault()
            }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
                D(this).closest("li").is(".ui-state-disabled") && this.blur()
            }),
            this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
                role: "tab",
                tabIndex: -1
            }),
            this.anchors = this.tabs.map(function() {
                return D("a", this)[0]
            }).addClass("ui-tabs-anchor").attr({
                role: "presentation",
                tabIndex: -1
            }),
            this.panels = D(),
            this.anchors.each(function(t, e) {
                var i, n, s, r = D(e).uniqueId().attr("id"), o = D(e).closest("li"), a = o.attr("aria-controls");
                l._isLocal(e) ? (s = (i = e.hash).substring(1),
                n = l.element.find(l._sanitizeSelector(i))) : (i = "#" + (s = o.attr("aria-controls") || D({}).uniqueId()[0].id),
                (n = l.element.find(i)).length || (n = l._createPanel(s)).insertAfter(l.panels[t - 1] || l.tablist),
                n.attr("aria-live", "polite")),
                n.length && (l.panels = l.panels.add(n)),
                a && o.data("ui-tabs-aria-controls", a),
                o.attr({
                    "aria-controls": s,
                    "aria-labelledby": r
                }),
                n.attr("aria-labelledby", r)
            }),
            this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel"),
            t && (this._off(t.not(this.tabs)),
            this._off(e.not(this.anchors)),
            this._off(i.not(this.panels)))
        },
        _getList: function() {
            return this.tablist || this.element.find("ol,ul").eq(0)
        },
        _createPanel: function(t) {
            return D("<div>").attr("id", t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0)
        },
        _setupDisabled: function(t) {
            D.isArray(t) && (t.length ? t.length === this.anchors.length && (t = !0) : t = !1);
            for (var e, i = 0; e = this.tabs[i]; i++)
                !0 === t || -1 !== D.inArray(i, t) ? D(e).addClass("ui-state-disabled").attr("aria-disabled", "true") : D(e).removeClass("ui-state-disabled").removeAttr("aria-disabled");
            this.options.disabled = t
        },
        _setupEvents: function(t) {
            var i = {};
            t && D.each(t.split(" "), function(t, e) {
                i[e] = "_eventHandler"
            }),
            this._off(this.anchors.add(this.tabs).add(this.panels)),
            this._on(!0, this.anchors, {
                click: function(t) {
                    t.preventDefault()
                }
            }),
            this._on(this.anchors, i),
            this._on(this.tabs, {
                keydown: "_tabKeydown"
            }),
            this._on(this.panels, {
                keydown: "_panelKeydown"
            }),
            this._focusable(this.tabs),
            this._hoverable(this.tabs)
        },
        _setupHeightStyle: function(t) {
            var i, e = this.element.parent();
            "fill" === t ? (i = e.height(),
            i -= this.element.outerHeight() - this.element.height(),
            this.element.siblings(":visible").each(function() {
                var t = D(this)
                  , e = t.css("position");
                "absolute" !== e && "fixed" !== e && (i -= t.outerHeight(!0))
            }),
            this.element.children().not(this.panels).each(function() {
                i -= D(this).outerHeight(!0)
            }),
            this.panels.each(function() {
                D(this).height(Math.max(0, i - D(this).innerHeight() + D(this).height()))
            }).css("overflow", "auto")) : "auto" === t && (i = 0,
            this.panels.each(function() {
                i = Math.max(i, D(this).height("").height())
            }).height(i))
        },
        _eventHandler: function(t) {
            var e = this.options
              , i = this.active
              , n = D(t.currentTarget).closest("li")
              , s = n[0] === i[0]
              , r = s && e.collapsible
              , o = r ? D() : this._getPanelForTab(n)
              , a = i.length ? this._getPanelForTab(i) : D()
              , l = {
                oldTab: i,
                oldPanel: a,
                newTab: r ? D() : n,
                newPanel: o
            };
            t.preventDefault(),
            n.hasClass("ui-state-disabled") || n.hasClass("ui-tabs-loading") || this.running || s && !e.collapsible || !1 === this._trigger("beforeActivate", t, l) || (e.active = !r && this.tabs.index(n),
            this.active = s ? D() : n,
            this.xhr && this.xhr.abort(),
            a.length || o.length || D.error("jQuery UI Tabs: Mismatching fragment identifier."),
            o.length && this.load(this.tabs.index(n), t),
            this._toggle(t, l))
        },
        _toggle: function(t, e) {
            function i() {
                s.running = !1,
                s._trigger("activate", t, e)
            }
            function n() {
                e.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),
                r.length && s.options.show ? s._show(r, s.options.show, i) : (r.show(),
                i())
            }
            var s = this
              , r = e.newPanel
              , o = e.oldPanel;
            this.running = !0,
            o.length && this.options.hide ? this._hide(o, this.options.hide, function() {
                e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
                n()
            }) : (e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
            o.hide(),
            n()),
            o.attr("aria-hidden", "true"),
            e.oldTab.attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            }),
            r.length && o.length ? e.oldTab.attr("tabIndex", -1) : r.length && this.tabs.filter(function() {
                return 0 === D(this).attr("tabIndex")
            }).attr("tabIndex", -1),
            r.attr("aria-hidden", "false"),
            e.newTab.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            })
        },
        _activate: function(t) {
            var e, i = this._findActive(t);
            i[0] !== this.active[0] && (i.length || (i = this.active),
            e = i.find(".ui-tabs-anchor")[0],
            this._eventHandler({
                target: e,
                currentTarget: e,
                preventDefault: D.noop
            }))
        },
        _findActive: function(t) {
            return !1 === t ? D() : this.tabs.eq(t)
        },
        _getIndex: function(t) {
            return "string" == typeof t && (t = this.anchors.index(this.anchors.filter("[href$='" + t + "']"))),
            t
        },
        _destroy: function() {
            this.xhr && this.xhr.abort(),
            this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),
            this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),
            this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),
            this.tablist.unbind(this.eventNamespace),
            this.tabs.add(this.panels).each(function() {
                D.data(this, "ui-tabs-destroy") ? D(this).remove() : D(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
            }),
            this.tabs.each(function() {
                var t = D(this)
                  , e = t.data("ui-tabs-aria-controls");
                e ? t.attr("aria-controls", e).removeData("ui-tabs-aria-controls") : t.removeAttr("aria-controls")
            }),
            this.panels.show(),
            "content" !== this.options.heightStyle && this.panels.css("height", "")
        },
        enable: function(i) {
            var t = this.options.disabled;
            !1 !== t && (i === undefined ? t = !1 : (i = this._getIndex(i),
            t = D.isArray(t) ? D.map(t, function(t) {
                return t !== i ? t : null
            }) : D.map(this.tabs, function(t, e) {
                return e !== i ? e : null
            })),
            this._setupDisabled(t))
        },
        disable: function(t) {
            var e = this.options.disabled;
            if (!0 !== e) {
                if (t === undefined)
                    e = !0;
                else {
                    if (t = this._getIndex(t),
                    -1 !== D.inArray(t, e))
                        return;
                    e = D.isArray(e) ? D.merge([t], e).sort() : [t]
                }
                this._setupDisabled(e)
            }
        },
        load: function(t, n) {
            t = this._getIndex(t);
            var s = this
              , i = this.tabs.eq(t)
              , e = i.find(".ui-tabs-anchor")
              , r = this._getPanelForTab(i)
              , o = {
                tab: i,
                panel: r
            }
              , a = function(t, e) {
                "abort" === e && s.panels.stop(!1, !0),
                i.removeClass("ui-tabs-loading"),
                r.removeAttr("aria-busy"),
                t === s.xhr && delete s.xhr
            };
            this._isLocal(e[0]) || (this.xhr = D.ajax(this._ajaxSettings(e, n, o)),
            this.xhr && "canceled" !== this.xhr.statusText && (i.addClass("ui-tabs-loading"),
            r.attr("aria-busy", "true"),
            this.xhr.done(function(t, e, i) {
                setTimeout(function() {
                    r.html(t),
                    s._trigger("load", n, o),
                    a(i, e)
                }, 1)
            }).fail(function(t, e) {
                setTimeout(function() {
                    a(t, e)
                }, 1)
            })))
        },
        _ajaxSettings: function(t, i, n) {
            var s = this;
            return {
                url: t.attr("href"),
                beforeSend: function(t, e) {
                    return s._trigger("beforeLoad", i, D.extend({
                        jqXHR: t,
                        ajaxSettings: e
                    }, n))
                }
            }
        },
        _getPanelForTab: function(t) {
            var e = D(t).attr("aria-controls");
            return this.element.find(this._sanitizeSelector("#" + e))
        }
    }),
    D.widget("ui.tooltip", {
        version: "1.11.4",
        options: {
            content: function() {
                var t = D(this).attr("title") || "";
                return D("<a>").text(t).html()
            },
            hide: !0,
            items: "[title]:not([disabled])",
            position: {
                my: "left top+15",
                at: "left bottom",
                collision: "flipfit flip"
            },
            show: !0,
            tooltipClass: null,
            track: !1,
            close: null,
            open: null
        },
        _addDescribedBy: function(t, e) {
            var i = (t.attr("aria-describedby") || "").split(/\s+/);
            i.push(e),
            t.data("ui-tooltip-id", e).attr("aria-describedby", D.trim(i.join(" ")))
        },
        _removeDescribedBy: function(t) {
            var e = t.data("ui-tooltip-id")
              , i = (t.attr("aria-describedby") || "").split(/\s+/)
              , n = D.inArray(e, i);
            -1 !== n && i.splice(n, 1),
            t.removeData("ui-tooltip-id"),
            (i = D.trim(i.join(" "))) ? t.attr("aria-describedby", i) : t.removeAttr("aria-describedby")
        },
        _create: function() {
            this._on({
                mouseover: "open",
                focusin: "open"
            }),
            this.tooltips = {},
            this.parents = {},
            this.options.disabled && this._disable(),
            this.liveRegion = D("<div>").attr({
                role: "log",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)
        },
        _setOption: function(t, e) {
            var i = this;
            if ("disabled" === t)
                return this[e ? "_disable" : "_enable"](),
                void (this.options[t] = e);
            this._super(t, e),
            "content" === t && D.each(this.tooltips, function(t, e) {
                i._updateContent(e.element)
            })
        },
        _disable: function() {
            var n = this;
            D.each(this.tooltips, function(t, e) {
                var i = D.Event("blur");
                i.target = i.currentTarget = e.element[0],
                n.close(i, !0)
            }),
            this.element.find(this.options.items).addBack().each(function() {
                var t = D(this);
                t.is("[title]") && t.data("ui-tooltip-title", t.attr("title")).removeAttr("title")
            })
        },
        _enable: function() {
            this.element.find(this.options.items).addBack().each(function() {
                var t = D(this);
                t.data("ui-tooltip-title") && t.attr("title", t.data("ui-tooltip-title"))
            })
        },
        open: function(t) {
            var i = this
              , e = D(t ? t.target : this.element).closest(this.options.items);
            e.length && !e.data("ui-tooltip-id") && (e.attr("title") && e.data("ui-tooltip-title", e.attr("title")),
            e.data("ui-tooltip-open", !0),
            t && "mouseover" === t.type && e.parents().each(function() {
                var t, e = D(this);
                e.data("ui-tooltip-open") && ((t = D.Event("blur")).target = t.currentTarget = this,
                i.close(t, !0)),
                e.attr("title") && (e.uniqueId(),
                i.parents[this.id] = {
                    element: this,
                    title: e.attr("title")
                },
                e.attr("title", ""))
            }),
            this._registerCloseHandlers(t, e),
            this._updateContent(e, t))
        },
        _updateContent: function(e, i) {
            var t, n = this.options.content, s = this, r = i ? i.type : null;
            if ("string" == typeof n)
                return this._open(i, e, n);
            (t = n.call(e[0], function(t) {
                s._delay(function() {
                    e.data("ui-tooltip-open") && (i && (i.type = r),
                    this._open(i, e, t))
                })
            })) && this._open(i, e, t)
        },
        _open: function(t, e, i) {
            function n(t) {
                l.of = t,
                r.is(":hidden") || r.position(l)
            }
            var s, r, o, a, l = D.extend({}, this.options.position);
            i && ((s = this._find(e)) ? s.tooltip.find(".ui-tooltip-content").html(i) : (e.is("[title]") && (t && "mouseover" === t.type ? e.attr("title", "") : e.removeAttr("title")),
            s = this._tooltip(e),
            r = s.tooltip,
            this._addDescribedBy(e, r.attr("id")),
            r.find(".ui-tooltip-content").html(i),
            this.liveRegion.children().hide(),
            i.clone ? (a = i.clone()).removeAttr("id").find("[id]").removeAttr("id") : a = i,
            D("<div>").html(a).appendTo(this.liveRegion),
            this.options.track && t && /^mouse/.test(t.type) ? (this._on(this.document, {
                mousemove: n
            }),
            n(t)) : r.position(D.extend({
                of: e
            }, this.options.position)),
            r.hide(),
            this._show(r, this.options.show),
            this.options.show && this.options.show.delay && (o = this.delayedShow = setInterval(function() {
                r.is(":visible") && (n(l.of),
                clearInterval(o))
            }, D.fx.interval)),
            this._trigger("open", t, {
                tooltip: r
            })))
        },
        _registerCloseHandlers: function(t, i) {
            var e = {
                keyup: function(t) {
                    if (t.keyCode === D.ui.keyCode.ESCAPE) {
                        var e = D.Event(t);
                        e.currentTarget = i[0],
                        this.close(e, !0)
                    }
                }
            };
            i[0] !== this.element[0] && (e.remove = function() {
                this._removeTooltip(this._find(i).tooltip)
            }
            ),
            t && "mouseover" !== t.type || (e.mouseleave = "close"),
            t && "focusin" !== t.type || (e.focusout = "close"),
            this._on(!0, i, e)
        },
        close: function(t) {
            var e, i = this, n = D(t ? t.currentTarget : this.element), s = this._find(n);
            s ? (e = s.tooltip,
            s.closing || (clearInterval(this.delayedShow),
            n.data("ui-tooltip-title") && !n.attr("title") && n.attr("title", n.data("ui-tooltip-title")),
            this._removeDescribedBy(n),
            s.hiding = !0,
            e.stop(!0),
            this._hide(e, this.options.hide, function() {
                i._removeTooltip(D(this))
            }),
            n.removeData("ui-tooltip-open"),
            this._off(n, "mouseleave focusout keyup"),
            n[0] !== this.element[0] && this._off(n, "remove"),
            this._off(this.document, "mousemove"),
            t && "mouseleave" === t.type && D.each(this.parents, function(t, e) {
                D(e.element).attr("title", e.title),
                delete i.parents[t]
            }),
            s.closing = !0,
            this._trigger("close", t, {
                tooltip: e
            }),
            s.hiding || (s.closing = !1))) : n.removeData("ui-tooltip-open")
        },
        _tooltip: function(t) {
            var e = D("<div>").attr("role", "tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || ""))
              , i = e.uniqueId().attr("id");
            return D("<div>").addClass("ui-tooltip-content").appendTo(e),
            e.appendTo(this.document[0].body),
            this.tooltips[i] = {
                element: t,
                tooltip: e
            }
        },
        _find: function(t) {
            var e = t.data("ui-tooltip-id");
            return e ? this.tooltips[e] : null
        },
        _removeTooltip: function(t) {
            t.remove(),
            delete this.tooltips[t.attr("id")]
        },
        _destroy: function() {
            var s = this;
            D.each(this.tooltips, function(t, e) {
                var i = D.Event("blur")
                  , n = e.element;
                i.target = i.currentTarget = n[0],
                s.close(i, !0),
                D("#" + t).remove(),
                n.data("ui-tooltip-title") && (n.attr("title") || n.attr("title", n.data("ui-tooltip-title")),
                n.removeData("ui-tooltip-title"))
            }),
            this.liveRegion.remove()
        }
    })
}),
function() {
    var t;
    (t = function() {
        switch (!1) {
        case !(0 <= navigator.userAgent.indexOf("MSIE 6")):
            return 6;
        case !(0 <= navigator.userAgent.indexOf("MSIE 7")):
            return 7;
        case !(0 <= navigator.userAgent.indexOf("MSIE 8")):
            return 8;
        case !(0 <= navigator.userAgent.indexOf("MSIE 9")):
            return 9;
        default:
            return !1
        }
    }()) && jQuery(function() {
        return $("<div>").css({
            position: "absolute",
            top: "0px",
            left: "0px",
            backgroundColor: "black",
            opacity: "0.75",
            width: "100%",
            height: $(window).height(),
            zIndex: 5e3
        }).appendTo("body"),
        $("<div><img src='/images/no-ie6.png' alt='' style='float: left;'/><p><br /><strong>Sorry! This page doesn't support Internet Explorer " + t + ".</strong><br /><br />If you'd like to use our site please upgrade your browser</a>.</p><br /><ul><li><a href='http://www.google.com/chrome'>Chrome</a></li><li><a href='http://www.mozilla.org/firefox'>Firefox</a></li><li><a href='http://windows.microsoft.com/ie'>Internet Explorer</a></li></ul>").css({
            backgroundColor: "white",
            top: "50%",
            left: "50%",
            marginLeft: -210,
            marginTop: -100,
            width: 410,
            paddingRight: 10,
            height: 200,
            position: "absolute",
            zIndex: 6e3
        }).appendTo("body")
    })
}
.call(this),
this.JSON || (this.JSON = {}),
function() {
    "use strict";
    function f(t) {
        return t < 10 ? "0" + t : t
    }
    function quote(t) {
        return escapable.lastIndex = 0,
        escapable.test(t) ? '"' + t.replace(escapable, function(t) {
            var e = meta[t];
            return "string" == typeof e ? e : "\\u" + ("0000" + t.charCodeAt(0).toString(16)).slice(-4)
        }) + '"' : '"' + t + '"'
    }
    function str(t, e) {
        var i, n, s, r, o, a = gap, l = e[t];
        switch (l && "object" == typeof l && "function" == typeof l.toJSON && (l = l.toJSON(t)),
        "function" == typeof rep && (l = rep.call(e, t, l)),
        typeof l) {
        case "string":
            return quote(l);
        case "number":
            return isFinite(l) ? String(l) : "null";
        case "boolean":
        case "null":
            return String(l);
        case "object":
            if (!l)
                return "null";
            if (gap += indent,
            o = [],
            "[object Array]" === Object.prototype.toString.apply(l)) {
                for (r = l.length,
                i = 0; i < r; i += 1)
                    o[i] = str(i, l) || "null";
                return s = 0 === o.length ? "[]" : gap ? "[\n" + gap + o.join(",\n" + gap) + "\n" + a + "]" : "[" + o.join(",") + "]",
                gap = a,
                s
            }
            if (rep && "object" == typeof rep)
                for (r = rep.length,
                i = 0; i < r; i += 1)
                    "string" == typeof (n = rep[i]) && (s = str(n, l)) && o.push(quote(n) + (gap ? ": " : ":") + s);
            else
                for (n in l)
                    Object.hasOwnProperty.call(l, n) && (s = str(n, l)) && o.push(quote(n) + (gap ? ": " : ":") + s);
            return s = 0 === o.length ? "{}" : gap ? "{\n" + gap + o.join(",\n" + gap) + "\n" + a + "}" : "{" + o.join(",") + "}",
            gap = a,
            s
        }
    }
    "function" != typeof Date.prototype.toJSON && (Date.prototype.toJSON = function() {
        return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z" : null
    }
    ,
    String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function() {
        return this.valueOf()
    }
    );
    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, gap, indent, meta = {
        "\b": "\\b",
        "\t": "\\t",
        "\n": "\\n",
        "\f": "\\f",
        "\r": "\\r",
        '"': '\\"',
        "\\": "\\\\"
    }, rep;
    "function" != typeof JSON.stringify && (JSON.stringify = function(t, e, i) {
        var n;
        if (indent = gap = "",
        "number" == typeof i)
            for (n = 0; n < i; n += 1)
                indent += " ";
        else
            "string" == typeof i && (indent = i);
        if ((rep = e) && "function" != typeof e && ("object" != typeof e || "number" != typeof e.length))
            throw new Error("JSON.stringify");
        return str("", {
            "": t
        })
    }
    ),
    "function" != typeof JSON.parse && (JSON.parse = function(text, reviver) {
        function walk(t, e) {
            var i, n, s = t[e];
            if (s && "object" == typeof s)
                for (i in s)
                    Object.hasOwnProperty.call(s, i) && ((n = walk(s, i)) !== undefined ? s[i] = n : delete s[i]);
            return reviver.call(t, e, s)
        }
        var j;
        if (text = String(text),
        cx.lastIndex = 0,
        cx.test(text) && (text = text.replace(cx, function(t) {
            return "\\u" + ("0000" + t.charCodeAt(0).toString(16)).slice(-4)
        })),
        /^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, "")))
            return j = eval("(" + text + ")"),
            "function" == typeof reviver ? walk({
                "": j
            }, "") : j;
        throw new SyntaxError("JSON.parse")
    }
    )
}(),
document.createElement("canvas").getContext || function() {
    function i() {
        return this.context_ || (this.context_ = new t(this))
    }
    function n(t, e, i) {
        var n = N.call(arguments, 2);
        return function() {
            return t.apply(e, n.concat(N.call(arguments)))
        }
    }
    function _(t) {
        return String(t).replace(/&/g, "&amp;").replace(/"/g, "&quot;")
    }
    function s(t, e, i) {
        t.namespaces[e] || t.namespaces.add(e, i, "#default#VML")
    }
    function r(t) {
        if (s(t, "g_vml_", "urn:schemas-microsoft-com:vml"),
        s(t, "g_o_", "urn:schemas-microsoft-com:office:office"),
        !t.styleSheets.ex_canvas_) {
            var e = t.createStyleSheet();
            e.owningElement.id = "ex_canvas_",
            e.cssText = "canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"
        }
    }
    function o(t) {
        var e = t.srcElement;
        switch (t.propertyName) {
        case "width":
            e.getContext().clearRect(),
            e.style.width = e.attributes.width.nodeValue + "px",
            e.firstChild.style.width = e.clientWidth + "px";
            break;
        case "height":
            e.getContext().clearRect(),
            e.style.height = e.attributes.height.nodeValue + "px",
            e.firstChild.style.height = e.clientHeight + "px"
        }
    }
    function a(t) {
        var e = t.srcElement;
        e.firstChild && (e.firstChild.style.width = e.clientWidth + "px",
        e.firstChild.style.height = e.clientHeight + "px")
    }
    function l() {
        return [[1, 0, 0], [0, 1, 0], [0, 0, 1]]
    }
    function u(t, e) {
        for (var i = l(), n = 0; n < 3; n++)
            for (var s = 0; s < 3; s++) {
                for (var r = 0, o = 0; o < 3; o++)
                    r += t[n][o] * e[o][s];
                i[n][s] = r
            }
        return i
    }
    function e(t, e) {
        e.fillStyle = t.fillStyle,
        e.lineCap = t.lineCap,
        e.lineJoin = t.lineJoin,
        e.lineWidth = t.lineWidth,
        e.miterLimit = t.miterLimit,
        e.shadowBlur = t.shadowBlur,
        e.shadowColor = t.shadowColor,
        e.shadowOffsetX = t.shadowOffsetX,
        e.shadowOffsetY = t.shadowOffsetY,
        e.strokeStyle = t.strokeStyle,
        e.globalAlpha = t.globalAlpha,
        e.font = t.font,
        e.textAlign = t.textAlign,
        e.textBaseline = t.textBaseline,
        e.arcScaleX_ = t.arcScaleX_,
        e.arcScaleY_ = t.arcScaleY_,
        e.lineScale_ = t.lineScale_
    }
    function c(t) {
        var e = t.indexOf("(", 3)
          , i = t.indexOf(")", e + 1)
          , n = t.substring(e + 1, i).split(",");
        return 4 == n.length && "a" == t.charAt(3) || (n[3] = 1),
        n
    }
    function h(t) {
        return parseFloat(t) / 100
    }
    function p(t, e, i) {
        return Math.min(i, Math.max(e, t))
    }
    function d(t) {
        var e, i, n, s, r, o;
        if ((s = parseFloat(t[0]) / 360 % 360) < 0 && s++,
        r = p(h(t[1]), 0, 1),
        o = p(h(t[2]), 0, 1),
        0 == r)
            e = i = n = o;
        else {
            var a = o < .5 ? o * (1 + r) : o + r - o * r
              , l = 2 * o - a;
            e = f(l, a, s + 1 / 3),
            i = f(l, a, s),
            n = f(l, a, s - 1 / 3)
        }
        return "#" + B[Math.floor(255 * e)] + B[Math.floor(255 * i)] + B[Math.floor(255 * n)]
    }
    function f(t, e, i) {
        return i < 0 && i++,
        1 < i && i--,
        6 * i < 1 ? t + 6 * (e - t) * i : 2 * i < 1 ? e : 3 * i < 2 ? t + (e - t) * (2 / 3 - i) * 6 : t
    }
    function R(t) {
        if (t in W)
            return W[t];
        var e = 1;
        if ("#" == (t = String(t)).charAt(0))
            s = t;
        else if (/^rgb/.test(t)) {
            for (var i, n = c(t), s = "#", r = 0; r < 3; r++)
                i = -1 != n[r].indexOf("%") ? Math.floor(255 * h(n[r])) : +n[r],
                s += B[p(i, 0, 255)];
            e = +n[3]
        } else if (/^hsl/.test(t)) {
            s = d(n = c(t)),
            e = n[3]
        } else
            s = J[t] || t;
        return W[t] = {
            color: s,
            alpha: e
        }
    }
    function v(t) {
        if (Y[t])
            return Y[t];
        var e = document.createElement("div").style;
        try {
            e.font = t
        } catch (i) {}
        return Y[t] = {
            style: e.fontStyle || U.style,
            variant: e.fontVariant || U.variant,
            weight: e.fontWeight || U.weight,
            size: e.fontSize || U.size,
            family: e.fontFamily || U.family
        }
    }
    function w(t, e) {
        var i = {};
        for (var n in t)
            i[n] = t[n];
        var s = parseFloat(e.currentStyle.fontSize)
          , r = parseFloat(t.size);
        return "number" == typeof t.size ? i.size = t.size : -1 != t.size.indexOf("px") ? i.size = r : -1 != t.size.indexOf("em") ? i.size = s * r : -1 != t.size.indexOf("%") ? i.size = s / 100 * r : -1 != t.size.indexOf("pt") ? i.size = r / .75 : i.size = s,
        i.size *= .981,
        i
    }
    function b(t) {
        return t.style + " " + t.variant + " " + t.weight + " " + t.size + "px " + t.family
    }
    function m(t) {
        return Q[t] || "square"
    }
    function t(t) {
        this.m_ = l(),
        this.mStack_ = [],
        this.aStack_ = [],
        this.currentPath_ = [],
        this.strokeStyle = "#000",
        this.fillStyle = "#000",
        this.lineWidth = 1,
        this.lineJoin = "miter",
        this.lineCap = "butt",
        this.miterLimit = 1 * L,
        this.globalAlpha = 1,
        this.font = "10px sans-serif",
        this.textAlign = "left",
        this.textBaseline = "alphabetic";
        var e = "width:" + (this.canvas = t).clientWidth + "px;height:" + t.clientHeight + "px;overflow:hidden;position:absolute"
          , i = t.ownerDocument.createElement("div");
        i.style.cssText = e,
        t.appendChild(i);
        var n = i.cloneNode(!1);
        n.style.backgroundColor = "red",
        n.style.filter = "alpha(opacity=0)",
        t.appendChild(n),
        this.element_ = i,
        this.arcScaleX_ = 1,
        this.arcScaleY_ = 1,
        this.lineScale_ = 1
    }
    function g(t, e, i, n) {
        t.currentPath_.push({
            type: "bezierCurveTo",
            cp1x: e.x,
            cp1y: e.y,
            cp2x: i.x,
            cp2y: i.y,
            x: n.x,
            y: n.y
        }),
        t.currentX_ = n.x,
        t.currentY_ = n.y
    }
    function x(t, e) {
        var i = R(t.strokeStyle)
          , n = i.color
          , s = i.alpha * t.globalAlpha
          , r = t.lineScale_ * t.lineWidth;
        r < 1 && (s *= r),
        e.push("<g_vml_:stroke", ' opacity="', s, '"', ' joinstyle="', t.lineJoin, '"', ' miterlimit="', t.miterLimit, '"', ' endcap="', m(t.lineCap), '"', ' weight="', r, 'px"', ' color="', n, '" />')
    }
    function k(t, e, i, n) {
        var s = t.fillStyle
          , r = t.arcScaleX_
          , o = t.arcScaleY_
          , a = n.x - i.x
          , l = n.y - i.y;
        if (s instanceof H) {
            var u = 0
              , c = {
                x: 0,
                y: 0
            }
              , h = 0
              , p = 1;
            if ("gradient" == s.type_) {
                var d = s.x0_ / r
                  , f = s.y0_ / o
                  , m = s.x1_ / r
                  , g = s.y1_ / o
                  , y = F(t, d, f)
                  , _ = F(t, m, g)
                  , v = _.x - y.x
                  , w = _.y - y.y;
                (u = 180 * Math.atan2(v, w) / Math.PI) < 0 && (u += 360),
                u < 1e-6 && (u = 0)
            } else {
                c = {
                    x: ((y = F(t, s.x0_, s.y0_)).x - i.x) / a,
                    y: (y.y - i.y) / l
                },
                a /= r * L,
                l /= o * L;
                var b = $.max(a, l);
                h = 2 * s.r0_ / b,
                p = 2 * s.r1_ / b - h
            }
            var x = s.colors_;
            x.sort(function(t, e) {
                return t.offset - e.offset
            });
            for (var k = x.length, C = x[0].color, S = x[k - 1].color, T = x[0].alpha * t.globalAlpha, A = x[k - 1].alpha * t.globalAlpha, D = [], M = 0; M < k; M++) {
                var q = x[M];
                D.push(q.offset * p + h + " " + q.color)
            }
            e.push('<g_vml_:fill type="', s.type_, '"', ' method="none" focus="100%"', ' color="', C, '"', ' color2="', S, '"', ' colors="', D.join(","), '"', ' opacity="', A, '"', ' g_o_:opacity2="', T, '"', ' angle="', u, '"', ' focusposition="', c.x, ",", c.y, '" />')
        } else if (s instanceof V) {
            if (a && l) {
                var P = -i.x
                  , E = -i.y;
                e.push("<g_vml_:fill", ' position="', P / a * r * r, ",", E / l * o * o, '"', ' type="tile"', ' src="', s.src_, '" />')
            }
        } else {
            var I = R(t.fillStyle)
              , N = I.color
              , O = I.alpha * t.globalAlpha;
            e.push('<g_vml_:fill color="', N, '" opacity="', O, '" />')
        }
    }
    function F(t, e, i) {
        var n = t.m_;
        return {
            x: L * (e * n[0][0] + i * n[1][0] + n[2][0]) - I,
            y: L * (e * n[0][1] + i * n[1][1] + n[2][1]) - I
        }
    }
    function y(t) {
        return isFinite(t[0][0]) && isFinite(t[0][1]) && isFinite(t[1][0]) && isFinite(t[1][1]) && isFinite(t[2][0]) && isFinite(t[2][1])
    }
    function C(t, e, i) {
        if (y(e) && (t.m_ = e,
        i)) {
            var n = e[0][0] * e[1][1] - e[0][1] * e[1][0];
            t.lineScale_ = E(P(n))
        }
    }
    function H(t) {
        this.type_ = t,
        this.x0_ = 0,
        this.y0_ = 0,
        this.r0_ = 0,
        this.x1_ = 0,
        this.y1_ = 0,
        this.r1_ = 0,
        this.colors_ = []
    }
    function V(t, e) {
        switch (T(t),
        e) {
        case "repeat":
        case null:
        case "":
            this.repetition_ = "repeat";
            break;
        case "repeat-x":
        case "repeat-y":
        case "no-repeat":
            this.repetition_ = e;
            break;
        default:
            S("SYNTAX_ERR")
        }
        this.src_ = t.src,
        this.width_ = t.width,
        this.height_ = t.height
    }
    function S(t) {
        throw new A(t)
    }
    function T(t) {
        t && 1 == t.nodeType && "IMG" == t.tagName || S("TYPE_MISMATCH_ERR"),
        "complete" != t.readyState && S("INVALID_STATE_ERR")
    }
    function A(t) {
        this.code = this[t],
        this.message = t + ": DOM Exception " + this.code
    }
    var $ = Math
      , q = $.round
      , D = $.sin
      , M = $.cos
      , P = $.abs
      , E = $.sqrt
      , L = 10
      , I = L / 2
      , N = (navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],
    Array.prototype.slice);
    r(document);
    var O = {
        init: function(t) {
            var e = t || document;
            e.createElement("canvas"),
            e.attachEvent("onreadystatechange", n(this.init_, this, e))
        },
        init_: function(t) {
            for (var e = t.getElementsByTagName("canvas"), i = 0; i < e.length; i++)
                this.initElement(e[i])
        },
        initElement: function(t) {
            if (!t.getContext) {
                t.getContext = i,
                r(t.ownerDocument),
                t.innerHTML = "",
                t.attachEvent("onpropertychange", o),
                t.attachEvent("onresize", a);
                var e = t.attributes;
                e.width && e.width.specified ? t.style.width = e.width.nodeValue + "px" : t.width = t.clientWidth,
                e.height && e.height.specified ? t.style.height = e.height.nodeValue + "px" : t.height = t.clientHeight
            }
            return t
        }
    };
    O.init();
    for (var B = [], z = 0; z < 16; z++)
        for (var j = 0; j < 16; j++)
            B[16 * z + j] = z.toString(16) + j.toString(16);
    var J = {
        aliceblue: "#F0F8FF",
        antiquewhite: "#FAEBD7",
        aquamarine: "#7FFFD4",
        azure: "#F0FFFF",
        beige: "#F5F5DC",
        bisque: "#FFE4C4",
        black: "#000000",
        blanchedalmond: "#FFEBCD",
        blueviolet: "#8A2BE2",
        brown: "#A52A2A",
        burlywood: "#DEB887",
        cadetblue: "#5F9EA0",
        chartreuse: "#7FFF00",
        chocolate: "#D2691E",
        coral: "#FF7F50",
        cornflowerblue: "#6495ED",
        cornsilk: "#FFF8DC",
        crimson: "#DC143C",
        cyan: "#00FFFF",
        darkblue: "#00008B",
        darkcyan: "#008B8B",
        darkgoldenrod: "#B8860B",
        darkgray: "#A9A9A9",
        darkgreen: "#006400",
        darkgrey: "#A9A9A9",
        darkkhaki: "#BDB76B",
        darkmagenta: "#8B008B",
        darkolivegreen: "#556B2F",
        darkorange: "#FF8C00",
        darkorchid: "#9932CC",
        darkred: "#8B0000",
        darksalmon: "#E9967A",
        darkseagreen: "#8FBC8F",
        darkslateblue: "#483D8B",
        darkslategray: "#2F4F4F",
        darkslategrey: "#2F4F4F",
        darkturquoise: "#00CED1",
        darkviolet: "#9400D3",
        deeppink: "#FF1493",
        deepskyblue: "#00BFFF",
        dimgray: "#696969",
        dimgrey: "#696969",
        dodgerblue: "#1E90FF",
        firebrick: "#B22222",
        floralwhite: "#FFFAF0",
        forestgreen: "#228B22",
        gainsboro: "#DCDCDC",
        ghostwhite: "#F8F8FF",
        gold: "#FFD700",
        goldenrod: "#DAA520",
        grey: "#808080",
        greenyellow: "#ADFF2F",
        honeydew: "#F0FFF0",
        hotpink: "#FF69B4",
        indianred: "#CD5C5C",
        indigo: "#4B0082",
        ivory: "#FFFFF0",
        khaki: "#F0E68C",
        lavender: "#E6E6FA",
        lavenderblush: "#FFF0F5",
        lawngreen: "#7CFC00",
        lemonchiffon: "#FFFACD",
        lightblue: "#ADD8E6",
        lightcoral: "#F08080",
        lightcyan: "#E0FFFF",
        lightgoldenrodyellow: "#FAFAD2",
        lightgreen: "#90EE90",
        lightgrey: "#D3D3D3",
        lightpink: "#FFB6C1",
        lightsalmon: "#FFA07A",
        lightseagreen: "#20B2AA",
        lightskyblue: "#87CEFA",
        lightslategray: "#778899",
        lightslategrey: "#778899",
        lightsteelblue: "#B0C4DE",
        lightyellow: "#FFFFE0",
        limegreen: "#32CD32",
        linen: "#FAF0E6",
        magenta: "#FF00FF",
        mediumaquamarine: "#66CDAA",
        mediumblue: "#0000CD",
        mediumorchid: "#BA55D3",
        mediumpurple: "#9370DB",
        mediumseagreen: "#3CB371",
        mediumslateblue: "#7B68EE",
        mediumspringgreen: "#00FA9A",
        mediumturquoise: "#48D1CC",
        mediumvioletred: "#C71585",
        midnightblue: "#191970",
        mintcream: "#F5FFFA",
        mistyrose: "#FFE4E1",
        moccasin: "#FFE4B5",
        navajowhite: "#FFDEAD",
        oldlace: "#FDF5E6",
        olivedrab: "#6B8E23",
        orange: "#FFA500",
        orangered: "#FF4500",
        orchid: "#DA70D6",
        palegoldenrod: "#EEE8AA",
        palegreen: "#98FB98",
        paleturquoise: "#AFEEEE",
        palevioletred: "#DB7093",
        papayawhip: "#FFEFD5",
        peachpuff: "#FFDAB9",
        peru: "#CD853F",
        pink: "#FFC0CB",
        plum: "#DDA0DD",
        powderblue: "#B0E0E6",
        rosybrown: "#BC8F8F",
        royalblue: "#4169E1",
        saddlebrown: "#8B4513",
        salmon: "#FA8072",
        sandybrown: "#F4A460",
        seagreen: "#2E8B57",
        seashell: "#FFF5EE",
        sienna: "#A0522D",
        skyblue: "#87CEEB",
        slateblue: "#6A5ACD",
        slategray: "#708090",
        slategrey: "#708090",
        snow: "#FFFAFA",
        springgreen: "#00FF7F",
        steelblue: "#4682B4",
        tan: "#D2B48C",
        thistle: "#D8BFD8",
        tomato: "#FF6347",
        turquoise: "#40E0D0",
        violet: "#EE82EE",
        wheat: "#F5DEB3",
        whitesmoke: "#F5F5F5",
        yellowgreen: "#9ACD32"
    }
      , W = {}
      , U = {
        style: "normal",
        variant: "normal",
        weight: "normal",
        size: 10,
        family: "sans-serif"
    }
      , Y = {}
      , Q = {
        butt: "flat",
        round: "round"
    }
      , G = t.prototype;
    G.clearRect = function() {
        this.textMeasureEl_ && (this.textMeasureEl_.removeNode(!0),
        this.textMeasureEl_ = null),
        this.element_.innerHTML = ""
    }
    ,
    G.beginPath = function() {
        this.currentPath_ = []
    }
    ,
    G.moveTo = function(t, e) {
        var i = F(this, t, e);
        this.currentPath_.push({
            type: "moveTo",
            x: i.x,
            y: i.y
        }),
        this.currentX_ = i.x,
        this.currentY_ = i.y
    }
    ,
    G.lineTo = function(t, e) {
        var i = F(this, t, e);
        this.currentPath_.push({
            type: "lineTo",
            x: i.x,
            y: i.y
        }),
        this.currentX_ = i.x,
        this.currentY_ = i.y
    }
    ,
    G.bezierCurveTo = function(t, e, i, n, s, r) {
        var o = F(this, s, r);
        g(this, F(this, t, e), F(this, i, n), o)
    }
    ,
    G.quadraticCurveTo = function(t, e, i, n) {
        var s = F(this, t, e)
          , r = F(this, i, n)
          , o = {
            x: this.currentX_ + 2 / 3 * (s.x - this.currentX_),
            y: this.currentY_ + 2 / 3 * (s.y - this.currentY_)
        };
        g(this, o, {
            x: o.x + (r.x - this.currentX_) / 3,
            y: o.y + (r.y - this.currentY_) / 3
        }, r)
    }
    ,
    G.arc = function(t, e, i, n, s, r) {
        i *= L;
        var o = r ? "at" : "wa"
          , a = t + M(n) * i - I
          , l = e + D(n) * i - I
          , u = t + M(s) * i - I
          , c = e + D(s) * i - I;
        a != u || r || (a += .125);
        var h = F(this, t, e)
          , p = F(this, a, l)
          , d = F(this, u, c);
        this.currentPath_.push({
            type: o,
            x: h.x,
            y: h.y,
            radius: i,
            xStart: p.x,
            yStart: p.y,
            xEnd: d.x,
            yEnd: d.y
        })
    }
    ,
    G.rect = function(t, e, i, n) {
        this.moveTo(t, e),
        this.lineTo(t + i, e),
        this.lineTo(t + i, e + n),
        this.lineTo(t, e + n),
        this.closePath()
    }
    ,
    G.strokeRect = function(t, e, i, n) {
        var s = this.currentPath_;
        this.beginPath(),
        this.moveTo(t, e),
        this.lineTo(t + i, e),
        this.lineTo(t + i, e + n),
        this.lineTo(t, e + n),
        this.closePath(),
        this.stroke(),
        this.currentPath_ = s
    }
    ,
    G.fillRect = function(t, e, i, n) {
        var s = this.currentPath_;
        this.beginPath(),
        this.moveTo(t, e),
        this.lineTo(t + i, e),
        this.lineTo(t + i, e + n),
        this.lineTo(t, e + n),
        this.closePath(),
        this.fill(),
        this.currentPath_ = s
    }
    ,
    G.createLinearGradient = function(t, e, i, n) {
        var s = new H("gradient");
        return s.x0_ = t,
        s.y0_ = e,
        s.x1_ = i,
        s.y1_ = n,
        s
    }
    ,
    G.createRadialGradient = function(t, e, i, n, s, r) {
        var o = new H("gradientradial");
        return o.x0_ = t,
        o.y0_ = e,
        o.r0_ = i,
        o.x1_ = n,
        o.y1_ = s,
        o.r1_ = r,
        o
    }
    ,
    G.drawImage = function(t, e, i, n, s, r, o, a, l) {
        var u, c, h, p, d, f, m, g, y = t.runtimeStyle.width, _ = t.runtimeStyle.height;
        t.runtimeStyle.width = "auto",
        t.runtimeStyle.height = "auto";
        var v = t.width
          , w = t.height;
        if (t.runtimeStyle.width = y,
        t.runtimeStyle.height = _,
        3 == arguments.length)
            u = e,
            c = i,
            d = f = 0,
            m = h = v,
            g = p = w;
        else if (5 == arguments.length)
            u = e,
            c = i,
            h = n,
            p = s,
            d = f = 0,
            m = v,
            g = w;
        else {
            if (9 != arguments.length)
                throw Error("Invalid number of arguments");
            d = e,
            f = i,
            m = n,
            g = s,
            u = r,
            c = o,
            h = a,
            p = l
        }
        var b = F(this, u, c)
          , x = []
          , k = 10
          , C = 10;
        if (x.push(" <g_vml_:group", ' coordsize="', L * k, ",", L * C, '"', ' coordorigin="0,0"', ' style="width:', k, "px;height:", C, "px;position:absolute;"),
        1 != this.m_[0][0] || this.m_[0][1] || 1 != this.m_[1][1] || this.m_[1][0]) {
            var S = [];
            S.push("M11=", this.m_[0][0], ",", "M12=", this.m_[1][0], ",", "M21=", this.m_[0][1], ",", "M22=", this.m_[1][1], ",", "Dx=", q(b.x / L), ",", "Dy=", q(b.y / L), "");
            var T = b
              , A = F(this, u + h, c)
              , D = F(this, u, c + p)
              , M = F(this, u + h, c + p);
            T.x = $.max(T.x, A.x, D.x, M.x),
            T.y = $.max(T.y, A.y, D.y, M.y),
            x.push("padding:0 ", q(T.x / L), "px ", q(T.y / L), "px 0;filter:progid:DXImageTransform.Microsoft.Matrix(", S.join(""), ", sizingmethod='clip');")
        } else
            x.push("top:", q(b.y / L), "px;left:", q(b.x / L), "px;");
        x.push(' ">', '<g_vml_:image src="', t.src, '"', ' style="width:', L * h, "px;", " height:", L * p, 'px"', ' cropleft="', d / v, '"', ' croptop="', f / w, '"', ' cropright="', (v - d - m) / v, '"', ' cropbottom="', (w - f - g) / w, '"', " />", "</g_vml_:group>"),
        this.element_.insertAdjacentHTML("BeforeEnd", x.join(""))
    }
    ,
    G.stroke = function(t) {
        var e = []
          , i = 10
          , n = 10;
        e.push("<g_vml_:shape", ' filled="', !!t, '"', ' style="position:absolute;width:', i, "px;height:", n, 'px;"', ' coordorigin="0,0"', ' coordsize="', L * i, ",", L * n, '"', ' stroked="', !t, '"', ' path="');
        for (var s = {
            x: null,
            y: null
        }, r = {
            x: null,
            y: null
        }, o = 0; o < this.currentPath_.length; o++) {
            var a = this.currentPath_[o];
            switch (a.type) {
            case "moveTo":
                a,
                e.push(" m ", q(a.x), ",", q(a.y));
                break;
            case "lineTo":
                e.push(" l ", q(a.x), ",", q(a.y));
                break;
            case "close":
                e.push(" x "),
                a = null;
                break;
            case "bezierCurveTo":
                e.push(" c ", q(a.cp1x), ",", q(a.cp1y), ",", q(a.cp2x), ",", q(a.cp2y), ",", q(a.x), ",", q(a.y));
                break;
            case "at":
            case "wa":
                e.push(" ", a.type, " ", q(a.x - this.arcScaleX_ * a.radius), ",", q(a.y - this.arcScaleY_ * a.radius), " ", q(a.x + this.arcScaleX_ * a.radius), ",", q(a.y + this.arcScaleY_ * a.radius), " ", q(a.xStart), ",", q(a.yStart), " ", q(a.xEnd), ",", q(a.yEnd))
            }
            a && ((null == s.x || a.x < s.x) && (s.x = a.x),
            (null == r.x || a.x > r.x) && (r.x = a.x),
            (null == s.y || a.y < s.y) && (s.y = a.y),
            (null == r.y || a.y > r.y) && (r.y = a.y))
        }
        e.push(' ">'),
        t ? k(this, e, s, r) : x(this, e),
        e.push("</g_vml_:shape>"),
        this.element_.insertAdjacentHTML("beforeEnd", e.join(""))
    }
    ,
    G.fill = function() {
        this.stroke(!0)
    }
    ,
    G.closePath = function() {
        this.currentPath_.push({
            type: "close"
        })
    }
    ,
    G.save = function() {
        var t = {};
        e(this, t),
        this.aStack_.push(t),
        this.mStack_.push(this.m_),
        this.m_ = u(l(), this.m_)
    }
    ,
    G.restore = function() {
        this.aStack_.length && (e(this.aStack_.pop(), this),
        this.m_ = this.mStack_.pop())
    }
    ,
    G.translate = function(t, e) {
        C(this, u([[1, 0, 0], [0, 1, 0], [t, e, 1]], this.m_), !1)
    }
    ,
    G.rotate = function(t) {
        var e = M(t)
          , i = D(t);
        C(this, u([[e, i, 0], [-i, e, 0], [0, 0, 1]], this.m_), !1)
    }
    ,
    G.scale = function(t, e) {
        this.arcScaleX_ *= t,
        this.arcScaleY_ *= e,
        C(this, u([[t, 0, 0], [0, e, 0], [0, 0, 1]], this.m_), !0)
    }
    ,
    G.transform = function(t, e, i, n, s, r) {
        C(this, u([[t, e, 0], [i, n, 0], [s, r, 1]], this.m_), !0)
    }
    ,
    G.setTransform = function(t, e, i, n, s, r) {
        C(this, [[t, e, 0], [i, n, 0], [s, r, 1]], !0)
    }
    ,
    G.drawText_ = function(t, e, i, n, s) {
        var r = this.m_
          , o = 1e3
          , a = 0
          , l = o
          , u = {
            x: 0,
            y: 0
        }
          , c = []
          , h = w(v(this.font), this.element_)
          , p = b(h)
          , d = this.element_.currentStyle
          , f = this.textAlign.toLowerCase();
        switch (f) {
        case "left":
        case "center":
        case "right":
            break;
        case "end":
            f = "ltr" == d.direction ? "right" : "left";
            break;
        case "start":
            f = "rtl" == d.direction ? "right" : "left";
            break;
        default:
            f = "left"
        }
        switch (this.textBaseline) {
        case "hanging":
        case "top":
            u.y = h.size / 1.75;
            break;
        case "middle":
            break;
        default:
        case null:
        case "alphabetic":
        case "ideographic":
        case "bottom":
            u.y = -h.size / 2.25
        }
        switch (f) {
        case "right":
            a = o,
            l = .05;
            break;
        case "center":
            a = l = o / 2
        }
        var m = F(this, e + u.x, i + u.y);
        c.push('<g_vml_:line from="', -a, ' 0" to="', l, ' 0.05" ', ' coordsize="100 100" coordorigin="0 0"', ' filled="', !s, '" stroked="', !!s, '" style="position:absolute;width:1px;height:1px;">'),
        s ? x(this, c) : k(this, c, {
            x: -a,
            y: 0
        }, {
            x: l,
            y: h.size
        });
        var g = r[0][0].toFixed(3) + "," + r[1][0].toFixed(3) + "," + r[0][1].toFixed(3) + "," + r[1][1].toFixed(3) + ",0,0"
          , y = q(m.x / L) + "," + q(m.y / L);
        c.push('<g_vml_:skew on="t" matrix="', g, '" ', ' offset="', y, '" origin="', a, ' 0" />', '<g_vml_:path textpathok="true" />', '<g_vml_:textpath on="true" string="', _(t), '" style="v-text-align:', f, ";font:", _(p), '" /></g_vml_:line>'),
        this.element_.insertAdjacentHTML("beforeEnd", c.join(""))
    }
    ,
    G.fillText = function(t, e, i, n) {
        this.drawText_(t, e, i, n, !1)
    }
    ,
    G.strokeText = function(t, e, i, n) {
        this.drawText_(t, e, i, n, !0)
    }
    ,
    G.measureText = function(t) {
        if (!this.textMeasureEl_) {
            var e = '<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';
            this.element_.insertAdjacentHTML("beforeEnd", e),
            this.textMeasureEl_ = this.element_.lastChild
        }
        var i = this.element_.ownerDocument;
        return this.textMeasureEl_.innerHTML = "",
        this.textMeasureEl_.style.font = this.font,
        this.textMeasureEl_.appendChild(i.createTextNode(t)),
        {
            width: this.textMeasureEl_.offsetWidth
        }
    }
    ,
    G.clip = function() {}
    ,
    G.arcTo = function() {}
    ,
    G.createPattern = function(t, e) {
        return new V(t,e)
    }
    ,
    H.prototype.addColorStop = function(t, e) {
        e = R(e),
        this.colors_.push({
            offset: t,
            color: e.color,
            alpha: e.alpha
        })
    }
    ;
    var X = A.prototype = new Error;
    X.INDEX_SIZE_ERR = 1,
    X.DOMSTRING_SIZE_ERR = 2,
    X.HIERARCHY_REQUEST_ERR = 3,
    X.WRONG_DOCUMENT_ERR = 4,
    X.INVALID_CHARACTER_ERR = 5,
    X.NO_DATA_ALLOWED_ERR = 6,
    X.NO_MODIFICATION_ALLOWED_ERR = 7,
    X.NOT_FOUND_ERR = 8,
    X.NOT_SUPPORTED_ERR = 9,
    X.INUSE_ATTRIBUTE_ERR = 10,
    X.INVALID_STATE_ERR = 11,
    X.SYNTAX_ERR = 12,
    X.INVALID_MODIFICATION_ERR = 13,
    X.NAMESPACE_ERR = 14,
    X.INVALID_ACCESS_ERR = 15,
    X.VALIDATION_ERR = 16,
    X.TYPE_MISMATCH_ERR = 17,
    G_vmlCanvasManager = O,
    CanvasRenderingContext2D = t,
    CanvasGradient = H,
    CanvasPattern = V,
    DOMException = A
}(),
function() {
    var t = this
      , e = t._
      , o = {}
      , s = Array.prototype
      , i = Object.prototype
      , n = Function.prototype
      , r = s.push
      , a = s.slice
      , l = s.concat
      , h = i.toString
      , u = i.hasOwnProperty
      , c = s.forEach
      , p = s.map
      , d = s.reduce
      , f = s.reduceRight
      , m = s.filter
      , g = s.every
      , y = s.some
      , _ = s.indexOf
      , v = s.lastIndexOf
      , w = Array.isArray
      , b = Object.keys
      , x = n.bind
      , k = function(t) {
        return t instanceof k ? t : this instanceof k ? void (this._wrapped = t) : new k(t)
    };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = k),
    exports._ = k) : t._ = k,
    k.VERSION = "1.4.4";
    var C = k.each = k.forEach = function(t, e, i) {
        if (null != t)
            if (c && t.forEach === c)
                t.forEach(e, i);
            else if (t.length === +t.length) {
                for (var n = 0, s = t.length; n < s; n++)
                    if (e.call(i, t[n], n, t) === o)
                        return
            } else
                for (var r in t)
                    if (k.has(t, r) && e.call(i, t[r], r, t) === o)
                        return
    }
    ;
    k.map = k.collect = function(t, n, s) {
        var r = [];
        return null == t ? r : p && t.map === p ? t.map(n, s) : (C(t, function(t, e, i) {
            r[r.length] = n.call(s, t, e, i)
        }),
        r)
    }
    ;
    var S = "Reduce of empty array with no initial value";
    k.reduce = k.foldl = k.inject = function(t, n, s, r) {
        var o = 2 < arguments.length;
        if (null == t && (t = []),
        d && t.reduce === d)
            return r && (n = k.bind(n, r)),
            o ? t.reduce(n, s) : t.reduce(n);
        if (C(t, function(t, e, i) {
            o ? s = n.call(r, s, t, e, i) : (s = t,
            o = !0)
        }),
        !o)
            throw new TypeError(S);
        return s
    }
    ,
    k.reduceRight = k.foldr = function(n, s, r, o) {
        var a = 2 < arguments.length;
        if (null == n && (n = []),
        f && n.reduceRight === f)
            return o && (s = k.bind(s, o)),
            a ? n.reduceRight(s, r) : n.reduceRight(s);
        var l = n.length;
        if (l !== +l) {
            var u = k.keys(n);
            l = u.length
        }
        if (C(n, function(t, e, i) {
            e = u ? u[--l] : --l,
            a ? r = s.call(o, r, n[e], e, i) : (r = n[e],
            a = !0)
        }),
        !a)
            throw new TypeError(S);
        return r
    }
    ,
    k.find = k.detect = function(t, n, s) {
        var r;
        return T(t, function(t, e, i) {
            if (n.call(s, t, e, i))
                return r = t,
                !0
        }),
        r
    }
    ,
    k.filter = k.select = function(t, n, s) {
        var r = [];
        return null == t ? r : m && t.filter === m ? t.filter(n, s) : (C(t, function(t, e, i) {
            n.call(s, t, e, i) && (r[r.length] = t)
        }),
        r)
    }
    ,
    k.reject = function(t, n, s) {
        return k.filter(t, function(t, e, i) {
            return !n.call(s, t, e, i)
        }, s)
    }
    ,
    k.every = k.all = function(t, n, s) {
        n || (n = k.identity);
        var r = !0;
        return null == t ? r : g && t.every === g ? t.every(n, s) : (C(t, function(t, e, i) {
            if (!(r = r && n.call(s, t, e, i)))
                return o
        }),
        !!r)
    }
    ;
    var T = k.some = k.any = function(t, n, s) {
        n || (n = k.identity);
        var r = !1;
        return null == t ? r : y && t.some === y ? t.some(n, s) : (C(t, function(t, e, i) {
            if (r || (r = n.call(s, t, e, i)))
                return o
        }),
        !!r)
    }
    ;
    k.contains = k.include = function(t, e) {
        return null != t && (_ && t.indexOf === _ ? -1 != t.indexOf(e) : T(t, function(t) {
            return t === e
        }))
    }
    ,
    k.invoke = function(t, e) {
        var i = a.call(arguments, 2)
          , n = k.isFunction(e);
        return k.map(t, function(t) {
            return (n ? e : t[e]).apply(t, i)
        })
    }
    ,
    k.pluck = function(t, e) {
        return k.map(t, function(t) {
            return t[e]
        })
    }
    ,
    k.where = function(t, i, e) {
        return k.isEmpty(i) ? e ? null : [] : k[e ? "find" : "filter"](t, function(t) {
            for (var e in i)
                if (i[e] !== t[e])
                    return !1;
            return !0
        })
    }
    ,
    k.findWhere = function(t, e) {
        return k.where(t, e, !0)
    }
    ,
    k.max = function(t, s, r) {
        if (!s && k.isArray(t) && t[0] === +t[0] && t.length < 65535)
            return Math.max.apply(Math, t);
        if (!s && k.isEmpty(t))
            return -Infinity;
        var o = {
            computed: -Infinity,
            value: -Infinity
        };
        return C(t, function(t, e, i) {
            var n = s ? s.call(r, t, e, i) : t;
            n >= o.computed && (o = {
                value: t,
                computed: n
            })
        }),
        o.value
    }
    ,
    k.min = function(t, s, r) {
        if (!s && k.isArray(t) && t[0] === +t[0] && t.length < 65535)
            return Math.min.apply(Math, t);
        if (!s && k.isEmpty(t))
            return Infinity;
        var o = {
            computed: Infinity,
            value: Infinity
        };
        return C(t, function(t, e, i) {
            var n = s ? s.call(r, t, e, i) : t;
            n < o.computed && (o = {
                value: t,
                computed: n
            })
        }),
        o.value
    }
    ,
    k.shuffle = function(t) {
        var e, i = 0, n = [];
        return C(t, function(t) {
            e = k.random(i++),
            n[i - 1] = n[e],
            n[e] = t
        }),
        n
    }
    ;
    var A = function(e) {
        return k.isFunction(e) ? e : function(t) {
            return t[e]
        }
    };
    k.sortBy = function(t, e, n) {
        var s = A(e);
        return k.pluck(k.map(t, function(t, e, i) {
            return {
                value: t,
                index: e,
                criteria: s.call(n, t, e, i)
            }
        }).sort(function(t, e) {
            var i = t.criteria
              , n = e.criteria;
            if (i !== n) {
                if (n < i || void 0 === i)
                    return 1;
                if (i < n || void 0 === n)
                    return -1
            }
            return t.index < e.index ? -1 : 1
        }), "value")
    }
    ;
    var D = function(n, t, s, r) {
        var o = {}
          , a = A(t || k.identity);
        return C(n, function(t, e) {
            var i = a.call(s, t, e, n);
            r(o, i, t)
        }),
        o
    };
    k.groupBy = function(t, e, i) {
        return D(t, e, i, function(t, e, i) {
            (k.has(t, e) ? t[e] : t[e] = []).push(i)
        })
    }
    ,
    k.countBy = function(t, e, i) {
        return D(t, e, i, function(t, e) {
            k.has(t, e) || (t[e] = 0),
            t[e]++
        })
    }
    ,
    k.sortedIndex = function(t, e, i, n) {
        for (var s = (i = null == i ? k.identity : A(i)).call(n, e), r = 0, o = t.length; r < o; ) {
            var a = r + o >>> 1;
            i.call(n, t[a]) < s ? r = a + 1 : o = a
        }
        return r
    }
    ,
    k.toArray = function(t) {
        return t ? k.isArray(t) ? a.call(t) : t.length === +t.length ? k.map(t, k.identity) : k.values(t) : []
    }
    ,
    k.size = function(t) {
        return null == t ? 0 : t.length === +t.length ? t.length : k.keys(t).length
    }
    ,
    k.first = k.head = k.take = function(t, e, i) {
        if (null != t)
            return null == e || i ? t[0] : a.call(t, 0, e)
    }
    ,
    k.initial = function(t, e, i) {
        return a.call(t, 0, t.length - (null == e || i ? 1 : e))
    }
    ,
    k.last = function(t, e, i) {
        if (null != t)
            return null == e || i ? t[t.length - 1] : a.call(t, Math.max(t.length - e, 0))
    }
    ,
    k.rest = k.tail = k.drop = function(t, e, i) {
        return a.call(t, null == e || i ? 1 : e)
    }
    ,
    k.compact = function(t) {
        return k.filter(t, k.identity)
    }
    ;
    var M = function(t, e, i) {
        return C(t, function(t) {
            k.isArray(t) ? e ? r.apply(i, t) : M(t, e, i) : i.push(t)
        }),
        i
    };
    k.flatten = function(t, e) {
        return M(t, e, [])
    }
    ,
    k.without = function(t) {
        return k.difference(t, a.call(arguments, 1))
    }
    ,
    k.uniq = k.unique = function(i, n, t, e) {
        k.isFunction(n) && (e = t,
        t = n,
        n = !1);
        var s = t ? k.map(i, t, e) : i
          , r = []
          , o = [];
        return C(s, function(t, e) {
            (n ? e && o[o.length - 1] === t : k.contains(o, t)) || (o.push(t),
            r.push(i[e]))
        }),
        r
    }
    ,
    k.union = function() {
        return k.uniq(l.apply(s, arguments))
    }
    ,
    k.intersection = function(t) {
        var i = a.call(arguments, 1);
        return k.filter(k.uniq(t), function(e) {
            return k.every(i, function(t) {
                return 0 <= k.indexOf(t, e)
            })
        })
    }
    ,
    k.difference = function(t) {
        var e = l.apply(s, a.call(arguments, 1));
        return k.filter(t, function(t) {
            return !k.contains(e, t)
        })
    }
    ,
    k.zip = function() {
        for (var t = a.call(arguments), e = k.max(k.pluck(t, "length")), i = new Array(e), n = 0; n < e; n++)
            i[n] = k.pluck(t, "" + n);
        return i
    }
    ,
    k.object = function(t, e) {
        if (null == t)
            return {};
        for (var i = {}, n = 0, s = t.length; n < s; n++)
            e ? i[t[n]] = e[n] : i[t[n][0]] = t[n][1];
        return i
    }
    ,
    k.indexOf = function(t, e, i) {
        if (null == t)
            return -1;
        var n = 0
          , s = t.length;
        if (i) {
            if ("number" != typeof i)
                return t[n = k.sortedIndex(t, e)] === e ? n : -1;
            n = i < 0 ? Math.max(0, s + i) : i
        }
        if (_ && t.indexOf === _)
            return t.indexOf(e, i);
        for (; n < s; n++)
            if (t[n] === e)
                return n;
        return -1
    }
    ,
    k.lastIndexOf = function(t, e, i) {
        if (null == t)
            return -1;
        var n = null != i;
        if (v && t.lastIndexOf === v)
            return n ? t.lastIndexOf(e, i) : t.lastIndexOf(e);
        for (var s = n ? i : t.length; s--; )
            if (t[s] === e)
                return s;
        return -1
    }
    ,
    k.range = function(t, e, i) {
        arguments.length <= 1 && (e = t || 0,
        t = 0),
        i = i || 1;
        for (var n = Math.max(Math.ceil((e - t) / i), 0), s = 0, r = new Array(n); s < n; )
            r[s++] = t,
            t += i;
        return r
    }
    ,
    k.bind = function(t, e) {
        if (t.bind === x && x)
            return x.apply(t, a.call(arguments, 1));
        var i = a.call(arguments, 2);
        return function() {
            return t.apply(e, i.concat(a.call(arguments)))
        }
    }
    ,
    k.partial = function(t) {
        var e = a.call(arguments, 1);
        return function() {
            return t.apply(this, e.concat(a.call(arguments)))
        }
    }
    ,
    k.bindAll = function(e) {
        var t = a.call(arguments, 1);
        return 0 === t.length && (t = k.functions(e)),
        C(t, function(t) {
            e[t] = k.bind(e[t], e)
        }),
        e
    }
    ,
    k.memoize = function(e, i) {
        var n = {};
        return i || (i = k.identity),
        function() {
            var t = i.apply(this, arguments);
            return k.has(n, t) ? n[t] : n[t] = e.apply(this, arguments)
        }
    }
    ,
    k.delay = function(t, e) {
        var i = a.call(arguments, 2);
        return setTimeout(function() {
            return t.apply(null, i)
        }, e)
    }
    ,
    k.defer = function(t) {
        return k.delay.apply(k, [t, 1].concat(a.call(arguments, 1)))
    }
    ,
    k.throttle = function(i, n) {
        var s, r, o, a, l = 0, u = function() {
            l = new Date,
            o = null,
            a = i.apply(s, r)
        };
        return function() {
            var t = new Date
              , e = n - (t - l);
            return s = this,
            r = arguments,
            e <= 0 ? (clearTimeout(o),
            o = null,
            l = t,
            a = i.apply(s, r)) : o || (o = setTimeout(u, e)),
            a
        }
    }
    ,
    k.debounce = function(s, r, o) {
        var a, l;
        return function() {
            var t = this
              , e = arguments
              , i = function() {
                a = null,
                o || (l = s.apply(t, e))
            }
              , n = o && !a;
            return clearTimeout(a),
            a = setTimeout(i, r),
            n && (l = s.apply(t, e)),
            l
        }
    }
    ,
    k.once = function(t) {
        var e, i = !1;
        return function() {
            return i || (i = !0,
            e = t.apply(this, arguments),
            t = null),
            e
        }
    }
    ,
    k.wrap = function(e, i) {
        return function() {
            var t = [e];
            return r.apply(t, arguments),
            i.apply(this, t)
        }
    }
    ,
    k.compose = function() {
        var i = arguments;
        return function() {
            for (var t = arguments, e = i.length - 1; 0 <= e; e--)
                t = [i[e].apply(this, t)];
            return t[0]
        }
    }
    ,
    k.after = function(t, e) {
        return t <= 0 ? e() : function() {
            if (--t < 1)
                return e.apply(this, arguments)
        }
    }
    ,
    k.keys = b || function(t) {
        if (t !== Object(t))
            throw new TypeError("Invalid object");
        var e = [];
        for (var i in t)
            k.has(t, i) && (e[e.length] = i);
        return e
    }
    ,
    k.values = function(t) {
        var e = [];
        for (var i in t)
            k.has(t, i) && e.push(t[i]);
        return e
    }
    ,
    k.pairs = function(t) {
        var e = [];
        for (var i in t)
            k.has(t, i) && e.push([i, t[i]]);
        return e
    }
    ,
    k.invert = function(t) {
        var e = {};
        for (var i in t)
            k.has(t, i) && (e[t[i]] = i);
        return e
    }
    ,
    k.functions = k.methods = function(t) {
        var e = [];
        for (var i in t)
            k.isFunction(t[i]) && e.push(i);
        return e.sort()
    }
    ,
    k.extend = function(i) {
        return C(a.call(arguments, 1), function(t) {
            if (t)
                for (var e in t)
                    i[e] = t[e]
        }),
        i
    }
    ,
    k.pick = function(e) {
        var i = {}
          , t = l.apply(s, a.call(arguments, 1));
        return C(t, function(t) {
            t in e && (i[t] = e[t])
        }),
        i
    }
    ,
    k.omit = function(t) {
        var e = {}
          , i = l.apply(s, a.call(arguments, 1));
        for (var n in t)
            k.contains(i, n) || (e[n] = t[n]);
        return e
    }
    ,
    k.defaults = function(i) {
        return C(a.call(arguments, 1), function(t) {
            if (t)
                for (var e in t)
                    null == i[e] && (i[e] = t[e])
        }),
        i
    }
    ,
    k.clone = function(t) {
        return k.isObject(t) ? k.isArray(t) ? t.slice() : k.extend({}, t) : t
    }
    ,
    k.tap = function(t, e) {
        return e(t),
        t
    }
    ;
    var q = function(t, e, i, n) {
        if (t === e)
            return 0 !== t || 1 / t == 1 / e;
        if (null == t || null == e)
            return t === e;
        t instanceof k && (t = t._wrapped),
        e instanceof k && (e = e._wrapped);
        var s = h.call(t);
        if (s != h.call(e))
            return !1;
        switch (s) {
        case "[object String]":
            return t == String(e);
        case "[object Number]":
            return t != +t ? e != +e : 0 == t ? 1 / t == 1 / e : t == +e;
        case "[object Date]":
        case "[object Boolean]":
            return +t == +e;
        case "[object RegExp]":
            return t.source == e.source && t.global == e.global && t.multiline == e.multiline && t.ignoreCase == e.ignoreCase
        }
        if ("object" != typeof t || "object" != typeof e)
            return !1;
        for (var r = i.length; r--; )
            if (i[r] == t)
                return n[r] == e;
        i.push(t),
        n.push(e);
        var o = 0
          , a = !0;
        if ("[object Array]" == s) {
            if (a = (o = t.length) == e.length)
                for (; o-- && (a = q(t[o], e[o], i, n)); )
                    ;
        } else {
            var l = t.constructor
              , u = e.constructor;
            if (l !== u && !(k.isFunction(l) && l instanceof l && k.isFunction(u) && u instanceof u))
                return !1;
            for (var c in t)
                if (k.has(t, c) && (o++,
                !(a = k.has(e, c) && q(t[c], e[c], i, n))))
                    break;
            if (a) {
                for (c in e)
                    if (k.has(e, c) && !o--)
                        break;
                a = !o
            }
        }
        return i.pop(),
        n.pop(),
        a
    };
    k.isEqual = function(t, e) {
        return q(t, e, [], [])
    }
    ,
    k.isEmpty = function(t) {
        if (null == t)
            return !0;
        if (k.isArray(t) || k.isString(t))
            return 0 === t.length;
        for (var e in t)
            if (k.has(t, e))
                return !1;
        return !0
    }
    ,
    k.isElement = function(t) {
        return !(!t || 1 !== t.nodeType)
    }
    ,
    k.isArray = w || function(t) {
        return "[object Array]" == h.call(t)
    }
    ,
    k.isObject = function(t) {
        return t === Object(t)
    }
    ,
    C(["Arguments", "Function", "String", "Number", "Date", "RegExp"], function(e) {
        k["is" + e] = function(t) {
            return h.call(t) == "[object " + e + "]"
        }
    }),
    k.isArguments(arguments) || (k.isArguments = function(t) {
        return !(!t || !k.has(t, "callee"))
    }
    ),
    "function" != typeof /./ && (k.isFunction = function(t) {
        return "function" == typeof t
    }
    ),
    k.isFinite = function(t) {
        return isFinite(t) && !isNaN(parseFloat(t))
    }
    ,
    k.isNaN = function(t) {
        return k.isNumber(t) && t != +t
    }
    ,
    k.isBoolean = function(t) {
        return !0 === t || !1 === t || "[object Boolean]" == h.call(t)
    }
    ,
    k.isNull = function(t) {
        return null === t
    }
    ,
    k.isUndefined = function(t) {
        return void 0 === t
    }
    ,
    k.has = function(t, e) {
        return u.call(t, e)
    }
    ,
    k.noConflict = function() {
        return t._ = e,
        this
    }
    ,
    k.identity = function(t) {
        return t
    }
    ,
    k.times = function(t, e, i) {
        for (var n = Array(t), s = 0; s < t; s++)
            n[s] = e.call(i, s);
        return n
    }
    ,
    k.random = function(t, e) {
        return null == e && (e = t,
        t = 0),
        t + Math.floor(Math.random() * (e - t + 1))
    }
    ;
    var P = {
        escape: {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#x27;",
            "/": "&#x2F;"
        }
    };
    P.unescape = k.invert(P.escape);
    var E = {
        escape: new RegExp("[" + k.keys(P.escape).join("") + "]","g"),
        unescape: new RegExp("(" + k.keys(P.unescape).join("|") + ")","g")
    };
    k.each(["escape", "unescape"], function(e) {
        k[e] = function(t) {
            return null == t ? "" : ("" + t).replace(E[e], function(t) {
                return P[e][t]
            })
        }
    }),
    k.result = function(t, e) {
        if (null == t)
            return null;
        var i = t[e];
        return k.isFunction(i) ? i.call(t) : i
    }
    ,
    k.mixin = function(i) {
        C(k.functions(i), function(t) {
            var e = k[t] = i[t];
            k.prototype[t] = function() {
                var t = [this._wrapped];
                return r.apply(t, arguments),
                F.call(this, e.apply(k, t))
            }
        })
    }
    ;
    var I = 0;
    k.uniqueId = function(t) {
        var e = ++I + "";
        return t ? t + e : e
    }
    ,
    k.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    var N = /(.)^/
      , O = {
        "'": "'",
        "\\": "\\",
        "\r": "r",
        "\n": "n",
        "\t": "t",
        "\u2028": "u2028",
        "\u2029": "u2029"
    }
      , R = /\\|'|\r|\n|\t|\u2028|\u2029/g;
    k.template = function(r, t, e) {
        var i;
        e = k.defaults({}, e, k.templateSettings);
        var n = new RegExp([(e.escape || N).source, (e.interpolate || N).source, (e.evaluate || N).source].join("|") + "|$","g")
          , o = 0
          , a = "__p+='";
        r.replace(n, function(t, e, i, n, s) {
            return a += r.slice(o, s).replace(R, function(t) {
                return "\\" + O[t]
            }),
            e && (a += "'+\n((__t=(" + e + "))==null?'':_.escape(__t))+\n'"),
            i && (a += "'+\n((__t=(" + i + "))==null?'':__t)+\n'"),
            n && (a += "';\n" + n + "\n__p+='"),
            o = s + t.length,
            t
        }),
        a += "';\n",
        e.variable || (a = "with(obj||{}){\n" + a + "}\n"),
        a = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + a + "return __p;\n";
        try {
            i = new Function(e.variable || "obj","_",a)
        } catch (l) {
            throw l.source = a,
            l
        }
        if (t)
            return i(t, k);
        var s = function(t) {
            return i.call(this, t, k)
        };
        return s.source = "function(" + (e.variable || "obj") + "){\n" + a + "}",
        s
    }
    ,
    k.chain = function(t) {
        return k(t).chain()
    }
    ;
    var F = function(t) {
        return this._chain ? k(t).chain() : t
    };
    k.mixin(k),
    C(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(e) {
        var i = s[e];
        k.prototype[e] = function() {
            var t = this._wrapped;
            return i.apply(t, arguments),
            "shift" != e && "splice" != e || 0 !== t.length || delete t[0],
            F.call(this, t)
        }
    }),
    C(["concat", "join", "slice"], function(t) {
        var e = s[t];
        k.prototype[t] = function() {
            return F.call(this, e.apply(this._wrapped, arguments))
        }
    }),
    k.extend(k.prototype, {
        chain: function() {
            return this._chain = !0,
            this
        },
        value: function() {
            return this._wrapped
        }
    })
}
.call(this),
function(t) {
    "use strict";
    var i = String.prototype.trim
      , a = function(t) {
        return 1 * t || 0
    }
      , o = function(t, e) {
        for (var i = []; 0 < e; i[--e] = t)
            ;
        return i.join("")
    }
      , n = function(t) {
        return Array.prototype.slice.call(t)
    }
      , s = function(t) {
        return t ? l.escapeRegExp(t) : "\\s"
    }
      , e = function(i) {
        return function() {
            for (var t = n(arguments), e = 0; e < t.length; e++)
                t[e] = null == t[e] ? "" : "" + t[e];
            return i.apply(null, t)
        }
    }
      , m = function() {
        function d(t) {
            return Object.prototype.toString.call(t).slice(8, -1).toLowerCase()
        }
        var f = o
          , e = function(t) {
            return e.cache.hasOwnProperty(t) || (e.cache[arguments[0]] = e.parse(arguments[0])),
            e.format.call(null, e.cache[arguments[0]], arguments)
        };
        return e.format = function(t, e) {
            var i, n, s, r, o, a, l, u = 1, c = t.length, h = "", p = [];
            for (n = 0; n < c; n++)
                if ("string" === (h = d(t[n])))
                    p.push(t[n]);
                else if ("array" === h) {
                    if ((r = t[n])[2])
                        for (i = e[u],
                        s = 0; s < r[2].length; s++) {
                            if (!i.hasOwnProperty(r[2][s]))
                                throw m('[_.sprintf] property "%s" does not exist', r[2][s]);
                            i = i[r[2][s]]
                        }
                    else
                        i = r[1] ? e[r[1]] : e[u++];
                    if (/[^s]/.test(r[8]) && "number" != d(i))
                        throw m("[_.sprintf] expecting number but found %s", d(i));
                    switch (r[8]) {
                    case "b":
                        i = i.toString(2);
                        break;
                    case "c":
                        i = String.fromCharCode(i);
                        break;
                    case "d":
                        i = parseInt(i, 10);
                        break;
                    case "e":
                        i = r[7] ? i.toExponential(r[7]) : i.toExponential();
                        break;
                    case "f":
                        i = r[7] ? parseFloat(i).toFixed(r[7]) : parseFloat(i);
                        break;
                    case "o":
                        i = i.toString(8);
                        break;
                    case "s":
                        i = (i = String(i)) && r[7] ? i.substring(0, r[7]) : i;
                        break;
                    case "u":
                        i = Math.abs(i);
                        break;
                    case "x":
                        i = i.toString(16);
                        break;
                    case "X":
                        i = i.toString(16).toUpperCase()
                    }
                    i = /[def]/.test(r[8]) && r[3] && 0 <= i ? "+" + i : i,
                    a = r[4] ? "0" == r[4] ? "0" : r[4].charAt(1) : " ",
                    l = r[6] - String(i).length,
                    o = r[6] ? f(a, l) : "",
                    p.push(r[5] ? i + o : o + i)
                }
            return p.join("")
        }
        ,
        e.cache = {},
        e.parse = function(t) {
            for (var e = t, i = [], n = [], s = 0; e; ) {
                if (null !== (i = /^[^\x25]+/.exec(e)))
                    n.push(i[0]);
                else if (null !== (i = /^\x25{2}/.exec(e)))
                    n.push("%");
                else {
                    if (null === (i = /^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))
                        throw "[_.sprintf] huh?";
                    if (i[2]) {
                        s |= 1;
                        var r = []
                          , o = i[2]
                          , a = [];
                        if (null === (a = /^([a-z_][a-z_\d]*)/i.exec(o)))
                            throw "[_.sprintf] huh?";
                        for (r.push(a[1]); "" !== (o = o.substring(a[0].length)); )
                            if (null !== (a = /^\.([a-z_][a-z_\d]*)/i.exec(o)))
                                r.push(a[1]);
                            else {
                                if (null === (a = /^\[(\d+)\]/.exec(o)))
                                    throw "[_.sprintf] huh?";
                                r.push(a[1])
                            }
                        i[2] = r
                    } else
                        s |= 2;
                    if (3 === s)
                        throw "[_.sprintf] mixing positional and named placeholders is not (yet) supported";
                    n.push(i)
                }
                e = e.substring(i[0].length)
            }
            return n
        }
        ,
        e
    }()
      , l = {
        VERSION: "2.0.0",
        isBlank: e(function(t) {
            return /^\s*$/.test(t)
        }),
        stripTags: e(function(t) {
            return t.replace(/<\/?[^>]+>/gi, "")
        }),
        capitalize: e(function(t) {
            return t.charAt(0).toUpperCase() + t.substring(1).toLowerCase()
        }),
        chop: e(function(t, e) {
            e = a(e) || t.length;
            for (var i = [], n = 0; n < t.length; )
                i.push(t.slice(n, n + e)),
                n += e;
            return i
        }),
        clean: e(function(t) {
            return l.strip(t.replace(/\s+/g, " "))
        }),
        count: e(function(t, e) {
            for (var i, n = 0, s = 0; s < t.length; )
                0 <= (i = t.indexOf(e, s)) && n++,
                s = s + (0 <= i ? i : 0) + e.length;
            return n
        }),
        chars: e(function(t) {
            return t.split("")
        }),
        escapeHTML: e(function(t) {
            return t.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;")
        }),
        unescapeHTML: e(function(t) {
            return t.replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&quot;/g, '"').replace(/&apos;/g, "'").replace(/&amp;/g, "&")
        }),
        escapeRegExp: e(function(t) {
            return t.replace(/([-.*+?^${}()|[\]\/\\])/g, "\\$1")
        }),
        insert: e(function(t, e, i) {
            var n = t.split("");
            return n.splice(a(e), 0, i),
            n.join("")
        }),
        include: e(function(t, e) {
            return -1 !== t.indexOf(e)
        }),
        join: e(function() {
            var t = n(arguments);
            return t.join(t.shift())
        }),
        lines: e(function(t) {
            return t.split("\n")
        }),
        reverse: e(function(t) {
            return Array.prototype.reverse.apply(String(t).split("")).join("")
        }),
        splice: e(function(t, e, i, n) {
            var s = t.split("");
            return s.splice(a(e), a(i), n),
            s.join("")
        }),
        startsWith: e(function(t, e) {
            return t.length >= e.length && t.substring(0, e.length) === e
        }),
        endsWith: e(function(t, e) {
            return t.length >= e.length && t.substring(t.length - e.length) === e
        }),
        succ: e(function(t) {
            var e = t.split("");
            return e.splice(t.length - 1, 1, String.fromCharCode(t.charCodeAt(t.length - 1) + 1)),
            e.join("")
        }),
        titleize: e(function(t) {
            for (var e, i = t.split(" "), n = 0; n < i.length; n++)
                "undefined" != typeof (e = i[n].split(""))[0] && (e[0] = e[0].toUpperCase()),
                n + 1 === i.length ? i[n] = e.join("") : i[n] = e.join("") + " ";
            return i.join("")
        }),
        camelize: e(function(t) {
            return l.trim(t).replace(/(\-|_|\s)+(.)?/g, function(t, e, i) {
                return i ? i.toUpperCase() : ""
            })
        }),
        underscored: function(t) {
            return l.trim(t).replace(/([a-z\d])([A-Z]+)/g, "$1_$2").replace(/\-|\s+/g, "_").toLowerCase()
        },
        dasherize: function(t) {
            return l.trim(t).replace(/([a-z\d])([A-Z]+)/g, "$1-$2").replace(/^([A-Z]+)/, "-$1").replace(/\_|\s+/g, "-").toLowerCase()
        },
        humanize: function(t) {
            return l.capitalize(this.underscored(t).replace(/_id$/, "").replace(/_/g, " "))
        },
        trim: e(function(t, e) {
            return !e && i ? i.call(t) : (e = s(e),
            t.replace(new RegExp("^[" + e + "]+|[" + e + "]+$","g"), ""))
        }),
        ltrim: e(function(t, e) {
            return e = s(e),
            t.replace(new RegExp("^[" + e + "]+","g"), "")
        }),
        rtrim: e(function(t, e) {
            return e = s(e),
            t.replace(new RegExp("[" + e + "]+$","g"), "")
        }),
        truncate: e(function(t, e, i) {
            return i = i || "...",
            e = a(e),
            t.length > e ? t.slice(0, e) + i : t
        }),
        prune: e(function(t, e, i) {
            var n = function(t) {
                return t.toUpperCase() != t.toLowerCase() || /[-_\d]/.test(t)
            }
              , s = ""
              , r = ""
              , o = 0;
            for (o in i = i || "...",
            e = a(e),
            t)
                s += n(t[o]) ? "A" : " ";
            return (r = (r = 0 === s.substring(e - 1, e + 1).search(/^\w\w$/) ? l.rtrim(s.slice(0, e).replace(/([\W][\w]*)$/, "")) : l.rtrim(s.slice(0, e))).replace(/\W+$/, "")).length + i.length > t.length ? t : t.substring(0, r.length) + i
        }),
        words: function(t, e) {
            return String(t).split(e || " ")
        },
        pad: e(function(t, e, i, n) {
            var s = ""
              , r = 0;
            switch (e = a(e),
            i ? 1 < i.length && (i = i.charAt(0)) : i = " ",
            n) {
            case "right":
                r = e - t.length,
                t += s = o(i, r);
                break;
            case "both":
                r = e - t.length,
                t = (s = {
                    left: o(i, Math.ceil(r / 2)),
                    right: o(i, Math.floor(r / 2))
                }).left + t + s.right;
                break;
            default:
                r = e - t.length,
                t = (s = o(i, r)) + t
            }
            return t
        }),
        lpad: function(t, e, i) {
            return l.pad(t, e, i)
        },
        rpad: function(t, e, i) {
            return l.pad(t, e, i, "right")
        },
        lrpad: function(t, e, i) {
            return l.pad(t, e, i, "both")
        },
        sprintf: m,
        vsprintf: function(t, e) {
            return e.unshift(t),
            m.apply(null, e)
        },
        toNumber: function(t, e) {
            var i = a(a(t).toFixed(a(e)));
            return 0 !== i || "0" === t || 0 === t ? i : Number.NaN
        },
        strRight: e(function(t, e) {
            var i = e ? t.indexOf(e) : -1;
            return -1 != i ? t.slice(i + e.length, t.length) : t
        }),
        strRightBack: e(function(t, e) {
            var i = e ? t.lastIndexOf(e) : -1;
            return -1 != i ? t.slice(i + e.length, t.length) : t
        }),
        strLeft: e(function(t, e) {
            var i = e ? t.indexOf(e) : -1;
            return -1 != i ? t.slice(0, i) : t
        }),
        strLeftBack: e(function(t, e) {
            var i = t.lastIndexOf(e);
            return -1 != i ? t.slice(0, i) : t
        }),
        exports: function() {
            var t = {};
            for (var e in this)
                this.hasOwnProperty(e) && "include" != e && "contains" != e && "reverse" != e && (t[e] = this[e]);
            return t
        }
    };
    l.strip = l.trim,
    l.lstrip = l.ltrim,
    l.rstrip = l.rtrim,
    l.center = l.lrpad,
    l.ljust = l.lpad,
    l.rjust = l.rpad,
    l.contains = l.include,
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (module.exports = l),
    exports._s = l) : "undefined" != typeof t._ ? (t._.string = l,
    t._.str = t._.string) : t._ = {
        string: l,
        str: l
    }
}(this || window),
function() {
    var u, t = this, e = t.Backbone, i = [], p = i.push, s = i.slice, d = i.splice;
    (u = "undefined" != typeof exports ? exports : t.Backbone = {}).VERSION = "0.9.10";
    var f = t._;
    f || "undefined" == typeof require || (f = require("underscore")),
    u.$ = t.jQuery || t.Zepto || t.ender,
    u.noConflict = function() {
        return t.Backbone = e,
        this
    }
    ,
    u.emulateHTTP = !1,
    u.emulateJSON = !1;
    var l = /\s+/
      , h = function(t, e, i, n) {
        if (!i)
            return !0;
        if ("object" == typeof i)
            for (var s in i)
                t[e].apply(t, [s, i[s]].concat(n));
        else {
            if (!l.test(i))
                return !0;
            for (var r = i.split(l), o = 0, a = r.length; o < a; o++)
                t[e].apply(t, [r[o]].concat(n))
        }
    }
      , r = function(t, e) {
        var i, n = -1, s = t.length;
        switch (e.length) {
        case 0:
            for (; ++n < s; )
                (i = t[n]).callback.call(i.ctx);
            return;
        case 1:
            for (; ++n < s; )
                (i = t[n]).callback.call(i.ctx, e[0]);
            return;
        case 2:
            for (; ++n < s; )
                (i = t[n]).callback.call(i.ctx, e[0], e[1]);
            return;
        case 3:
            for (; ++n < s; )
                (i = t[n]).callback.call(i.ctx, e[0], e[1], e[2]);
            return;
        default:
            for (; ++n < s; )
                (i = t[n]).callback.apply(i.ctx, e)
        }
    }
      , n = u.Events = {
        on: function(t, e, i) {
            return h(this, "on", t, [e, i]) && e && (this._events || (this._events = {}),
            (this._events[t] || (this._events[t] = [])).push({
                callback: e,
                context: i,
                ctx: i || this
            })),
            this
        },
        once: function(t, e, i) {
            if (!h(this, "once", t, [e, i]) || !e)
                return this;
            var n = this
              , s = f.once(function() {
                n.off(t, s),
                e.apply(this, arguments)
            });
            return s._callback = e,
            this.on(t, s, i),
            this
        },
        off: function(t, e, i) {
            var n, s, r, o, a, l, u, c;
            if (!this._events || !h(this, "off", t, [e, i]))
                return this;
            if (!t && !e && !i)
                return this._events = {},
                this;
            for (a = 0,
            l = (o = t ? [t] : f.keys(this._events)).length; a < l; a++)
                if (t = o[a],
                n = this._events[t]) {
                    if (r = [],
                    e || i)
                        for (u = 0,
                        c = n.length; u < c; u++)
                            s = n[u],
                            (e && e !== s.callback && e !== s.callback._callback || i && i !== s.context) && r.push(s);
                    this._events[t] = r
                }
            return this
        },
        trigger: function(t) {
            if (!this._events)
                return this;
            var e = s.call(arguments, 1);
            if (!h(this, "trigger", t, e))
                return this;
            var i = this._events[t]
              , n = this._events.all;
            return i && r(i, e),
            n && r(n, arguments),
            this
        },
        listenTo: function(t, e, i) {
            return ((this._listeners || (this._listeners = {}))[t._listenerId || (t._listenerId = f.uniqueId("l"))] = t).on(e, "object" == typeof e ? this : i, this),
            this
        },
        stopListening: function(t, e, i) {
            var n = this._listeners;
            if (n) {
                if (t)
                    t.off(e, "object" == typeof e ? this : i, this),
                    e || i || delete n[t._listenerId];
                else {
                    for (var s in "object" == typeof e && (i = this),
                    n)
                        n[s].off(e, i, this);
                    this._listeners = {}
                }
                return this
            }
        }
    };
    n.bind = n.on,
    n.unbind = n.off,
    f.extend(u, n);
    var o = u.Model = function(t, e) {
        var i, n = t || {};
        this.cid = f.uniqueId("c"),
        this.attributes = {},
        e && e.collection && (this.collection = e.collection),
        e && e.parse && (n = this.parse(n, e) || {}),
        (i = f.result(this, "defaults")) && (n = f.defaults({}, n, i)),
        this.set(n, e),
        this.changed = {},
        this.initialize.apply(this, arguments)
    }
    ;
    f.extend(o.prototype, n, {
        changed: null,
        idAttribute: "id",
        initialize: function() {},
        toJSON: function() {
            return f.clone(this.attributes)
        },
        sync: function() {
            return u.sync.apply(this, arguments)
        },
        get: function(t) {
            return this.attributes[t]
        },
        escape: function(t) {
            return f.escape(this.get(t))
        },
        has: function(t) {
            return null != this.get(t)
        },
        set: function(t, e, i) {
            var n, s, r, o, a, l, u, c;
            if (null == t)
                return this;
            if ("object" == typeof t ? (s = t,
            i = e) : (s = {})[t] = e,
            i || (i = {}),
            !this._validate(s, i))
                return !1;
            for (n in r = i.unset,
            a = i.silent,
            o = [],
            l = this._changing,
            this._changing = !0,
            l || (this._previousAttributes = f.clone(this.attributes),
            this.changed = {}),
            c = this.attributes,
            u = this._previousAttributes,
            this.idAttribute in s && (this.id = s[this.idAttribute]),
            s)
                e = s[n],
                f.isEqual(c[n], e) || o.push(n),
                f.isEqual(u[n], e) ? delete this.changed[n] : this.changed[n] = e,
                r ? delete c[n] : c[n] = e;
            if (!a) {
                o.length && (this._pending = !0);
                for (var h = 0, p = o.length; h < p; h++)
                    this.trigger("change:" + o[h], this, c[o[h]], i)
            }
            if (l)
                return this;
            if (!a)
                for (; this._pending; )
                    this._pending = !1,
                    this.trigger("change", this, i);
            return this._pending = !1,
            this._changing = !1,
            this
        },
        unset: function(t, e) {
            return this.set(t, void 0, f.extend({}, e, {
                unset: !0
            }))
        },
        clear: function(t) {
            var e = {};
            for (var i in this.attributes)
                e[i] = void 0;
            return this.set(e, f.extend({}, t, {
                unset: !0
            }))
        },
        hasChanged: function(t) {
            return null == t ? !f.isEmpty(this.changed) : f.has(this.changed, t)
        },
        changedAttributes: function(t) {
            if (!t)
                return !!this.hasChanged() && f.clone(this.changed);
            var e, i = !1, n = this._changing ? this._previousAttributes : this.attributes;
            for (var s in t)
                f.isEqual(n[s], e = t[s]) || ((i || (i = {}))[s] = e);
            return i
        },
        previous: function(t) {
            return null != t && this._previousAttributes ? this._previousAttributes[t] : null
        },
        previousAttributes: function() {
            return f.clone(this._previousAttributes)
        },
        fetch: function(t) {
            void 0 === (t = t ? f.clone(t) : {}).parse && (t.parse = !0);
            var n = t.success;
            return t.success = function(t, e, i) {
                if (!t.set(t.parse(e, i), i))
                    return !1;
                n && n(t, e, i)
            }
            ,
            this.sync("read", this, t)
        },
        save: function(t, e, i) {
            var s, r, n, o, a = this.attributes;
            return null == t || "object" == typeof t ? (s = t,
            i = e) : (s = {})[t] = e,
            !!(!s || i && i.wait || this.set(s, i)) && (i = f.extend({
                validate: !0
            }, i),
            !!this._validate(s, i) && (s && i.wait && (this.attributes = f.extend({}, a, s)),
            void 0 === i.parse && (i.parse = !0),
            r = i.success,
            i.success = function(t, e, i) {
                t.attributes = a;
                var n = t.parse(e, i);
                if (i.wait && (n = f.extend(s || {}, n)),
                f.isObject(n) && !t.set(n, i))
                    return !1;
                r && r(t, e, i)
            }
            ,
            "patch" === (n = this.isNew() ? "create" : i.patch ? "patch" : "update") && (i.attrs = s),
            o = this.sync(n, this, i),
            s && i.wait && (this.attributes = a),
            o))
        },
        destroy: function(t) {
            t = t ? f.clone(t) : {};
            var e = this
              , n = t.success
              , s = function() {
                e.trigger("destroy", e, e.collection, t)
            };
            if (t.success = function(t, e, i) {
                (i.wait || t.isNew()) && s(),
                n && n(t, e, i)
            }
            ,
            this.isNew())
                return t.success(this, null, t),
                !1;
            var i = this.sync("delete", this, t);
            return t.wait || s(),
            i
        },
        url: function() {
            var t = f.result(this, "urlRoot") || f.result(this.collection, "url") || P();
            return this.isNew() ? t : t + ("/" === t.charAt(t.length - 1) ? "" : "/") + encodeURIComponent(this.id)
        },
        parse: function(t) {
            return t
        },
        clone: function() {
            return new this.constructor(this.attributes)
        },
        isNew: function() {
            return null == this.id
        },
        isValid: function(t) {
            return !this.validate || !this.validate(this.attributes, t)
        },
        _validate: function(t, e) {
            if (!e.validate || !this.validate)
                return !0;
            t = f.extend({}, this.attributes, t);
            var i = this.validationError = this.validate(t, e) || null;
            return !i || (this.trigger("invalid", this, i, e || {}),
            !1)
        }
    });
    var a = u.Collection = function(t, e) {
        e || (e = {}),
        e.model && (this.model = e.model),
        void 0 !== e.comparator && (this.comparator = e.comparator),
        this.models = [],
        this._reset(),
        this.initialize.apply(this, arguments),
        t && this.reset(t, f.extend({
            silent: !0
        }, e))
    }
    ;
    f.extend(a.prototype, n, {
        model: o,
        initialize: function() {},
        toJSON: function(e) {
            return this.map(function(t) {
                return t.toJSON(e)
            })
        },
        sync: function() {
            return u.sync.apply(this, arguments)
        },
        add: function(t, e) {
            var i, n, s, r, o, a, l, u, c, h;
            for (t = f.isArray(t) ? t.slice() : [t],
            e || (e = {}),
            l = [],
            u = e.at,
            c = this.comparator && null == u && 0 != e.sort,
            h = f.isString(this.comparator) ? this.comparator : null,
            i = 0,
            n = t.length; i < n; i++)
                (s = this._prepareModel(r = t[i], e)) ? (o = this.get(s)) ? e.merge && (o.set(r === s ? s.attributes : r, e),
                c && !a && o.hasChanged(h) && (a = !0)) : (l.push(s),
                s.on("all", this._onModelEvent, this),
                null != (this._byId[s.cid] = s).id && (this._byId[s.id] = s)) : this.trigger("invalid", this, r, e);
            if (l.length && (c && (a = !0),
            this.length += l.length,
            null != u ? d.apply(this.models, [u, 0].concat(l)) : p.apply(this.models, l)),
            a && this.sort({
                silent: !0
            }),
            e.silent)
                return this;
            for (i = 0,
            n = l.length; i < n; i++)
                (s = l[i]).trigger("add", s, this, e);
            return a && this.trigger("sort", this, e),
            this
        },
        remove: function(t, e) {
            var i, n, s, r;
            for (e || (e = {}),
            i = 0,
            n = (t = f.isArray(t) ? t.slice() : [t]).length; i < n; i++)
                (r = this.get(t[i])) && (delete this._byId[r.id],
                delete this._byId[r.cid],
                s = this.indexOf(r),
                this.models.splice(s, 1),
                this.length--,
                e.silent || (e.index = s,
                r.trigger("remove", r, this, e)),
                this._removeReference(r));
            return this
        },
        push: function(t, e) {
            return t = this._prepareModel(t, e),
            this.add(t, f.extend({
                at: this.length
            }, e)),
            t
        },
        pop: function(t) {
            var e = this.at(this.length - 1);
            return this.remove(e, t),
            e
        },
        unshift: function(t, e) {
            return t = this._prepareModel(t, e),
            this.add(t, f.extend({
                at: 0
            }, e)),
            t
        },
        shift: function(t) {
            var e = this.at(0);
            return this.remove(e, t),
            e
        },
        slice: function(t, e) {
            return this.models.slice(t, e)
        },
        get: function(t) {
            if (null != t)
                return this._idAttr || (this._idAttr = this.model.prototype.idAttribute),
                this._byId[t.id || t.cid || t[this._idAttr] || t]
        },
        at: function(t) {
            return this.models[t]
        },
        where: function(i) {
            return f.isEmpty(i) ? [] : this.filter(function(t) {
                for (var e in i)
                    if (i[e] !== t.get(e))
                        return !1;
                return !0
            })
        },
        sort: function(t) {
            if (!this.comparator)
                throw new Error("Cannot sort a set without a comparator");
            return t || (t = {}),
            f.isString(this.comparator) || 1 === this.comparator.length ? this.models = this.sortBy(this.comparator, this) : this.models.sort(f.bind(this.comparator, this)),
            t.silent || this.trigger("sort", this, t),
            this
        },
        pluck: function(t) {
            return f.invoke(this.models, "get", t)
        },
        update: function(t, e) {
            var i, n, s, r;
            (e = f.extend({
                add: !0,
                merge: !0,
                remove: !0
            }, e)).parse && (t = this.parse(t, e));
            var o = []
              , a = []
              , l = {};
            if (f.isArray(t) || (t = t ? [t] : []),
            e.add && !e.remove)
                return this.add(t, e);
            for (n = 0,
            s = t.length; n < s; n++)
                i = t[n],
                r = this.get(i),
                e.remove && r && (l[r.cid] = !0),
                (e.add && !r || e.merge && r) && o.push(i);
            if (e.remove)
                for (n = 0,
                s = this.models.length; n < s; n++)
                    l[(i = this.models[n]).cid] || a.push(i);
            return a.length && this.remove(a, e),
            o.length && this.add(o, e),
            this
        },
        reset: function(t, e) {
            e || (e = {}),
            e.parse && (t = this.parse(t, e));
            for (var i = 0, n = this.models.length; i < n; i++)
                this._removeReference(this.models[i]);
            return e.previousModels = this.models.slice(),
            this._reset(),
            t && this.add(t, f.extend({
                silent: !0
            }, e)),
            e.silent || this.trigger("reset", this, e),
            this
        },
        fetch: function(t) {
            void 0 === (t = t ? f.clone(t) : {}).parse && (t.parse = !0);
            var n = t.success;
            return t.success = function(t, e, i) {
                t[i.update ? "update" : "reset"](e, i),
                n && n(t, e, i)
            }
            ,
            this.sync("read", this, t)
        },
        create: function(t, e) {
            if (e = e ? f.clone(e) : {},
            !(t = this._prepareModel(t, e)))
                return !1;
            e.wait || this.add(t, e);
            var n = this
              , s = e.success;
            return e.success = function(t, e, i) {
                i.wait && n.add(t, i),
                s && s(t, e, i)
            }
            ,
            t.save(null, e),
            t
        },
        parse: function(t) {
            return t
        },
        clone: function() {
            return new this.constructor(this.models)
        },
        _reset: function() {
            this.length = 0,
            this.models.length = 0,
            this._byId = {}
        },
        _prepareModel: function(t, e) {
            if (t instanceof o)
                return t.collection || (t.collection = this),
                t;
            e || (e = {});
            var i = new (e.collection = this).model(t,e);
            return !!i._validate(t, e) && i
        },
        _removeReference: function(t) {
            this === t.collection && delete t.collection,
            t.off("all", this._onModelEvent, this)
        },
        _onModelEvent: function(t, e, i, n) {
            ("add" !== t && "remove" !== t || i === this) && ("destroy" === t && this.remove(e, n),
            e && t === "change:" + e.idAttribute && (delete this._byId[e.previous(e.idAttribute)],
            null != e.id && (this._byId[e.id] = e)),
            this.trigger.apply(this, arguments))
        },
        sortedIndex: function(t, e, i) {
            e || (e = this.comparator);
            var n = f.isFunction(e) ? e : function(t) {
                return t.get(e)
            }
            ;
            return f.sortedIndex(this.models, t, n, i)
        }
    });
    var c = ["forEach", "each", "map", "collect", "reduce", "foldl", "inject", "reduceRight", "foldr", "find", "detect", "filter", "select", "reject", "every", "all", "some", "any", "include", "contains", "invoke", "max", "min", "toArray", "size", "first", "head", "take", "initial", "rest", "tail", "drop", "last", "without", "indexOf", "shuffle", "lastIndexOf", "isEmpty", "chain"];
    f.each(c, function(e) {
        a.prototype[e] = function() {
            var t = s.call(arguments);
            return t.unshift(this.models),
            f[e].apply(f, t)
        }
    });
    var m = ["groupBy", "countBy", "sortBy"];
    f.each(m, function(n) {
        a.prototype[n] = function(e, t) {
            var i = f.isFunction(e) ? e : function(t) {
                return t.get(e)
            }
            ;
            return f[n](this.models, i, t)
        }
    });
    var g = u.Router = function(t) {
        t || (t = {}),
        t.routes && (this.routes = t.routes),
        this._bindRoutes(),
        this.initialize.apply(this, arguments)
    }
      , y = /\((.*?)\)/g
      , _ = /(\(\?)?:\w+/g
      , v = /\*\w+/g
      , w = /[\-{}\[\]+?.,\\\^$|#\s]/g;
    f.extend(g.prototype, n, {
        initialize: function() {},
        route: function(i, n, s) {
            return f.isRegExp(i) || (i = this._routeToRegExp(i)),
            s || (s = this[n]),
            u.history.route(i, f.bind(function(t) {
                var e = this._extractParameters(i, t);
                s && s.apply(this, e),
                this.trigger.apply(this, ["route:" + n].concat(e)),
                this.trigger("route", n, e),
                u.history.trigger("route", this, n, e)
            }, this)),
            this
        },
        navigate: function(t, e) {
            return u.history.navigate(t, e),
            this
        },
        _bindRoutes: function() {
            if (this.routes)
                for (var t, e = f.keys(this.routes); null != (t = e.pop()); )
                    this.route(t, this.routes[t])
        },
        _routeToRegExp: function(t) {
            return t = t.replace(w, "\\$&").replace(y, "(?:$1)?").replace(_, function(t, e) {
                return e ? t : "([^/]+)"
            }).replace(v, "(.*?)"),
            new RegExp("^" + t + "$")
        },
        _extractParameters: function(t, e) {
            return t.exec(e).slice(1)
        }
    });
    var b = u.History = function() {
        this.handlers = [],
        f.bindAll(this, "checkUrl"),
        "undefined" != typeof window && (this.location = window.location,
        this.history = window.history)
    }
      , x = /^[#\/]|\s+$/g
      , k = /^\/+|\/+$/g
      , C = /msie [\w.]+/
      , S = /\/$/;
    b.started = !1,
    f.extend(b.prototype, n, {
        interval: 50,
        getHash: function(t) {
            var e = (t || this).location.href.match(/#(.*)$/);
            return e ? e[1] : ""
        },
        getFragment: function(t, e) {
            if (null == t)
                if (this._hasPushState || !this._wantsHashChange || e) {
                    t = this.location.pathname;
                    var i = this.root.replace(S, "");
                    t.indexOf(i) || (t = t.substr(i.length))
                } else
                    t = this.getHash();
            return t.replace(x, "")
        },
        start: function(t) {
            if (b.started)
                throw new Error("Backbone.history has already been started");
            b.started = !0,
            this.options = f.extend({}, {
                root: "/"
            }, this.options, t),
            this.root = this.options.root,
            this._wantsHashChange = !1 !== this.options.hashChange,
            this._wantsPushState = !!this.options.pushState,
            this._hasPushState = !!(this.options.pushState && this.history && this.history.pushState);
            var e = this.getFragment()
              , i = document.documentMode
              , n = C.exec(navigator.userAgent.toLowerCase()) && (!i || i <= 7);
            this.root = ("/" + this.root + "/").replace(k, "/"),
            n && this._wantsHashChange && (this.iframe = u.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,
            this.navigate(e)),
            this._hasPushState ? u.$(window).on("popstate", this.checkUrl) : this._wantsHashChange && "onhashchange"in window && !n ? u.$(window).on("hashchange", this.checkUrl) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)),
            this.fragment = e;
            var s = this.location
              , r = s.pathname.replace(/[^\/]$/, "$&/") === this.root;
            return this._wantsHashChange && this._wantsPushState && !this._hasPushState && !r ? (this.fragment = this.getFragment(null, !0),
            this.location.replace(this.root + this.location.search + "#" + this.fragment),
            !0) : (this._wantsPushState && this._hasPushState && r && s.hash && (this.fragment = this.getHash().replace(x, ""),
            this.history.replaceState({}, document.title, this.root + this.fragment + s.search)),
            this.options.silent ? void 0 : this.loadUrl())
        },
        stop: function() {
            u.$(window).off("popstate", this.checkUrl).off("hashchange", this.checkUrl),
            clearInterval(this._checkUrlInterval),
            b.started = !1
        },
        route: function(t, e) {
            this.handlers.unshift({
                route: t,
                callback: e
            })
        },
        checkUrl: function() {
            var t = this.getFragment();
            if (t === this.fragment && this.iframe && (t = this.getFragment(this.getHash(this.iframe))),
            t === this.fragment)
                return !1;
            this.iframe && this.navigate(t),
            this.loadUrl() || this.loadUrl(this.getHash())
        },
        loadUrl: function(t) {
            var e = this.fragment = this.getFragment(t);
            return f.any(this.handlers, function(t) {
                if (t.route.test(e))
                    return t.callback(e),
                    !0
            })
        },
        navigate: function(t, e) {
            if (!b.started)
                return !1;
            if (e && !0 !== e || (e = {
                trigger: e
            }),
            t = this.getFragment(t || ""),
            this.fragment !== t) {
                this.fragment = t;
                var i = this.root + t;
                if (this._hasPushState)
                    this.history[e.replace ? "replaceState" : "pushState"]({}, document.title, i);
                else {
                    if (!this._wantsHashChange)
                        return this.location.assign(i);
                    this._updateHash(this.location, t, e.replace),
                    this.iframe && t !== this.getFragment(this.getHash(this.iframe)) && (e.replace || this.iframe.document.open().close(),
                    this._updateHash(this.iframe.location, t, e.replace))
                }
                e.trigger && this.loadUrl(t)
            }
        },
        _updateHash: function(t, e, i) {
            if (i) {
                var n = t.href.replace(/(javascript:|#).*$/, "");
                t.replace(n + "#" + e)
            } else
                t.hash = "#" + e
        }
    }),
    u.history = new b;
    var T = u.View = function(t) {
        this.cid = f.uniqueId("view"),
        this._configure(t || {}),
        this._ensureElement(),
        this.initialize.apply(this, arguments),
        this.delegateEvents()
    }
      , A = /^(\S+)\s*(.*)$/
      , D = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"];
    f.extend(T.prototype, n, {
        tagName: "div",
        $: function(t) {
            return this.$el.find(t)
        },
        initialize: function() {},
        render: function() {
            return this
        },
        remove: function() {
            return this.$el.remove(),
            this.stopListening(),
            this
        },
        setElement: function(t, e) {
            return this.$el && this.undelegateEvents(),
            this.$el = t instanceof u.$ ? t : u.$(t),
            this.el = this.$el[0],
            !1 !== e && this.delegateEvents(),
            this
        },
        delegateEvents: function(t) {
            if (t || (t = f.result(this, "events")))
                for (var e in this.undelegateEvents(),
                t) {
                    var i = t[e];
                    if (f.isFunction(i) || (i = this[t[e]]),
                    !i)
                        throw new Error('Method "' + t[e] + '" does not exist');
                    var n = e.match(A)
                      , s = n[1]
                      , r = n[2];
                    i = f.bind(i, this),
                    s += ".delegateEvents" + this.cid,
                    "" === r ? this.$el.on(s, i) : this.$el.on(s, r, i)
                }
        },
        undelegateEvents: function() {
            this.$el.off(".delegateEvents" + this.cid)
        },
        _configure: function(t) {
            this.options && (t = f.extend({}, f.result(this, "options"), t)),
            f.extend(this, f.pick(t, D)),
            this.options = t
        },
        _ensureElement: function() {
            if (this.el)
                this.setElement(f.result(this, "el"), !1);
            else {
                var t = f.extend({}, f.result(this, "attributes"));
                this.id && (t.id = f.result(this, "id")),
                this.className && (t["class"] = f.result(this, "className"));
                var e = u.$("<" + f.result(this, "tagName") + ">").attr(t);
                this.setElement(e, !1)
            }
        }
    });
    var M = {
        create: "POST",
        update: "PUT",
        patch: "PATCH",
        "delete": "DELETE",
        read: "GET"
    };
    u.sync = function(t, e, i) {
        var n = M[t];
        f.defaults(i || (i = {}), {
            emulateHTTP: u.emulateHTTP,
            emulateJSON: u.emulateJSON
        });
        var s = {
            type: n,
            dataType: "json"
        };
        if (i.url || (s.url = f.result(e, "url") || P()),
        null != i.data || !e || "create" !== t && "update" !== t && "patch" !== t || (s.contentType = "application/json",
        s.data = JSON.stringify(i.attrs || e.toJSON(i))),
        i.emulateJSON && (s.contentType = "application/x-www-form-urlencoded",
        s.data = s.data ? {
            model: s.data
        } : {}),
        i.emulateHTTP && ("PUT" === n || "DELETE" === n || "PATCH" === n)) {
            s.type = "POST",
            i.emulateJSON && (s.data._method = n);
            var r = i.beforeSend;
            i.beforeSend = function(t) {
                if (t.setRequestHeader("X-HTTP-Method-Override", n),
                r)
                    return r.apply(this, arguments)
            }
        }
        "GET" === s.type || i.emulateJSON || (s.processData = !1);
        var o = i.success;
        i.success = function(t) {
            o && o(e, t, i),
            e.trigger("sync", e, t, i)
        }
        ;
        var a = i.error;
        i.error = function(t) {
            a && a(e, t, i),
            e.trigger("error", e, t, i)
        }
        ;
        var l = i.xhr = u.ajax(f.extend(s, i));
        return e.trigger("request", e, l, i),
        l
    }
    ,
    u.ajax = function() {
        return u.$.ajax.apply(u.$, arguments)
    }
    ;
    var q = function(t, e) {
        var i, n = this;
        i = t && f.has(t, "constructor") ? t.constructor : function() {
            return n.apply(this, arguments)
        }
        ,
        f.extend(i, n, e);
        var s = function() {
            this.constructor = i
        };
        return s.prototype = n.prototype,
        i.prototype = new s,
        t && f.extend(i.prototype, t),
        i.__super__ = n.prototype,
        i
    };
    o.extend = a.extend = g.extend = T.extend = b.extend = q;
    var P = function() {
        throw new Error('A "url" property or function must be specified')
    }
}
.call(this),
function(t) {
    var n = function(t, n, m) {
        var u = {
            version: "0.5.0",
            bind: function(t, e) {
                t.modelBinder = new i(t,e),
                t.modelBinder.bind()
            },
            unbind: function(t) {
                t.modelBinder && t.modelBinder.unbind()
            }
        }
          , i = function(r, t) {
            this.config = new u.Configuration(t),
            this.modelBindings = [],
            this.elementBindings = [],
            this.bind = function() {
                var t = u.Conventions;
                for (var e in t)
                    if (t.hasOwnProperty(e)) {
                        var i = t[e]
                          , n = i.handler
                          , s = i.selector;
                        n.bind.call(this, s, r, r.model, this.config)
                    }
            }
            ,
            this.unbind = function() {
                n.each(this.elementBindings, function(t) {
                    t.element.unbind(t.eventName, t.callback)
                }),
                n.each(this.modelBindings, function(t) {
                    t.model.unbind(t.eventName, t.callback)
                })
            }
            ,
            this.registerModelBinding = function(t, e, i) {
                var n = "change:" + e;
                t.bind(n, i),
                this.modelBindings.push({
                    model: t,
                    eventName: n,
                    callback: i
                })
            }
            ,
            this.registerDataBinding = function(t, e, i) {
                t.bind(e, i),
                this.modelBindings.push({
                    model: t,
                    eventName: e,
                    callback: i
                })
            }
            ,
            this.registerElementBinding = function(t, e) {
                t.bind("change", e),
                t.bind("keyup", e),
                this.elementBindings.push({
                    element: t,
                    eventName: "change",
                    callback: e
                })
            }
        };
        u.Configuration = function(t) {
            if (this.bindingAttrConfig = {},
            n.extend(this.bindingAttrConfig, u.Configuration.bindindAttrConfig, t),
            this.bindingAttrConfig.all) {
                var e = this.bindingAttrConfig.all;
                for (var i in delete this.bindingAttrConfig.all,
                this.bindingAttrConfig)
                    this.bindingAttrConfig.hasOwnProperty(i) && (this.bindingAttrConfig[i] = e)
            }
            this.getBindingAttr = function(t) {
                return this.bindingAttrConfig[t]
            }
            ,
            this.getBindingValue = function(t, e) {
                var i = this.getBindingAttr(e);
                return t.attr(i)
            }
        }
        ,
        u.Configuration.bindindAttrConfig = {
            text: "id",
            textarea: "id",
            password: "id",
            radio: "name",
            checkbox: "id",
            select: "id",
            number: "id",
            range: "id",
            tel: "id",
            search: "id",
            url: "id",
            email: "id"
        },
        u.Configuration.store = function() {
            u.Configuration.originalConfig = n.clone(u.Configuration.bindindAttrConfig)
        }
        ,
        u.Configuration.restore = function() {
            u.Configuration.bindindAttrConfig = u.Configuration.originalConfig
        }
        ,
        u.Configuration.configureBindingAttributes = function(t) {
            t.all && (this.configureAllBindingAttributes(t.all),
            delete t.all),
            n.extend(u.Configuration.bindindAttrConfig, t)
        }
        ,
        u.Configuration.configureAllBindingAttributes = function(t) {
            var e = u.Configuration.bindindAttrConfig;
            e.text = t,
            e.textarea = t,
            e.password = t,
            e.radio = t,
            e.checkbox = t,
            e.select = t,
            e.number = t,
            e.range = t,
            e.tel = t,
            e.search = t,
            e.url = t,
            e.email = t
        }
        ;
        var e, p, s = (p = function(t) {
            var e = t[0].tagName.toLowerCase();
            return "input" == e && ((e = t.attr("type")) != undefined && "" != e || (e = "text")),
            e
        }
        ,
        (e = {}).bind = function(t, l, u, c) {
            var h = this;
            l.$(t).each(function() {
                var i = l.$(this)
                  , t = p(i)
                  , e = c.getBindingValue(i, t);
                if (void 0 === e)
                    return !0;
                var n = function(t, e) {
                    i.is(":focus") || i.val(e)
                }
                  , s = function(t, e) {
                    var i = {};
                    i[t] = e,
                    u.set(i)
                }
                  , r = function(t) {
                    s(e, l.$(t.target).val())
                };
                h.registerModelBinding(u, e, n),
                h.registerElementBinding(i, r);
                var o = u.get(e);
                if (null != o)
                    i.val(o);
                else {
                    var a = i.val();
                    a && s(e, a)
                }
            })
        }
        ,
        e), r = {
            bind: function(t, l, u, c) {
                var h = this;
                l.$(t).each(function() {
                    var i = l.$(this)
                      , s = c.getBindingValue(i, "select");
                    if (void 0 === s)
                        return !0;
                    var t = function(t, e) {
                        i.val(e)
                    }
                      , r = function(t, e, i) {
                        var n = {};
                        n[t] = e,
                        n[t + "_text"] = i,
                        u.set(n)
                    }
                      , e = function(t) {
                        var e = l.$(t.target)
                          , i = e.val()
                          , n = e.find(":selected").text();
                        r(s, i, n)
                    };
                    h.registerModelBinding(u, s, t),
                    h.registerElementBinding(i, e);
                    var n = u.get(s);
                    if (null != n && i.val(n),
                    i.val() != n) {
                        var o = i.val()
                          , a = i.find(":selected").text();
                        r(s, o, a)
                    }
                })
            }
        }, o = {
            bind: function(t, c, h, p) {
                var d = this
                  , f = [];
                c.$(t).each(function() {
                    var t = c.$(this)
                      , n = p.getBindingValue(t, "radio");
                    if (void 0 === n)
                        return !0;
                    if (!f[n]) {
                        f[n] = !0;
                        var s = p.getBindingAttr("radio")
                          , e = function(t, e) {
                            var i = "input[type=radio][" + s + "='" + n + "'][value='" + e + "']";
                            c.$(i).attr("checked", "checked")
                        };
                        d.registerModelBinding(h, n, e);
                        var i = function(t, e) {
                            var i = {};
                            i[t] = e,
                            h.set(i)
                        }
                          , r = function(t) {
                            var e = c.$(t.currentTarget);
                            e.is(":checked") && i(n, e.val())
                        }
                          , o = "input[type=radio][" + s + "='" + n + "']";
                        c.$(o).each(function() {
                            var t = m(this);
                            d.registerElementBinding(t, r)
                        });
                        var a = h.get(n);
                        if (null != a) {
                            var l = "input[type=radio][" + s + "='" + n + "'][value='" + a + "']";
                            c.$(l).attr("checked", "checked")
                        } else {
                            l = "input[type=radio][" + s + "='" + n + "']:checked";
                            var u = c.$(l).val();
                            i(n, u)
                        }
                    }
                })
            }
        }, a = {
            bind: function(t, a, l, u) {
                var c = this;
                a.$(t).each(function() {
                    var i = a.$(this)
                      , n = (u.getBindingAttr("checkbox"),
                    u.getBindingValue(i, "checkbox"));
                    if (void 0 === n)
                        return !0;
                    var t = function(t, e) {
                        e ? i.attr("checked", "checked") : i.removeAttr("checked")
                    }
                      , s = function(t, e) {
                        var i = {};
                        i[t] = e,
                        l.set(i)
                    }
                      , e = function(t) {
                        var e = !!a.$(t.target).is(":checked");
                        s(n, e)
                    };
                    if (c.registerModelBinding(l, n, t),
                    c.registerElementBinding(i, e),
                    l.attributes.hasOwnProperty(n)) {
                        var r = l.get(n);
                        null != r && 0 != r ? i.attr("checked", "checked") : i.removeAttr("checked")
                    } else {
                        var o = !!i.is(":checked");
                        s(n, o)
                    }
                })
            }
        }, l = function(t, r, s) {
            var n = {
                "default": ""
            };
            u.Configuration.dataBindSubst = function(t) {
                this.storeDataBindSubstConfig(),
                r.extend(n, t)
            }
            ,
            u.Configuration.storeDataBindSubstConfig = function() {
                u.Configuration._dataBindSubstConfig = r.clone(n)
            }
            ,
            u.Configuration.restoreDataBindSubstConfig = function() {
                u.Configuration._dataBindSubstConfig && (n = u.Configuration._dataBindSubstConfig,
                delete u.Configuration._dataBindSubstConfig)
            }
            ,
            u.Configuration.getDataBindSubst = function(t, e) {
                var i = e;
                return e === undefined && (i = n.hasOwnProperty(t) ? n[t] : n["default"]),
                i
            }
            ;
            var o = function(t, e, i) {
                switch (i = u.Configuration.getDataBindSubst(e, i),
                e) {
                case "html":
                    t.html(i);
                    break;
                case "text":
                    i && t.text(i);
                    break;
                case "enabled":
                    t.attr("disabled", !i);
                    break;
                case "displayed":
                    t[i ? "show" : "hide"]();
                    break;
                case "hidden":
                    t[i ? "hide" : "show"]();
                    break;
                default:
                    t.attr(e, i)
                }
            }
              , a = function(t) {
                var i = []
                  , e = u.Conventions.databind.selector.replace(/^(.*\[)([^\]]*)(].*)/g, "$2")
                  , n = t.attr(e).split(";");
                return r.each(n, function(t) {
                    var e = s.trim(t).split(" ");
                    1 == e.length && e.unshift("text"),
                    i.push({
                        elementAttr: e[0],
                        modelAttr: e[1]
                    })
                }),
                i
            }
              , l = function(i, n) {
                var t = {}
                  , e = n.modelAttr;
                return 0 == e.indexOf("event:") ? (t.name = e.substr(6),
                t.callback = function(t) {
                    o(i, n.elementAttr, t)
                }
                ) : (t.name = "change:" + e,
                t.callback = function(t, e) {
                    o(i, n.elementAttr, e)
                }
                ),
                t
            }
              , e = {
                bind: function(t, e, n) {
                    var s = this;
                    e.$(t).each(function() {
                        var i = e.$(this)
                          , t = a(i);
                        r.each(t, function(t) {
                            var e = l(i, t);
                            s.registerDataBinding(n, e.name, e.callback),
                            o(i, t.elementAttr, n.get(t.modelAttr))
                        })
                    })
                }
            };
            return e
        }(0, n, m);
        return u.Conventions = {
            text: {
                selector: "input:text",
                handler: s
            },
            textarea: {
                selector: "textarea",
                handler: s
            },
            password: {
                selector: "input:password",
                handler: s
            },
            radio: {
                selector: "input:radio",
                handler: o
            },
            checkbox: {
                selector: "input:checkbox",
                handler: a
            },
            select: {
                selector: "select",
                handler: r
            },
            databind: {
                selector: "*[data-bind]",
                handler: l
            },
            number: {
                selector: "input[type=number]",
                handler: s
            },
            range: {
                selector: "input[type=range]",
                handler: s
            },
            tel: {
                selector: "input[type=tel]",
                handler: s
            },
            search: {
                selector: "input[type=search]",
                handler: s
            },
            url: {
                selector: "input[type=url]",
                handler: s
            },
            email: {
                selector: "input[type=email]",
                handler: s
            }
        },
        u
    };
    "function" == typeof define && define.amd ? define(["backbone", "underscore", "jquery"], function(t, e, i) {
        return n(t, e, i)
    }) : (t.Backbone = Backbone || {},
    t.Backbone.ModelBinding = n(Backbone, _, jQuery))
}(this),
function(B) {
    var n = {
        method: "GET",
        queryParam: "q",
        searchDelay: 300,
        minChars: 1,
        propertyToSearch: "name",
        jsonContainer: null,
        contentType: "json",
        prePopulate: null,
        processPrePopulate: !1,
        hintText: "Type in a search term",
        noResultsText: "No results",
        searchingText: "Searching...",
        deleteText: "&times;",
        animateDropdown: !0,
        theme: null,
        zindex: 999,
        resultsFormatter: function(t) {
            return "<li>" + t[this.propertyToSearch] + "</li>"
        },
        tokenFormatter: function(t) {
            return "<li><p>" + t[this.propertyToSearch] + "</p></li>"
        },
        tokenLimit: null,
        tokenDelimiter: ",",
        preventDuplicates: !1,
        tokenValue: "id",
        onResult: null,
        onAdd: null,
        onDelete: null,
        onReady: null,
        idPrefix: "token-input-",
        disabled: !1
    }
      , z = {
        tokenList: "token-input-list",
        token: "token-input-token",
        tokenDelete: "token-input-delete-token",
        selectedToken: "token-input-selected-token",
        highlightedToken: "token-input-highlighted-token",
        dropdown: "token-input-dropdown",
        dropdownItem: "token-input-dropdown-item",
        dropdownItem2: "token-input-dropdown-item2",
        selectedDropdownItem: "token-input-selected-dropdown-item",
        inputToken: "token-input-input-token",
        disabled: "token-input-disabled"
    }
      , j = {
        BEFORE: 0,
        AFTER: 1,
        END: 2
    }
      , J = {
        BACKSPACE: 8,
        TAB: 9,
        ENTER: 13,
        ESCAPE: 27,
        SPACE: 32,
        PAGE_UP: 33,
        PAGE_DOWN: 34,
        END: 35,
        HOME: 36,
        LEFT: 37,
        UP: 38,
        RIGHT: 39,
        DOWN: 40,
        NUMPAD_ENTER: 108,
        COMMA: 188
    }
      , e = {
        init: function(t, e) {
            var i = B.extend({}, n, e || {});
            return this.each(function() {
                B(this).data("tokenInputObject", new B.TokenList(this,t,i))
            })
        },
        clear: function() {
            return this.data("tokenInputObject").clear(),
            this
        },
        add: function(t) {
            return this.data("tokenInputObject").add(t),
            this
        },
        remove: function(t) {
            return this.data("tokenInputObject").remove(t),
            this
        },
        get: function() {
            return this.data("tokenInputObject").getTokens()
        },
        toggleDisabled: function(t) {
            return this.data("tokenInputObject").toggleDisabled(t),
            this
        }
    };
    B.fn.tokenInput = function(t) {
        return e[t] ? e[t].apply(this, Array.prototype.slice.call(arguments, 1)) : e.init.apply(this, arguments)
    }
    ,
    B.TokenList = function(t, e, l) {
        function i(t) {
            l.disabled = "boolean" == typeof t ? t : !l.disabled,
            E.prop("disabled", l.disabled),
            F.toggleClass(l.classes.disabled, l.disabled),
            N && u(B(N), j.END),
            I.prop("disabled", l.disabled)
        }
        function s() {
            if (null !== l.tokenLimit && q >= l.tokenLimit)
                return E.hide(),
                void d()
        }
        function n() {
            if (D !== (D = E.val())) {
                var t = D.replace(/&/g, "&amp;").replace(/\s/g, " ").replace(/</g, "&lt;").replace(/>/g, "&gt;");
                $.html(t),
                E.width($.width() + 30)
            }
        }
        function r(t) {
            var e = l.tokenFormatter(t);
            e = B(e).addClass(l.classes.token).insertBefore(H),
            B("<span>" + l.deleteText + "</span>").addClass(l.classes.tokenDelete).appendTo(e).click(function() {
                if (!l.disabled)
                    return h(B(this).parent()),
                    I.change(),
                    !1
            });
            var i = t;
            return B.data(e.get(0), "tokeninput", t),
            M = M.slice(0, O).concat([i]).concat(M.slice(O)),
            O++,
            p(M, I),
            q += 1,
            null !== l.tokenLimit && q >= l.tokenLimit && (E.hide(),
            d()),
            e
        }
        function o(i) {
            var t = l.onAdd;
            if (0 < q && l.preventDuplicates) {
                var n = null;
                if (F.children().each(function() {
                    var t = B(this)
                      , e = B.data(t.get(0), "tokeninput");
                    if (e && e.id === i.id)
                        return n = t,
                        !1
                }),
                n)
                    return a(n),
                    H.insertAfter(n),
                    void S(E)
            }
            (null == l.tokenLimit || q < l.tokenLimit) && (r(i),
            s()),
            E.val(""),
            d(),
            B.isFunction(t) && t.call(I, i)
        }
        function a(t) {
            l.disabled || (t.addClass(l.classes.selectedToken),
            N = t.get(0),
            E.val(""),
            d())
        }
        function u(t, e) {
            t.removeClass(l.classes.selectedToken),
            N = null,
            e === j.BEFORE ? (H.insertBefore(t),
            O--) : e === j.AFTER ? (H.insertAfter(t),
            O++) : (H.appendTo(F),
            O = q),
            S(E)
        }
        function c(t) {
            var e = N;
            N && u(B(N), j.END),
            e === t.get(0) ? u(t, j.END) : a(t)
        }
        function h(t) {
            var e = B.data(t.get(0), "tokeninput")
              , i = l.onDelete
              , n = t.prevAll().length;
            O < n && n--,
            t.remove(),
            N = null,
            S(E),
            M = M.slice(0, n).concat(M.slice(n + 1)),
            n < O && O--,
            p(M, I),
            q -= 1,
            null !== l.tokenLimit && (E.show().val(""),
            S(E)),
            B.isFunction(i) && i.call(I, e)
        }
        function p(t, e) {
            var i = B.map(t, function(t) {
                return "function" == typeof l.tokenValue ? l.tokenValue.call(this, t) : t[l.tokenValue]
            });
            e.val(i.join(l.tokenDelimiter))
        }
        function d() {
            V.hide().empty(),
            R = null
        }
        function f() {
            V.css({
                position: "absolute",
                top: B(F).offset().top + B(F).outerHeight(),
                left: B(F).offset().left,
                width: B(F).outerWidth(),
                "z-index": l.zindex
            }).show()
        }
        function m() {
            l.searchingText && (V.html("<p>" + l.searchingText + "</p>"),
            f())
        }
        function g() {
            l.hintText && (V.html("<p>" + l.hintText + "</p>"),
            f())
        }
        function y(t, e) {
            return t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)(" + e + ")(?![^<>]*>)(?![^&;]+;)","gi"), "<b>$1</b>")
        }
        function _(t, e, i) {
            return t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)(" + e + ")(?![^<>]*>)(?![^&;]+;)","g"), y(e, i))
        }
        function v(n, t) {
            if (t && t.length) {
                V.empty();
                var s = B("<ul>").appendTo(V).mouseover(function(t) {
                    w(B(t.target).closest("li"))
                }).mousedown(function(t) {
                    return o(B(t.target).closest("li").data("tokeninput")),
                    I.change(),
                    !1
                }).hide();
                B.each(t, function(t, e) {
                    var i = l.resultsFormatter(e);
                    i = _(i, e[l.propertyToSearch], n),
                    i = B(i).appendTo(s),
                    t % 2 ? i.addClass(l.classes.dropdownItem) : i.addClass(l.classes.dropdownItem2),
                    0 === t && w(i),
                    B.data(i.get(0), "tokeninput", e)
                }),
                f(),
                l.animateDropdown ? s.slideDown("fast") : s.show()
            } else
                l.noResultsText && (V.html("<p>" + l.noResultsText + "</p>"),
                f())
        }
        function w(t) {
            t && (R && b(B(R)),
            t.addClass(l.classes.selectedDropdownItem),
            R = t.get(0))
        }
        function b(t) {
            t.removeClass(l.classes.selectedDropdownItem),
            R = null
        }
        function x() {
            var t = E.val();
            t && t.length && (N && u(B(N), j.AFTER),
            t.length >= l.minChars ? (m(),
            clearTimeout(A),
            A = setTimeout(function() {
                k(t)
            }, l.searchDelay)) : d())
        }
        function k(e) {
            var i = e + C()
              , t = P.get(i);
            if (t)
                v(e, t);
            else if (l.url) {
                var n = C()
                  , s = {
                    data: {}
                };
                if (-1 < n.indexOf("?")) {
                    var r = n.split("?");
                    s.url = r[0];
                    var o = r[1].split("&");
                    B.each(o, function(t, e) {
                        var i = e.split("=");
                        s.data[i[0]] = i[1]
                    })
                } else
                    s.url = n;
                s.data[l.queryParam] = e,
                s.type = l.method,
                s.dataType = l.contentType,
                l.crossDomain && (s.dataType = "jsonp"),
                s.success = function(t) {
                    B.isFunction(l.onResult) && (t = l.onResult.call(I, t)),
                    P.add(i, l.jsonContainer ? t[l.jsonContainer] : t),
                    E.val() === e && v(e, l.jsonContainer ? t[l.jsonContainer] : t)
                }
                ,
                B.ajax(s)
            } else if (l.local_data) {
                var a = B.grep(l.local_data, function(t) {
                    return -1 < t[l.propertyToSearch].toLowerCase().indexOf(e.toLowerCase())
                });
                B.isFunction(l.onResult) && (a = l.onResult.call(I, a)),
                P.add(i, a),
                v(e, a)
            }
        }
        function C() {
            var t = l.url;
            return "function" == typeof l.url && (t = l.url.call(l)),
            t
        }
        function S(t) {
            setTimeout(function() {
                t.focus()
            }, 50)
        }
        if ("string" === B.type(e) || "function" === B.type(e)) {
            l.url = e;
            var T = C();
            l.crossDomain === undefined && "string" == typeof T && (-1 === T.indexOf("://") ? l.crossDomain = !1 : l.crossDomain = location.href.split(/\/+/g)[1] !== T.split(/\/+/g)[1])
        } else
            "object" == typeof e && (l.local_data = e);
        l.classes ? l.classes = B.extend({}, z, l.classes) : l.theme ? (l.classes = {},
        B.each(z, function(t, e) {
            l.classes[t] = e + "-" + l.theme
        })) : l.classes = z;
        var A, D, M = [], q = 0, P = new B.TokenList.Cache, E = B('<input type="text"  autocomplete="off">').css({
            outline: "none"
        }).attr("id", l.idPrefix + t.id).focus(function() {
            if (l.disabled)
                return !1;
            null !== l.tokenLimit && l.tokenLimit === q || g()
        }).blur(function() {
            d(),
            B(this).val("")
        }).bind("keyup keydown blur update", n).keydown(function(t) {
            var e, i;
            switch (t.keyCode) {
            case J.LEFT:
            case J.RIGHT:
            case J.UP:
            case J.DOWN:
                if (B(this).val()) {
                    var n = null;
                    (n = t.keyCode === J.DOWN || t.keyCode === J.RIGHT ? B(R).next() : B(R).prev()).length && w(n)
                } else
                    e = H.prev(),
                    i = H.next(),
                    e.length && e.get(0) === N || i.length && i.get(0) === N ? t.keyCode === J.LEFT || t.keyCode === J.UP ? u(B(N), j.BEFORE) : u(B(N), j.AFTER) : t.keyCode !== J.LEFT && t.keyCode !== J.UP || !e.length ? t.keyCode !== J.RIGHT && t.keyCode !== J.DOWN || !i.length || a(B(i.get(0))) : a(B(e.get(0)));
                return !1;
            case J.BACKSPACE:
                if (e = H.prev(),
                !B(this).val().length)
                    return N ? (h(B(N)),
                    I.change()) : e.length && a(B(e.get(0))),
                    !1;
                1 === B(this).val().length ? d() : setTimeout(function() {
                    x()
                }, 5);
                break;
            case J.TAB:
            case J.ENTER:
            case J.NUMPAD_ENTER:
            case J.COMMA:
                if (R)
                    return o(B(R).data("tokeninput")),
                    I.change(),
                    !1;
                break;
            case J.ESCAPE:
                return d(),
                !0;
            default:
                String.fromCharCode(t.which) && setTimeout(function() {
                    x()
                }, 5)
            }
        }), I = B(t).hide().val("").focus(function() {
            S(E)
        }).blur(function() {
            E.blur()
        }), N = null, O = 0, R = null, F = B("<ul />").addClass(l.classes.tokenList).click(function(t) {
            var e = B(t.target).closest("li");
            e && e.get(0) && B.data(e.get(0), "tokeninput") ? c(e) : (N && u(B(N), j.END),
            S(E))
        }).mouseover(function(t) {
            var e = B(t.target).closest("li");
            e && N !== this && e.addClass(l.classes.highlightedToken)
        }).mouseout(function(t) {
            var e = B(t.target).closest("li");
            e && N !== this && e.removeClass(l.classes.highlightedToken)
        }).insertBefore(I), H = B("<li />").addClass(l.classes.inputToken).appendTo(F).append(E), V = B("<div>").addClass(l.classes.dropdown).appendTo("body").hide(), $ = B("<tester/>").insertAfter(E).css({
            position: "absolute",
            top: -9999,
            left: -9999,
            width: "auto",
            fontSize: E.css("fontSize"),
            fontFamily: E.css("fontFamily"),
            fontWeight: E.css("fontWeight"),
            letterSpacing: E.css("letterSpacing"),
            whiteSpace: "nowrap"
        });
        I.val("");
        var L = l.prePopulate || I.data("pre");
        l.processPrePopulate && B.isFunction(l.onResult) && (L = l.onResult.call(I, L)),
        L && L.length && B.each(L, function(t, e) {
            r(e),
            s()
        }),
        l.disabled && i(!0),
        B.isFunction(l.onReady) && l.onReady.call(),
        this.clear = function() {
            F.children("li").each(function() {
                0 === B(this).children("input").length && h(B(this))
            })
        }
        ,
        this.add = function(t) {
            o(t)
        }
        ,
        this.remove = function(n) {
            F.children("li").each(function() {
                if (0 === B(this).children("input").length) {
                    var t = B(this).data("tokeninput")
                      , e = !0;
                    for (var i in n)
                        if (n[i] !== t[i]) {
                            e = !1;
                            break
                        }
                    e && h(B(this))
                }
            })
        }
        ,
        this.getTokens = function() {
            return M
        }
        ,
        this.toggleDisabled = function(t) {
            i(t)
        }
    }
    ,
    B.TokenList.Cache = function(t) {
        var i = B.extend({
            max_size: 500
        }, t)
          , n = {}
          , s = 0
          , r = function() {
            n = {},
            s = 0
        };
        this.add = function(t, e) {
            s > i.max_size && r(),
            n[t] || (s += 1),
            n[t] = e
        }
        ,
        this.get = function(t) {
            return n[t]
        }
    }
}(jQuery),
function(p) {
    function i(t) {
        function e() {
            t ? n.removeData(t) : u && delete d[u]
        }
        function i() {
            r.id = setTimeout(function() {
                r.fn()
            }, c)
        }
        var n, s = this, r = {}, o = t ? p.fn : p, a = arguments, l = 4, u = a[1], c = a[2], h = a[3];
        if ("string" != typeof u && (l--,
        u = t = 0,
        c = a[1],
        h = a[2]),
        t ? (n = s.eq(0)).data(t, r = n.data(t) || {}) : u && (r = d[u] || (d[u] = {})),
        r.id && clearTimeout(r.id),
        delete r.id,
        h)
            r.fn = function(t) {
                "string" == typeof h && (h = o[h]),
                !0 !== h.apply(s, f.call(a, l)) || t ? e() : i()
            }
            ,
            i();
        else {
            if (r.fn)
                return c === undefined ? e() : r.fn(!1 === c),
                !0;
            e()
        }
    }
    var d = {}
      , n = "doTimeout"
      , f = Array.prototype.slice;
    p[n] = function() {
        return i.apply(window, [0].concat(f.call(arguments)))
    }
    ,
    p.fn[n] = function() {
        var t = f.call(arguments)
          , e = i.apply(this, [n + t[0]].concat(t));
        return "number" == typeof t[0] || "number" == typeof t[1] ? this : e
    }
}(jQuery),
jQuery.cookie = function(t, e, i) {
    if (!(void 0 !== e || t && "string" != typeof t)) {
        var n = {};
        if (document.cookie)
            for (var s = document.cookie.split(";"), r = 0; r < s.length; r++) {
                var o = jQuery.trim(s[r]);
                if (t) {
                    if (o.substr(0, t.length + 1) == t + "=") {
                        n = decodeURIComponent(o.substr(t.length + 1));
                        break
                    }
                } else {
                    var a = o.indexOf("=");
                    n[o.substr(0, a)] = decodeURIComponent(o.substr(a + 1))
                }
            }
        return n
    }
    if ("string" == typeof t) {
        i = i || {},
        null === e && (e = "",
        i.expires = -1);
        var l, u = "";
        if (i.expires && ("number" == typeof i.expires || i.expires.toUTCString))
            "number" == typeof i.expires ? (l = new Date).setTime(l.getTime() + 24 * i.expires * 60 * 60 * 1e3) : l = i.expires,
            u = "; expires=" + l.toUTCString();
        var c = i.path ? "; path=" + i.path : ""
          , h = i.domain ? "; domain=" + i.domain : ""
          , p = i.secure ? "; secure" : "";
        document.cookie = t + "=" + encodeURIComponent(e) + u + c + h + p
    } else
        for (var d in t)
            jQuery.cookie(d, t[d], e || i)
}
,
function(s) {
    var w = (s.browser.msie ? "paste" : "input") + ".mask"
      , b = window.orientation != undefined;
    s.mask = {
        definitions: {
            9: "[0-9]",
            a: "[A-Za-z]",
            "*": "[A-Za-z0-9]"
        },
        dataName: "rawMaskFn"
    },
    s.fn.extend({
        caret: function(e, i) {
            if (0 != this.length) {
                if ("number" == typeof e)
                    return i = "number" == typeof i ? i : e,
                    this.each(function() {
                        if (this.setSelectionRange)
                            this.setSelectionRange(e, i);
                        else if (this.createTextRange) {
                            var t = this.createTextRange();
                            t.collapse(!0),
                            t.moveEnd("character", i),
                            t.moveStart("character", e),
                            t.select()
                        }
                    });
                if (this[0].setSelectionRange)
                    e = this[0].selectionStart,
                    i = this[0].selectionEnd;
                else if (document.selection && document.selection.createRange) {
                    var t = document.selection.createRange();
                    e = 0 - t.duplicate().moveStart("character", -1e5),
                    i = e + t.text.length
                }
                return {
                    begin: e,
                    end: i
                }
            }
        },
        unmask: function() {
            return this.trigger("unmask")
        },
        mask: function(i, m) {
            if (!i && 0 < this.length)
                return s(this[0]).data(s.mask.dataName)();
            m = s.extend({
                placeholder: "_",
                completed: null
            }, m);
            var n = s.mask.definitions
              , g = []
              , y = i.length
              , _ = null
              , v = i.length;
            return s.each(i.split(""), function(t, e) {
                "?" == e ? (v--,
                y = t) : n[e] ? (g.push(new RegExp(n[e])),
                null == _ && (_ = g.length - 1)) : g.push(null)
            }),
            this.trigger("unmask").each(function() {
                function o(t) {
                    for (; ++t <= v && !g[t]; )
                        ;
                    return t
                }
                function r(t) {
                    for (; 0 <= --t && !g[t]; )
                        ;
                    return t
                }
                function a(t, e) {
                    if (!(t < 0)) {
                        for (var i = t, n = o(e); i < v; i++)
                            if (g[i]) {
                                if (!(n < v && g[i].test(d[n])))
                                    break;
                                d[i] = d[n],
                                d[n] = m.placeholder,
                                n = o(n)
                            }
                        c(),
                        p.caret(Math.max(_, t))
                    }
                }
                function l(t) {
                    for (var e = t, i = m.placeholder; e < v; e++)
                        if (g[e]) {
                            var n = o(e)
                              , s = d[e];
                            if (d[e] = i,
                            !(n < v && g[n].test(s)))
                                break;
                            i = s
                        }
                }
                function t(t) {
                    var e = t.which;
                    if (8 == e || 46 == e || b && 127 == e) {
                        var i = p.caret()
                          , n = i.begin
                          , s = i.end;
                        return s - n == 0 && (n = 46 != e ? r(n) : s = o(n - 1),
                        s = 46 == e ? o(s) : s),
                        u(n, s),
                        a(n, s - 1),
                        !1
                    }
                    if (27 == e)
                        return p.val(f),
                        p.caret(0, h()),
                        !1
                }
                function e(t) {
                    var e = t.which
                      , i = p.caret();
                    if (t.ctrlKey || t.altKey || t.metaKey || e < 32)
                        return !0;
                    if (e) {
                        i.end - i.begin != 0 && (u(i.begin, i.end),
                        a(i.begin, i.end - 1));
                        var n = o(i.begin - 1);
                        if (n < v) {
                            var s = String.fromCharCode(e);
                            if (g[n].test(s)) {
                                l(n),
                                d[n] = s,
                                c();
                                var r = o(n);
                                p.caret(r),
                                m.completed && v <= r && m.completed.call(p)
                            }
                        }
                        return !1
                    }
                }
                function u(t, e) {
                    for (var i = t; i < e && i < v; i++)
                        g[i] && (d[i] = m.placeholder)
                }
                function c() {
                    return p.val(d.join("")).val()
                }
                function h(t) {
                    for (var e = p.val(), i = -1, n = 0, s = 0; n < v; n++)
                        if (g[n]) {
                            for (d[n] = m.placeholder; s++ < e.length; ) {
                                var r = e.charAt(s - 1);
                                if (g[n].test(r)) {
                                    d[n] = r,
                                    i = n;
                                    break
                                }
                            }
                            if (s > e.length)
                                break
                        } else
                            d[n] == e.charAt(s) && n != y && (s++,
                            i = n);
                    return !t && i + 1 < y ? (p.val(""),
                    u(0, v)) : (t || y <= i + 1) && (c(),
                    t || p.val(p.val().substring(0, i + 1))),
                    p.change(),
                    y ? n : _
                }
                var p = s(this)
                  , d = s.map(i.split(""), function(t) {
                    if ("?" != t)
                        return n[t] ? m.placeholder : t
                })
                  , f = p.val();
                p.data(s.mask.dataName, function() {
                    return s.map(d, function(t, e) {
                        return g[e] && t != m.placeholder ? t : null
                    }).join("")
                }),
                p.attr("readonly") || p.one("unmask", function() {
                    p.unbind(".mask").removeData(s.mask.dataName)
                }).bind("focus.mask", function() {
                    f = p.val();
                    var t = h();
                    c();
                    var e = function() {
                        t == i.length ? p.caret(0, t) : p.caret(t)
                    };
                    (s.browser.msie ? e : function() {
                        setTimeout(e, 0)
                    }
                    )()
                }).bind("blur.mask", function() {
                    h(),
                    p.val() != f && p.change()
                }).bind("keydown.mask", t).bind("keypress.mask", e).bind(w, function() {
                    setTimeout(function() {
                        p.caret(h(!0))
                    }, 0)
                }),
                h()
            })
        }
    })
}(jQuery),
function(t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof module && module.exports ? t(require("jquery")) : t(jQuery)
}(function(r) {
    function o(t) {
        var i = {}
          , n = /^jQuery\d+$/;
        return r.each(t.attributes, function(t, e) {
            e.specified && !n.test(e.name) && (i[e.name] = e.value)
        }),
        i
    }
    function a(t, e) {
        var i = this
          , n = r(i);
        if (i.value == n.attr("placeholder") && n.hasClass(p.customClass))
            if (n.data("placeholder-password")) {
                if (n = n.hide().nextAll('input[type="password"]:first').show().attr("id", n.removeAttr("id").data("placeholder-id")),
                !0 === t)
                    return n[0].value = e;
                n.focus()
            } else
                i.value = "",
                n.removeClass(p.customClass),
                i == l() && i.select()
    }
    function s() {
        var t, e = this, i = r(e), n = this.id;
        if ("" === e.value) {
            if ("password" === e.type) {
                if (!i.data("placeholder-textinput")) {
                    try {
                        t = i.clone().prop({
                            type: "text"
                        })
                    } catch (s) {
                        t = r("<input>").attr(r.extend(o(this), {
                            type: "text"
                        }))
                    }
                    t.removeAttr("name").data({
                        "placeholder-password": i,
                        "placeholder-id": n
                    }).bind("focus.placeholder", a),
                    i.data({
                        "placeholder-textinput": t,
                        "placeholder-id": n
                    }).before(t)
                }
                i = i.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id", n).show()
            }
            i.addClass(p.customClass),
            i[0].value = i.attr("placeholder")
        } else
            i.removeClass(p.customClass)
    }
    function l() {
        try {
            return document.activeElement
        } catch (t) {}
    }
    var t, e, i = "[object OperaMini]" == Object.prototype.toString.call(window.operamini), n = "placeholder"in document.createElement("input") && !i, u = "placeholder"in document.createElement("textarea") && !i, c = r.valHooks, h = r.propHooks;
    if (n && u)
        (e = r.fn.placeholder = function() {
            return this
        }
        ).input = e.textarea = !0;
    else {
        var p = {};
        (e = r.fn.placeholder = function(t) {
            var e = {
                customClass: "placeholder"
            };
            p = r.extend({}, e, t);
            var i = this;
            return i.filter((n ? "textarea" : ":input") + "[placeholder]").not("." + p.customClass).bind({
                "focus.placeholder": a,
                "blur.placeholder": s
            }).data("placeholder-enabled", !0).trigger("blur.placeholder"),
            i
        }
        ).input = n,
        e.textarea = u,
        t = {
            get: function(t) {
                var e = r(t)
                  , i = e.data("placeholder-password");
                return i ? i[0].value : e.data("placeholder-enabled") && e.hasClass(p.customClass) ? "" : t.value
            },
            set: function(t, e) {
                var i = r(t)
                  , n = i.data("placeholder-password");
                return n ? n[0].value = e : i.data("placeholder-enabled") ? ("" === e ? (t.value = e,
                t != l() && s.call(t)) : i.hasClass(p.customClass) && a.call(t, !0, e) || (t.value = e),
                i) : t.value = e
            }
        },
        n || (c.input = t,
        h.value = t),
        u || (c.textarea = t,
        h.value = t),
        r(function() {
            r(document).delegate("form", "submit.placeholder", function() {
                var t = r("." + p.customClass, this).each(a);
                setTimeout(function() {
                    t.each(s)
                }, 10)
            })
        }),
        r(window).bind("beforeunload.placeholder", function() {
            r("." + p.customClass).each(function() {
                this.value = ""
            })
        })
    }
}),
Date.CultureInfo = {
    name: "en-US",
    englishName: "English (United States)",
    nativeName: "English (United States)",
    dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
    abbreviatedDayNames: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
    shortestDayNames: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
    firstLetterDayNames: ["S", "M", "T", "W", "T", "F", "S"],
    monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
    abbreviatedMonthNames: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
    amDesignator: "AM",
    pmDesignator: "PM",
    firstDayOfWeek: 0,
    twoDigitYearMax: 2029,
    dateElementOrder: "mdy",
    formatPatterns: {
        shortDate: "M/d/yyyy",
        longDate: "dddd, MMMM dd, yyyy",
        shortTime: "h:mm tt",
        longTime: "h:mm:ss tt",
        fullDateTime: "dddd, MMMM dd, yyyy h:mm:ss tt",
        sortableDateTime: "yyyy-MM-ddTHH:mm:ss",
        universalSortableDateTime: "yyyy-MM-dd HH:mm:ssZ",
        rfc1123: "ddd, dd MMM yyyy HH:mm:ss GMT",
        monthDay: "MMMM dd",
        yearMonth: "MMMM, yyyy"
    },
    regexPatterns: {
        jan: /^jan(uary)?/i,
        feb: /^feb(ruary)?/i,
        mar: /^mar(ch)?/i,
        apr: /^apr(il)?/i,
        may: /^may/i,
        jun: /^jun(e)?/i,
        jul: /^jul(y)?/i,
        aug: /^aug(ust)?/i,
        sep: /^sep(t(ember)?)?/i,
        oct: /^oct(ober)?/i,
        nov: /^nov(ember)?/i,
        dec: /^dec(ember)?/i,
        sun: /^su(n(day)?)?/i,
        mon: /^mo(n(day)?)?/i,
        tue: /^tu(e(s(day)?)?)?/i,
        wed: /^we(d(nesday)?)?/i,
        thu: /^th(u(r(s(day)?)?)?)?/i,
        fri: /^fr(i(day)?)?/i,
        sat: /^sa(t(urday)?)?/i,
        future: /^next/i,
        past: /^last|past|prev(ious)?/i,
        add: /^(\+|after|from)/i,
        subtract: /^(\-|before|ago)/i,
        yesterday: /^yesterday/i,
        today: /^t(oday)?/i,
        tomorrow: /^tomorrow/i,
        now: /^n(ow)?/i,
        millisecond: /^ms|milli(second)?s?/i,
        second: /^sec(ond)?s?/i,
        minute: /^min(ute)?s?/i,
        hour: /^h(ou)?rs?/i,
        week: /^w(ee)?k/i,
        month: /^m(o(nth)?s?)?/i,
        day: /^d(ays?)?/i,
        year: /^y((ea)?rs?)?/i,
        shortMeridian: /^(a|p)/i,
        longMeridian: /^(a\.?m?\.?|p\.?m?\.?)/i,
        timezone: /^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,
        ordinalSuffix: /^\s*(st|nd|rd|th)/i,
        timeContext: /^\s*(\:|a|p)/i
    },
    abbreviatedTimeZoneStandard: {
        GMT: "-000",
        EST: "-0400",
        CST: "-0500",
        MST: "-0600",
        PST: "-0700"
    },
    abbreviatedTimeZoneDST: {
        GMT: "-000",
        EDT: "-0500",
        CDT: "-0600",
        MDT: "-0700",
        PDT: "-0800"
    }
},
Date.getMonthNumberFromName = function(t) {
    for (var e = Date.CultureInfo.monthNames, i = Date.CultureInfo.abbreviatedMonthNames, n = t.toLowerCase(), s = 0; s < e.length; s++)
        if (e[s].toLowerCase() == n || i[s].toLowerCase() == n)
            return s;
    return -1
}
,
Date.getDayNumberFromName = function(t) {
    for (var e = Date.CultureInfo.dayNames, i = Date.CultureInfo.abbreviatedDayNames, n = (Date.CultureInfo.shortestDayNames,
    t.toLowerCase()), s = 0; s < e.length; s++)
        if (e[s].toLowerCase() == n || i[s].toLowerCase() == n)
            return s;
    return -1
}
,
Date.isLeapYear = function(t) {
    return t % 4 == 0 && t % 100 != 0 || t % 400 == 0
}
,
Date.getDaysInMonth = function(t, e) {
    return [31, Date.isLeapYear(t) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][e]
}
,
Date.getTimezoneOffset = function(t, e) {
    return e ? Date.CultureInfo.abbreviatedTimeZoneDST[t.toUpperCase()] : Date.CultureInfo.abbreviatedTimeZoneStandard[t.toUpperCase()]
}
,
Date.getTimezoneAbbreviation = function(t, e) {
    var i, n = e ? Date.CultureInfo.abbreviatedTimeZoneDST : Date.CultureInfo.abbreviatedTimeZoneStandard;
    for (i in n)
        if (n[i] === t)
            return i;
    return null
}
,
Date.prototype.clone = function() {
    return new Date(this.getTime())
}
,
Date.prototype.compareTo = function(t) {
    if (isNaN(this))
        throw new Error(this);
    if (t instanceof Date && !isNaN(t))
        return t < this ? 1 : this < t ? -1 : 0;
    throw new TypeError(t)
}
,
Date.prototype.equals = function(t) {
    return 0 === this.compareTo(t)
}
,
Date.prototype.between = function(t, e) {
    var i = this.getTime();
    return i >= t.getTime() && i <= e.getTime()
}
,
Date.prototype.addMilliseconds = function(t) {
    return this.setMilliseconds(this.getMilliseconds() + t),
    this
}
,
Date.prototype.addSeconds = function(t) {
    return this.addMilliseconds(1e3 * t)
}
,
Date.prototype.addMinutes = function(t) {
    return this.addMilliseconds(6e4 * t)
}
,
Date.prototype.addHours = function(t) {
    return this.addMilliseconds(36e5 * t)
}
,
Date.prototype.addDays = function(t) {
    return this.addMilliseconds(864e5 * t)
}
,
Date.prototype.addWeeks = function(t) {
    return this.addMilliseconds(6048e5 * t)
}
,
Date.prototype.addMonths = function(t) {
    var e = this.getDate();
    return this.setDate(1),
    this.setMonth(this.getMonth() + t),
    this.setDate(Math.min(e, this.getDaysInMonth())),
    this
}
,
Date.prototype.addYears = function(t) {
    return this.addMonths(12 * t)
}
,
Date.prototype.add = function(t) {
    if ("number" == typeof t)
        return this._orient = t,
        this;
    var e = t;
    return (e.millisecond || e.milliseconds) && this.addMilliseconds(e.millisecond || e.milliseconds),
    (e.second || e.seconds) && this.addSeconds(e.second || e.seconds),
    (e.minute || e.minutes) && this.addMinutes(e.minute || e.minutes),
    (e.hour || e.hours) && this.addHours(e.hour || e.hours),
    (e.month || e.months) && this.addMonths(e.month || e.months),
    (e.year || e.years) && this.addYears(e.year || e.years),
    (e.day || e.days) && this.addDays(e.day || e.days),
    this
}
,
Date._validate = function(t, e, i, n) {
    if ("number" != typeof t)
        throw new TypeError(t + " is not a Number.");
    if (t < e || i < t)
        throw new RangeError(t + " is not a valid value for " + n + ".");
    return !0
}
,
Date.validateMillisecond = function(t) {
    return Date._validate(t, 0, 999, "milliseconds")
}
,
Date.validateSecond = function(t) {
    return Date._validate(t, 0, 59, "seconds")
}
,
Date.validateMinute = function(t) {
    return Date._validate(t, 0, 59, "minutes")
}
,
Date.validateHour = function(t) {
    return Date._validate(t, 0, 23, "hours")
}
,
Date.validateDay = function(t, e, i) {
    return Date._validate(t, 1, Date.getDaysInMonth(e, i), "days")
}
,
Date.validateMonth = function(t) {
    return Date._validate(t, 0, 11, "months")
}
,
Date.validateYear = function(t) {
    return Date._validate(t, 1, 9999, "seconds")
}
,
Date.prototype.set = function(t) {
    var e = t;
    return e.millisecond || 0 === e.millisecond || (e.millisecond = -1),
    e.second || 0 === e.second || (e.second = -1),
    e.minute || 0 === e.minute || (e.minute = -1),
    e.hour || 0 === e.hour || (e.hour = -1),
    e.day || 0 === e.day || (e.day = -1),
    e.month || 0 === e.month || (e.month = -1),
    e.year || 0 === e.year || (e.year = -1),
    -1 != e.millisecond && Date.validateMillisecond(e.millisecond) && this.addMilliseconds(e.millisecond - this.getMilliseconds()),
    -1 != e.second && Date.validateSecond(e.second) && this.addSeconds(e.second - this.getSeconds()),
    -1 != e.minute && Date.validateMinute(e.minute) && this.addMinutes(e.minute - this.getMinutes()),
    -1 != e.hour && Date.validateHour(e.hour) && this.addHours(e.hour - this.getHours()),
    -1 !== e.month && Date.validateMonth(e.month) && this.addMonths(e.month - this.getMonth()),
    -1 != e.year && Date.validateYear(e.year) && this.addYears(e.year - this.getFullYear()),
    -1 != e.day && Date.validateDay(e.day, this.getFullYear(), this.getMonth()) && this.addDays(e.day - this.getDate()),
    e.timezone && this.setTimezone(e.timezone),
    e.timezoneOffset && this.setTimezoneOffset(e.timezoneOffset),
    this
}
,
Date.prototype.clearTime = function() {
    return this.setHours(0),
    this.setMinutes(0),
    this.setSeconds(0),
    this.setMilliseconds(0),
    this
}
,
Date.prototype.isLeapYear = function() {
    var t = this.getFullYear();
    return t % 4 == 0 && t % 100 != 0 || t % 400 == 0
}
,
Date.prototype.isWeekday = function() {
    return !(this.is().sat() || this.is().sun())
}
,
Date.prototype.getDaysInMonth = function() {
    return Date.getDaysInMonth(this.getFullYear(), this.getMonth())
}
,
Date.prototype.moveToFirstDayOfMonth = function() {
    return this.set({
        day: 1
    })
}
,
Date.prototype.moveToLastDayOfMonth = function() {
    return this.set({
        day: this.getDaysInMonth()
    })
}
,
Date.prototype.moveToDayOfWeek = function(t, e) {
    var i = (t - this.getDay() + 7 * (e || 1)) % 7;
    return this.addDays(0 === i ? i += 7 * (e || 1) : i)
}
,
Date.prototype.moveToMonth = function(t, e) {
    var i = (t - this.getMonth() + 12 * (e || 1)) % 12;
    return this.addMonths(0 === i ? i += 12 * (e || 1) : i)
}
,
Date.prototype.getDayOfYear = function() {
    return Math.floor((this - new Date(this.getFullYear(),0,1)) / 864e5)
}
,
Date.prototype.getWeekOfYear = function(t) {
    var e = this.getFullYear()
      , i = this.getMonth()
      , n = this.getDate()
      , s = t || Date.CultureInfo.firstDayOfWeek
      , r = 8 - new Date(e,0,1).getDay();
    8 == r && (r = 1);
    var o = (Date.UTC(e, i, n, 0, 0, 0) - Date.UTC(e, 0, 1, 0, 0, 0)) / 864e5 + 1
      , a = Math.floor((o - r + 7) / 7);
    if (a === s) {
        e--;
        var l = 8 - new Date(e,0,1).getDay();
        a = 2 == l || 8 == l ? 53 : 52
    }
    return a
}
,
Date.prototype.isDST = function() {
    return console.log("isDST"),
    "D" == this.toString().match(/(E|C|M|P)(S|D)T/)[2]
}
,
Date.prototype.getTimezone = function() {
    return Date.getTimezoneAbbreviation(this.getUTCOffset, this.isDST())
}
,
Date.prototype.setTimezoneOffset = function(t) {
    var e = this.getTimezoneOffset()
      , i = -6 * Number(t) / 10;
    return this.addMinutes(i - e),
    this
}
,
Date.prototype.setTimezone = function(t) {
    return this.setTimezoneOffset(Date.getTimezoneOffset(t))
}
,
Date.prototype.getUTCOffset = function() {
    var t, e = -10 * this.getTimezoneOffset() / 6;
    return e < 0 ? (t = (e - 1e4).toString())[0] + t.substr(2) : "+" + (t = (e + 1e4).toString()).substr(1)
}
,
Date.prototype.getDayName = function(t) {
    return t ? Date.CultureInfo.abbreviatedDayNames[this.getDay()] : Date.CultureInfo.dayNames[this.getDay()]
}
,
Date.prototype.getMonthName = function(t) {
    return t ? Date.CultureInfo.abbreviatedMonthNames[this.getMonth()] : Date.CultureInfo.monthNames[this.getMonth()]
}
,
Date.prototype._toString = Date.prototype.toString,
Date.prototype.toString = function(t) {
    var e = this
      , i = function i(t) {
        return 1 == t.toString().length ? "0" + t : t
    };
    return t ? t.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g, function(t) {
        switch (t) {
        case "hh":
            return i(e.getHours() < 13 ? e.getHours() : e.getHours() - 12);
        case "h":
            return e.getHours() < 13 ? e.getHours() : e.getHours() - 12;
        case "HH":
            return i(e.getHours());
        case "H":
            return e.getHours();
        case "mm":
            return i(e.getMinutes());
        case "m":
            return e.getMinutes();
        case "ss":
            return i(e.getSeconds());
        case "s":
            return e.getSeconds();
        case "yyyy":
            return e.getFullYear();
        case "yy":
            return e.getFullYear().toString().substring(2, 4);
        case "dddd":
            return e.getDayName();
        case "ddd":
            return e.getDayName(!0);
        case "dd":
            return i(e.getDate());
        case "d":
            return e.getDate().toString();
        case "MMMM":
            return e.getMonthName();
        case "MMM":
            return e.getMonthName(!0);
        case "MM":
            return i(e.getMonth() + 1);
        case "M":
            return e.getMonth() + 1;
        case "t":
            return e.getHours() < 12 ? Date.CultureInfo.amDesignator.substring(0, 1) : Date.CultureInfo.pmDesignator.substring(0, 1);
        case "tt":
            return e.getHours() < 12 ? Date.CultureInfo.amDesignator : Date.CultureInfo.pmDesignator;
        case "zzz":
        case "zz":
        case "z":
            return ""
        }
    }) : this._toString()
}
,
Date.now = function() {
    return new Date
}
,
Date.today = function() {
    return Date.now().clearTime()
}
,
Date.prototype._orient = 1,
Date.prototype.next = function() {
    return this._orient = 1,
    this
}
,
Date.prototype.last = Date.prototype.prev = Date.prototype.previous = function() {
    return this._orient = -1,
    this
}
,
Date.prototype._is = !1,
Date.prototype.is = function() {
    return this._is = !0,
    this
}
,
Number.prototype._dateElement = "day",
Number.prototype.fromNow = function() {
    var t = {};
    return t[this._dateElement] = this,
    Date.now().add(t)
}
,
Number.prototype.ago = function() {
    var t = {};
    return t[this._dateElement] = -1 * this,
    Date.now().add(t)
}
,
function() {
    for (var t, e = Date.prototype, i = Number.prototype, n = "sunday monday tuesday wednesday thursday friday saturday".split(/\s/), s = "january february march april may june july august september october november december".split(/\s/), r = "Millisecond Second Minute Hour Day Week Month Year".split(/\s/), o = function(t) {
        return function() {
            return this._is ? (this._is = !1,
            this.getDay() == t) : this.moveToDayOfWeek(t, this._orient)
        }
    }, a = 0; a < n.length; a++)
        e[n[a]] = e[n[a].substring(0, 3)] = o(a);
    for (var l = function(t) {
        return function() {
            return this._is ? (this._is = !1,
            this.getMonth() === t) : this.moveToMonth(t, this._orient)
        }
    }, u = 0; u < s.length; u++)
        e[s[u]] = e[s[u].substring(0, 3)] = l(u);
    for (var c = function(t) {
        return function() {
            return "s" != t.substring(t.length - 1) && (t += "s"),
            this["add" + t](this._orient)
        }
    }, h = function(t) {
        return function() {
            return this._dateElement = t,
            this
        }
    }, p = 0; p < r.length; p++)
        e[t = r[p].toLowerCase()] = e[t + "s"] = c(r[p]),
        i[t] = i[t + "s"] = h(t)
}(),
Date.prototype.toJSONString = function() {
    return this.toString("yyyy-MM-ddThh:mm:ssZ")
}
,
Date.prototype.toShortDateString = function() {
    return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)
}
,
Date.prototype.toLongDateString = function() {
    return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)
}
,
Date.prototype.toShortTimeString = function() {
    return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)
}
,
Date.prototype.toLongTimeString = function() {
    return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)
}
,
Date.prototype.getOrdinal = function() {
    switch (this.getDate()) {
    case 1:
    case 21:
    case 31:
        return "st";
    case 2:
    case 22:
        return "nd";
    case 3:
    case 23:
        return "rd";
    default:
        return "th"
    }
}
,
function() {
    Date.Parsing = {
        Exception: function(t) {
            this.message = "Parse error at '" + t.substring(0, 10) + " ...'"
        }
    };
    for (var g = Date.Parsing, y = g.Operators = {
        rtoken: function(i) {
            return function(t) {
                var e = t.match(i);
                if (e)
                    return [e[0], t.substring(e[0].length)];
                throw new g.Exception(t)
            }
        },
        token: function() {
            return function(t) {
                return y.rtoken(new RegExp("^s*" + t + "s*"))(t)
            }
        },
        stoken: function(t) {
            return y.rtoken(new RegExp("^" + t))
        },
        until: function(s) {
            return function(t) {
                for (var e = [], i = null; t.length; ) {
                    try {
                        i = s.call(this, t)
                    } catch (n) {
                        e.push(i[0]),
                        t = i[1];
                        continue
                    }
                    break
                }
                return [e, t]
            }
        },
        many: function(s) {
            return function(t) {
                for (var e = [], i = null; t.length; ) {
                    try {
                        i = s.call(this, t)
                    } catch (n) {
                        return [e, t]
                    }
                    e.push(i[0]),
                    t = i[1]
                }
                return [e, t]
            }
        },
        optional: function(n) {
            return function(t) {
                var e = null;
                try {
                    e = n.call(this, t)
                } catch (i) {
                    return [null, t]
                }
                return [e[0], e[1]]
            }
        },
        not: function(i) {
            return function(t) {
                try {
                    i.call(this, t)
                } catch (e) {
                    return [null, t]
                }
                throw new g.Exception(t)
            }
        },
        ignore: function(e) {
            return e ? function(t) {
                return [null, e.call(this, t)[1]]
            }
            : null
        },
        product: function(t) {
            for (var e = t, i = Array.prototype.slice.call(arguments, 1), n = [], s = 0; s < e.length; s++)
                n.push(y.each(e[s], i));
            return n
        },
        cache: function(i) {
            var n = {}
              , s = null;
            return function(t) {
                try {
                    s = n[t] = n[t] || i.call(this, t)
                } catch (e) {
                    s = n[t] = e
                }
                if (s instanceof g.Exception)
                    throw s;
                return s
            }
        },
        any: function() {
            var s = arguments;
            return function(t) {
                for (var e = null, i = 0; i < s.length; i++)
                    if (null != s[i]) {
                        try {
                            e = s[i].call(this, t)
                        } catch (n) {
                            e = null
                        }
                        if (e)
                            return e
                    }
                throw new g.Exception(t)
            }
        },
        each: function() {
            var r = arguments;
            return function(t) {
                for (var e = [], i = null, n = 0; n < r.length; n++)
                    if (null != r[n]) {
                        try {
                            i = r[n].call(this, t)
                        } catch (s) {
                            throw new g.Exception(t)
                        }
                        e.push(i[0]),
                        t = i[1]
                    }
                return [e, t]
            }
        },
        all: function() {
            var t = arguments
              , e = e;
            return e.each(e.optional(t))
        },
        sequence: function(l, u, c) {
            return u = u || y.rtoken(/^\s*/),
            c = c || null,
            1 == l.length ? l[0] : function(t) {
                for (var e = null, i = null, n = [], s = 0; s < l.length; s++) {
                    try {
                        e = l[s].call(this, t)
                    } catch (r) {
                        break
                    }
                    n.push(e[0]);
                    try {
                        i = u.call(this, e[1])
                    } catch (o) {
                        i = null;
                        break
                    }
                    t = i[1]
                }
                if (!e)
                    throw new g.Exception(t);
                if (i)
                    throw new g.Exception(i[1]);
                if (c)
                    try {
                        e = c.call(this, e[1])
                    } catch (a) {
                        throw new g.Exception(e[1])
                    }
                return [n, e ? e[1] : t]
            }
        },
        between: function(t, e, i) {
            i = i || t;
            var n = y.each(y.ignore(t), e, y.ignore(i));
            return function(t) {
                var e = n.call(this, t);
                return [[e[0][0], r[0][2]], e[1]]
            }
        },
        list: function(t, e, i) {
            return e = e || y.rtoken(/^\s*/),
            i = i || null,
            t instanceof Array ? y.each(y.product(t.slice(0, -1), y.ignore(e)), t.slice(-1), y.ignore(i)) : y.each(y.many(y.each(t, y.ignore(e))), px, y.ignore(i))
        },
        set: function(d, f, m) {
            return f = f || y.rtoken(/^\s*/),
            m = m || null,
            function(t) {
                for (var e = null, i = null, n = null, s = null, r = [[], t], o = !1, a = 0; a < d.length; a++) {
                    e = i = n = null,
                    o = 1 == d.length;
                    try {
                        e = d[a].call(this, t)
                    } catch (c) {
                        continue
                    }
                    if (s = [[e[0]], e[1]],
                    0 < e[1].length && !o)
                        try {
                            n = f.call(this, e[1])
                        } catch (h) {
                            o = !0
                        }
                    else
                        o = !0;
                    if (o || 0 !== n[1].length || (o = !0),
                    !o) {
                        for (var l = [], u = 0; u < d.length; u++)
                            a != u && l.push(d[u]);
                        0 < (i = y.set(l, f).call(this, n[1]))[0].length && (s[0] = s[0].concat(i[0]),
                        s[1] = i[1])
                    }
                    if (s[1].length < r[1].length && (r = s),
                    0 === r[1].length)
                        break
                }
                if (0 === r[0].length)
                    return r;
                if (m) {
                    try {
                        n = m.call(this, r[1])
                    } catch (p) {
                        throw new g.Exception(r[1])
                    }
                    r[1] = n[1]
                }
                return r
            }
        },
        forward: function(e, i) {
            return function(t) {
                return e[i].call(this, t)
            }
        },
        replace: function(i, n) {
            return function(t) {
                var e = i.call(this, t);
                return [n, e[1]]
            }
        },
        process: function(i, n) {
            return function(t) {
                var e = i.call(this, t);
                return [n.call(this, e[0]), e[1]]
            }
        },
        min: function(i, n) {
            return function(t) {
                var e = n.call(this, t);
                if (e[0].length < i)
                    throw new g.Exception(t);
                return e
            }
        }
    }, t = function(r) {
        return function(t) {
            var e = null
              , i = [];
            if (1 < arguments.length ? e = Array.prototype.slice.call(arguments) : t instanceof Array && (e = t),
            !e)
                return r.apply(null, arguments);
            for (var n = 0, s = e.shift(); n < s.length; n++)
                return e.unshift(s[n]),
                i.push(r.apply(null, e)),
                e.shift(),
                i
        }
    }, e = "optional not ignore cache".split(/\s/), i = 0; i < e.length; i++)
        y[e[i]] = t(y[e[i]]);
    for (var n = function(e) {
        return function(t) {
            return t instanceof Array ? e.apply(null, t) : e.apply(null, arguments)
        }
    }, s = "each any all".split(/\s/), o = 0; o < s.length; o++)
        y[s[o]] = n(y[s[o]])
}(),
function() {
    var o = function(t) {
        for (var e = [], i = 0; i < t.length; i++)
            t[i]instanceof Array ? e = e.concat(o(t[i])) : t[i] && e.push(t[i]);
        return e
    };
    Date.Grammar = {},
    Date.Translator = {
        hour: function(t) {
            return function() {
                this.hour = Number(t)
            }
        },
        minute: function(t) {
            return function() {
                this.minute = Number(t)
            }
        },
        second: function(t) {
            return function() {
                this.second = Number(t)
            }
        },
        meridian: function(t) {
            return function() {
                this.meridian = t.slice(0, 1).toLowerCase()
            }
        },
        timezone: function(e) {
            return function() {
                var t = e.replace(/[^\d\+\-]/g, "");
                t.length ? this.timezoneOffset = Number(t) : this.timezone = e.toLowerCase()
            }
        },
        day: function(t) {
            var e = t[0];
            return function() {
                this.day = Number(e.match(/\d+/)[0])
            }
        },
        month: function(t) {
            return function() {
                this.month = 3 == t.length ? Date.getMonthNumberFromName(t) : Number(t) - 1
            }
        },
        year: function(e) {
            return function() {
                var t = Number(e);
                this.year = 2 < e.length ? t : t + (t + 2e3 < Date.CultureInfo.twoDigitYearMax ? 2e3 : 1900)
            }
        },
        rday: function(t) {
            return function() {
                switch (t) {
                case "yesterday":
                    this.days = -1;
                    break;
                case "tomorrow":
                    this.days = 1;
                    break;
                case "today":
                    this.days = 0;
                    break;
                case "now":
                    this.days = 0,
                    this.now = !0
                }
            }
        },
        finishExact: function(t) {
            t = t instanceof Array ? t : [t];
            var e = new Date;
            this.year = e.getFullYear(),
            this.month = e.getMonth(),
            this.day = 1,
            this.hour = 0,
            this.minute = 0;
            for (var i = this.second = 0; i < t.length; i++)
                t[i] && t[i].call(this);
            if (this.hour = "p" == this.meridian && this.hour < 13 ? this.hour + 12 : this.hour,
            this.day > Date.getDaysInMonth(this.year, this.month))
                throw new RangeError(this.day + " is not a valid value for days.");
            var n = new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);
            return this.timezone ? n.set({
                timezone: this.timezone
            }) : this.timezoneOffset && n.set({
                timezoneOffset: this.timezoneOffset
            }),
            n
        },
        finish: function(t) {
            if (0 === (t = t instanceof Array ? o(t) : [t]).length)
                return null;
            for (var e = 0; e < t.length; e++)
                "function" == typeof t[e] && t[e].call(this);
            if (this.now)
                return new Date;
            var i, n, s, r = Date.today();
            return !(null == this.days && !this.orient && !this.operator) ? (s = "past" == this.orient || "subtract" == this.operator ? -1 : 1,
            this.weekday && (this.unit = "day",
            i = Date.getDayNumberFromName(this.weekday) - r.getDay(),
            n = 7,
            this.days = i ? (i + s * n) % n : s * n),
            this.month && (this.unit = "month",
            i = this.month - r.getMonth(),
            n = 12,
            this.months = i ? (i + s * n) % n : s * n,
            this.month = null),
            this.unit || (this.unit = "day"),
            null != this[this.unit + "s"] && null == this.operator || (this.value || (this.value = 1),
            "week" == this.unit && (this.unit = "day",
            this.value = 7 * this.value),
            this[this.unit + "s"] = this.value * s),
            r.add(this)) : (this.meridian && this.hour && (this.hour = this.hour < 13 && "p" == this.meridian ? this.hour + 12 : this.hour),
            this.weekday && !this.day && (this.day = r.addDays(Date.getDayNumberFromName(this.weekday) - r.getDay()).getDate()),
            this.month && !this.day && (this.day = 1),
            r.set(this))
        }
    };
    var t, a = Date.Parsing.Operators, n = Date.Grammar, e = Date.Translator;
    n.datePartDelimiter = a.rtoken(/^([\s\-\.\,\/\x27]+)/),
    n.timePartDelimiter = a.stoken(":"),
    n.whiteSpace = a.rtoken(/^\s*/),
    n.generalDelimiter = a.rtoken(/^(([\s\,]|at|on)+)/);
    var l = {};
    n.ctoken = function(t) {
        var e = l[t];
        if (!e) {
            for (var i = Date.CultureInfo.regexPatterns, n = t.split(/\s+/), s = [], r = 0; r < n.length; r++)
                s.push(a.replace(a.rtoken(i[n[r]]), n[r]));
            e = l[t] = a.any.apply(null, s)
        }
        return e
    }
    ,
    n.ctoken2 = function(t) {
        return a.rtoken(Date.CultureInfo.regexPatterns[t])
    }
    ,
    n.h = a.cache(a.process(a.rtoken(/^(0[0-9]|1[0-2]|[1-9])/), e.hour)),
    n.hh = a.cache(a.process(a.rtoken(/^(0[0-9]|1[0-2])/), e.hour)),
    n.H = a.cache(a.process(a.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/), e.hour)),
    n.HH = a.cache(a.process(a.rtoken(/^([0-1][0-9]|2[0-3])/), e.hour)),
    n.m = a.cache(a.process(a.rtoken(/^([0-5][0-9]|[0-9])/), e.minute)),
    n.mm = a.cache(a.process(a.rtoken(/^[0-5][0-9]/), e.minute)),
    n.s = a.cache(a.process(a.rtoken(/^([0-5][0-9]|[0-9])/), e.second)),
    n.ss = a.cache(a.process(a.rtoken(/^[0-5][0-9]/), e.second)),
    n.hms = a.cache(a.sequence([n.H, n.mm, n.ss], n.timePartDelimiter)),
    n.t = a.cache(a.process(n.ctoken2("shortMeridian"), e.meridian)),
    n.tt = a.cache(a.process(n.ctoken2("longMeridian"), e.meridian)),
    n.z = a.cache(a.process(a.rtoken(/^(\+|\-)?\s*\d\d\d\d?/), e.timezone)),
    n.zz = a.cache(a.process(a.rtoken(/^(\+|\-)\s*\d\d\d\d/), e.timezone)),
    n.zzz = a.cache(a.process(n.ctoken2("timezone"), e.timezone)),
    n.timeSuffix = a.each(a.ignore(n.whiteSpace), a.set([n.tt, n.zzz])),
    n.time = a.each(a.optional(a.ignore(a.stoken("T"))), n.hms, n.timeSuffix),
    n.d = a.cache(a.process(a.each(a.rtoken(/^([0-2]\d|3[0-1]|\d)/), a.optional(n.ctoken2("ordinalSuffix"))), e.day)),
    n.dd = a.cache(a.process(a.each(a.rtoken(/^([0-2]\d|3[0-1])/), a.optional(n.ctoken2("ordinalSuffix"))), e.day)),
    n.ddd = n.dddd = a.cache(a.process(n.ctoken("sun mon tue wed thu fri sat"), function(t) {
        return function() {
            this.weekday = t
        }
    })),
    n.M = a.cache(a.process(a.rtoken(/^(1[0-2]|0\d|\d)/), e.month)),
    n.MM = a.cache(a.process(a.rtoken(/^(1[0-2]|0\d)/), e.month)),
    n.MMM = n.MMMM = a.cache(a.process(n.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"), e.month)),
    n.y = a.cache(a.process(a.rtoken(/^(\d\d?)/), e.year)),
    n.yy = a.cache(a.process(a.rtoken(/^(\d\d)/), e.year)),
    n.yyy = a.cache(a.process(a.rtoken(/^(\d\d?\d?\d?)/), e.year)),
    n.yyyy = a.cache(a.process(a.rtoken(/^(\d\d\d\d)/), e.year)),
    t = function() {
        return a.each(a.any.apply(null, arguments), a.not(n.ctoken2("timeContext")))
    }
    ,
    n.day = t(n.d, n.dd),
    n.month = t(n.M, n.MMM),
    n.year = t(n.yyyy, n.yy),
    n.orientation = a.process(n.ctoken("past future"), function(t) {
        return function() {
            this.orient = t
        }
    }),
    n.operator = a.process(n.ctoken("add subtract"), function(t) {
        return function() {
            this.operator = t
        }
    }),
    n.rday = a.process(n.ctoken("yesterday tomorrow today now"), e.rday),
    n.unit = a.process(n.ctoken("minute hour day week month year"), function(t) {
        return function() {
            this.unit = t
        }
    }),
    n.value = a.process(a.rtoken(/^\d\d?(st|nd|rd|th)?/), function(t) {
        return function() {
            this.value = t.replace(/\D/g, "")
        }
    }),
    n.expression = a.set([n.rday, n.operator, n.value, n.unit, n.orientation, n.ddd, n.MMM]),
    t = function() {
        return a.set(arguments, n.datePartDelimiter)
    }
    ,
    n.mdy = t(n.ddd, n.month, n.day, n.year),
    n.ymd = t(n.ddd, n.year, n.month, n.day),
    n.dmy = t(n.ddd, n.day, n.month, n.year),
    n.date = function(t) {
        return (n[Date.CultureInfo.dateElementOrder] || n.mdy).call(this, t)
    }
    ,
    n.format = a.process(a.many(a.any(a.process(a.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/), function(t) {
        if (n[t])
            return n[t];
        throw Date.Parsing.Exception(t)
    }), a.process(a.rtoken(/^[^dMyhHmstz]+/), function(t) {
        return a.ignore(a.stoken(t))
    }))), function(t) {
        return a.process(a.each.apply(null, t), e.finishExact)
    });
    var i = {}
      , s = function(t) {
        return i[t] = i[t] || n.format(t)[0]
    };
    n.formats = function(t) {
        if (t instanceof Array) {
            for (var e = [], i = 0; i < t.length; i++)
                e.push(s(t[i]));
            return a.any.apply(null, e)
        }
        return s(t)
    }
    ,
    n._formats = n.formats(["yyyy-MM-ddTHH:mm:ss", "ddd, MMM dd, yyyy H:mm:ss tt", "ddd MMM d yyyy HH:mm:ss zzz", "d"]),
    n._start = a.process(a.set([n.date, n.time, n.expression], n.generalDelimiter, n.whiteSpace), e.finish),
    n.start = function(t) {
        try {
            var e = n._formats.call({}, t);
            if (0 === e[1].length)
                return e
        } catch (i) {}
        return n._start.call({}, t)
    }
}(),
Date._parse = Date.parse,
Date.parse = function(t) {
    var e = null;
    if (!t)
        return null;
    try {
        e = Date.Grammar.start.call({}, t)
    } catch (i) {
        return null
    }
    return 0 === e[1].length ? e[0] : null
}
,
Date.getParseFunction = function(t) {
    var n = Date.Grammar.formats(t);
    return function(t) {
        var e = null;
        try {
            e = n.call({}, t)
        } catch (i) {
            return null
        }
        return 0 === e[1].length ? e[0] : null
    }
}
,
Date.parseExact = function(t, e) {
    return Date.getParseFunction(e)(t)
}
,
function(a) {
    "use strict";
    a.ajaxPrefilter(function(t) {
        if (t.iframe)
            return "iframe"
    }),
    a.ajaxTransport("iframe", function(t) {
        function o() {
            r.replaceWith(function(t) {
                return s.get(t)
            }),
            i.remove(),
            e.attr("src", "javascript:false;").remove()
        }
        var i = null
          , e = null
          , n = "iframe-" + a.now()
          , s = a(t.files).filter(":file:enabled")
          , r = null;
        if (t.dataTypes.shift(),
        s.length)
            return i = a("<form enctype='multipart/form-data' method='post'></form>").hide().attr({
                action: t.url,
                target: n
            }),
            "string" == typeof t.data && 0 < t.data.length && a.error("data must not be serialized"),
            a.each(t.data || {}, function(t, e) {
                a.isPlainObject(e) && (t = e.name,
                e = e.value),
                a("<input type='hidden'>").attr({
                    name: t,
                    value: e
                }).appendTo(i)
            }),
            a("<input type='hidden' value='IFrame' name='X-Requested-With'>").appendTo(i),
            r = s.after(function() {
                return a(this).clone().prop("disabled", !0)
            }).next(),
            s.appendTo(i),
            {
                send: function(t, r) {
                    (e = a("<iframe src='javascript:false;' name='" + n + "' style='display:none'></iframe>")).bind("load", function() {
                        e.unbind("load").bind("load", function() {
                            var t = this.contentWindow ? this.contentWindow.document : this.contentDocument ? this.contentDocument : this.document
                              , e = t.documentElement ? t.documentElement : t.body
                              , i = e.getElementsByTagName("textarea")[0]
                              , n = i ? i.getAttribute("data-type") : null
                              , s = {
                                html: e.innerHTML,
                                text: n ? i.value : e ? e.textContent || e.innerText : null
                            };
                            o(),
                            r(200, "OK", s, n ? "Content-Type: " + n : null)
                        }),
                        i[0].submit()
                    }),
                    a("body").append(i, e)
                },
                abort: function() {
                    null !== e && (e.unbind("load").attr("src", "javascript:false;"),
                    o())
                }
            }
    })
}(jQuery),
function(t, e) {
    "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.Pusher = e() : t.Pusher = e()
}(this, function() {
    return function(i) {
        function n(t) {
            if (s[t])
                return s[t].exports;
            var e = s[t] = {
                exports: {},
                id: t,
                loaded: !1
            };
            return i[t].call(e.exports, e, e.exports, n),
            e.loaded = !0,
            e.exports
        }
        var s = {};
        return n.m = i,
        n.c = s,
        n.p = "",
        n(0)
    }([function(t, e, i) {
        "use strict";
        var n = i(1);
        t.exports = n["default"]
    }
    , function(t, e, i) {
        "use strict";
        function r(t) {
            if (null == t)
                throw "You must pass your app key when you instantiate Pusher."
        }
        var o = i(2)
          , a = i(9)
          , l = i(23)
          , u = i(38)
          , c = i(39)
          , h = i(40)
          , n = i(12)
          , p = i(5)
          , d = i(62)
          , f = i(8)
          , m = i(42)
          , s = function() {
            function s(t, e) {
                var n = this;
                r(t),
                e = e || {},
                this.key = t,
                this.config = a.extend(d.getGlobalConfig(), e.cluster ? d.getClusterConfig(e.cluster) : {}, e),
                this.channels = m["default"].createChannels(),
                this.global_emitter = new l["default"],
                this.sessionID = Math.floor(1e9 * Math.random()),
                this.timeline = new u["default"](this.key,this.sessionID,{
                    cluster: this.config.cluster,
                    features: s.getClientFeatures(),
                    params: this.config.timelineParams || {},
                    limit: 50,
                    level: c["default"].INFO,
                    version: p["default"].VERSION
                }),
                this.config.disableStats || (this.timelineSender = m["default"].createTimelineSender(this.timeline, {
                    host: this.config.statsHost,
                    path: "/timeline/v2/" + o["default"].TimelineTransport.name
                }));
                var i = function(t) {
                    var e = a.extend({}, n.config, t);
                    return h.build(o["default"].getDefaultStrategy(e), e)
                };
                this.connection = m["default"].createConnectionManager(this.key, a.extend({
                    getStrategy: i,
                    timeline: this.timeline,
                    activityTimeout: this.config.activity_timeout,
                    pongTimeout: this.config.pong_timeout,
                    unavailableTimeout: this.config.unavailable_timeout
                }, this.config, {
                    encrypted: this.isEncrypted()
                })),
                this.connection.bind("connected", function() {
                    n.subscribeAll(),
                    n.timelineSender && n.timelineSender.send(n.connection.isEncrypted())
                }),
                this.connection.bind("message", function(t) {
                    var e = 0 === t.event.indexOf("pusher_internal:");
                    if (t.channel) {
                        var i = n.channel(t.channel);
                        i && i.handleEvent(t.event, t.data)
                    }
                    e || n.global_emitter.emit(t.event, t.data)
                }),
                this.connection.bind("disconnected", function() {
                    n.channels.disconnect()
                }),
                this.connection.bind("error", function(t) {
                    f["default"].warn("Error", t)
                }),
                s.instances.push(this),
                this.timeline.info({
                    instances: s.instances.length
                }),
                s.isReady && this.connect()
            }
            return s.ready = function() {
                s.isReady = !0;
                for (var t = 0, e = s.instances.length; t < e; t++)
                    s.instances[t].connect()
            }
            ,
            s.log = function(t) {
                s.logToConsole && window.console && window.console.log && window.console.log(t)
            }
            ,
            s.getClientFeatures = function() {
                return a.keys(a.filterObject({
                    ws: o["default"].Transports.ws
                }, function(t) {
                    return t.isSupported({})
                }))
            }
            ,
            s.prototype.channel = function(t) {
                return this.channels.find(t)
            }
            ,
            s.prototype.allChannels = function() {
                return this.channels.all()
            }
            ,
            s.prototype.connect = function() {
                if (this.connection.connect(),
                this.timelineSender && !this.timelineSenderTimer) {
                    var t = this.connection.isEncrypted()
                      , e = this.timelineSender;
                    this.timelineSenderTimer = new n.PeriodicTimer(6e4,function() {
                        e.send(t)
                    }
                    )
                }
            }
            ,
            s.prototype.disconnect = function() {
                this.connection.disconnect(),
                this.timelineSenderTimer && (this.timelineSenderTimer.ensureAborted(),
                this.timelineSenderTimer = null)
            }
            ,
            s.prototype.bind = function(t, e) {
                return this.global_emitter.bind(t, e),
                this
            }
            ,
            s.prototype.unbind = function(t, e) {
                return this.global_emitter.unbind(t, e),
                this
            }
            ,
            s.prototype.bind_all = function(t) {
                return this.global_emitter.bind_all(t),
                this
            }
            ,
            s.prototype.subscribeAll = function() {
                var t;
                for (t in this.channels.channels)
                    this.channels.channels.hasOwnProperty(t) && this.subscribe(t)
            }
            ,
            s.prototype.subscribe = function(t) {
                var e = this.channels.add(t, this);
                return "connected" === this.connection.state && e.subscribe(),
                e
            }
            ,
            s.prototype.unsubscribe = function(t) {
                var e = this.channels.remove(t);
                e && "connected" === this.connection.state && e.unsubscribe()
            }
            ,
            s.prototype.send_event = function(t, e, i) {
                return this.connection.send_event(t, e, i)
            }
            ,
            s.prototype.isEncrypted = function() {
                return "https:" === o["default"].getProtocol() || Boolean(this.config.encrypted)
            }
            ,
            s.instances = [],
            s.isReady = !1,
            s.logToConsole = !1,
            s.Runtime = o["default"],
            s.ScriptReceivers = o["default"].ScriptReceivers,
            s.DependenciesReceivers = o["default"].DependenciesReceivers,
            s.auth_callbacks = o["default"].auth_callbacks,
            s
        }();
        e.__esModule = !0,
        e["default"] = s,
        o["default"].setup(s)
    }
    , function(t, e, i) {
        "use strict";
        var n = i(3)
          , s = i(7)
          , r = i(14)
          , o = i(15)
          , a = i(16)
          , l = i(4)
          , u = i(17)
          , c = i(18)
          , h = i(25)
          , p = i(26)
          , d = i(27)
          , f = i(28)
          , m = {
            nextAuthCallbackID: 1,
            auth_callbacks: {},
            ScriptReceivers: l.ScriptReceivers,
            DependenciesReceivers: n.DependenciesReceivers,
            getDefaultStrategy: p["default"],
            Transports: c["default"],
            transportConnectionInitializer: d["default"],
            HTTPFactory: f["default"],
            TimelineTransport: u["default"],
            getXHRAPI: function() {
                return window.XMLHttpRequest
            },
            getWebSocketAPI: function() {
                return window.WebSocket || window.MozWebSocket
            },
            setup: function(t) {
                var e = this;
                window.Pusher = t;
                var i = function() {
                    e.onDocumentBody(t.ready)
                };
                window.JSON ? i() : n.Dependencies.load("json2", {}, i)
            },
            getDocument: function() {
                return document
            },
            getProtocol: function() {
                return this.getDocument().location.protocol
            },
            getAuthorizers: function() {
                return {
                    ajax: s["default"],
                    jsonp: r["default"]
                }
            },
            onDocumentBody: function(t) {
                var e = this;
                document.body ? t() : setTimeout(function() {
                    e.onDocumentBody(t)
                }, 0)
            },
            createJSONPRequest: function(t, e) {
                return new a["default"](t,e)
            },
            createScriptRequest: function(t) {
                return new o["default"](t)
            },
            getLocalStorage: function() {
                try {
                    return window.localStorage
                } catch (t) {
                    return
                }
            },
            createXHR: function() {
                return this.getXHRAPI() ? this.createXMLHttpRequest() : this.createMicrosoftXHR()
            },
            createXMLHttpRequest: function() {
                return new (this.getXHRAPI())
            },
            createMicrosoftXHR: function() {
                return new ActiveXObject("Microsoft.XMLHTTP")
            },
            getNetwork: function() {
                return h.Network
            },
            createWebSocket: function(t) {
                return new (this.getWebSocketAPI())(t)
            },
            createSocketRequest: function(t, e) {
                if (this.isXHRSupported())
                    return this.HTTPFactory.createXHR(t, e);
                if (this.isXDRSupported(0 === e.indexOf("https:")))
                    return this.HTTPFactory.createXDR(t, e);
                throw "Cross-origin HTTP requests are not supported"
            },
            isXHRSupported: function() {
                var t = this.getXHRAPI();
                return Boolean(t) && void 0 !== (new t).withCredentials
            },
            isXDRSupported: function(t) {
                var e = t ? "https:" : "http:"
                  , i = this.getProtocol();
                return Boolean(window.XDomainRequest) && i === e
            },
            addUnloadListener: function(t) {
                void 0 !== window.addEventListener ? window.addEventListener("unload", t, !1) : void 0 !== window.attachEvent && window.attachEvent("onunload", t)
            },
            removeUnloadListener: function(t) {
                void 0 !== window.addEventListener ? window.removeEventListener("unload", t, !1) : void 0 !== window.detachEvent && window.detachEvent("onunload", t)
            }
        };
        e.__esModule = !0,
        e["default"] = m
    }
    , function(t, e, i) {
        "use strict";
        var n = i(4)
          , s = i(5)
          , r = i(6);
        e.DependenciesReceivers = new n.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),
        e.Dependencies = new r["default"]({
            cdn_http: s["default"].cdn_http,
            cdn_https: s["default"].cdn_https,
            version: s["default"].VERSION,
            suffix: s["default"].dependency_suffix,
            receivers: e.DependenciesReceivers
        })
    }
    , function(t, e) {
        "use strict";
        var i = function() {
            function t(t, e) {
                this.lastId = 0,
                this.prefix = t,
                this.name = e
            }
            return t.prototype.create = function(t) {
                this.lastId++;
                var e = this.lastId
                  , i = this.prefix + e
                  , n = this.name + "[" + e + "]"
                  , s = !1
                  , r = function() {
                    s || (t.apply(null, arguments),
                    s = !0)
                };
                return {
                    number: e,
                    id: i,
                    name: n,
                    callback: this[e] = r
                }
            }
            ,
            t.prototype.remove = function(t) {
                delete this[t.number]
            }
            ,
            t
        }();
        e.ScriptReceiverFactory = i,
        e.ScriptReceivers = new i("_pusher_script_","Pusher.ScriptReceivers")
    }
    , function(t, e) {
        "use strict";
        var i = {
            VERSION: "3.2.1",
            PROTOCOL: 7,
            host: "ws.pusherapp.com",
            ws_port: 80,
            wss_port: 443,
            sockjs_host: "sockjs.pusher.com",
            sockjs_http_port: 80,
            sockjs_https_port: 443,
            sockjs_path: "/pusher",
            stats_host: "stats.pusher.com",
            channel_auth_endpoint: "/pusher/auth",
            channel_auth_transport: "ajax",
            activity_timeout: 12e4,
            pong_timeout: 3e4,
            unavailable_timeout: 1e4,
            cdn_http: "http://js.pusher.com",
            cdn_https: "https://js.pusher.com",
            dependency_suffix: ".min"
        };
        e.__esModule = !0,
        e["default"] = i
    }
    , function(t, e, i) {
        "use strict";
        var n = i(4)
          , l = i(2)
          , s = function() {
            function t(t) {
                this.options = t,
                this.receivers = t.receivers || n.ScriptReceivers,
                this.loading = {}
            }
            return t.prototype.load = function(s, t, e) {
                var r = this;
                if (r.loading[s] && 0 < r.loading[s].length)
                    r.loading[s].push(e);
                else {
                    r.loading[s] = [e];
                    var o = l["default"].createScriptRequest(r.getPath(s, t))
                      , a = r.receivers.create(function(t) {
                        if (r.receivers.remove(a),
                        r.loading[s]) {
                            var e = r.loading[s];
                            delete r.loading[s];
                            for (var i = function(t) {
                                t || o.cleanup()
                            }, n = 0; n < e.length; n++)
                                e[n](t, i)
                        }
                    });
                    o.send(a)
                }
            }
            ,
            t.prototype.getRoot = function(t) {
                var e = l["default"].getDocument().location.protocol;
                return (t && t.encrypted || "https:" === e ? this.options.cdn_https : this.options.cdn_http).replace(/\/*$/, "") + "/" + this.options.version
            }
            ,
            t.prototype.getPath = function(t, e) {
                return this.getRoot(e) + "/" + t + this.options.suffix + ".js"
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = s
    }
    , function(t, e, i) {
        "use strict";
        var o = i(8)
          , a = i(2)
          , n = function(t, e, i) {
            var n, s = this;
            for (var r in (n = a["default"].createXHR()).open("POST", s.options.authEndpoint, !0),
            n.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"),
            this.authOptions.headers)
                n.setRequestHeader(r, this.authOptions.headers[r]);
            return n.onreadystatechange = function() {
                if (4 === n.readyState)
                    if (200 === n.status) {
                        var t, e = !1;
                        try {
                            t = JSON.parse(n.responseText),
                            e = !0
                        } catch (a) {
                            i(!0, "JSON returned from webapp was invalid, yet status code was 200. Data was: " + n.responseText)
                        }
                        e && i(!1, t)
                    } else
                        o["default"].warn("Couldn't get auth info from your webapp", n.status),
                        i(!0, n.status)
            }
            ,
            n.send(this.composeQuery(e)),
            n
        };
        e.__esModule = !0,
        e["default"] = n
    }
    , function(t, e, i) {
        "use strict";
        var n = i(9)
          , s = i(1)
          , r = {
            debug: function() {
                for (var t = [], e = 0; e < arguments.length; e++)
                    t[e - 0] = arguments[e];
                s["default"].log && s["default"].log(n.stringify.apply(this, arguments))
            },
            warn: function() {
                for (var t = [], e = 0; e < arguments.length; e++)
                    t[e - 0] = arguments[e];
                var i = n.stringify.apply(this, arguments);
                window.console && (window.console.warn ? window.console.warn(i) : window.console.log && window.console.log(i)),
                s["default"].log && s["default"].log(i)
            }
        };
        e.__esModule = !0,
        e["default"] = r
    }
    , function(t, e, i) {
        "use strict";
        function o(t) {
            for (var e = [], i = 1; i < arguments.length; i++)
                e[i - 1] = arguments[i];
            for (var n = 0; n < e.length; n++) {
                var s = e[n];
                for (var r in s)
                    s[r] && s[r].constructor && s[r].constructor === Object ? t[r] = o(t[r] || {}, s[r]) : t[r] = s[r]
            }
            return t
        }
        function n() {
            for (var t = ["Pusher"], e = 0; e < arguments.length; e++)
                "string" == typeof arguments[e] ? t.push(arguments[e]) : t.push(w(arguments[e]));
            return t.join(" : ")
        }
        function s(t, e) {
            var i = Array.prototype.indexOf;
            if (null === t)
                return -1;
            if (i && t.indexOf === i)
                return t.indexOf(e);
            for (var n = 0, s = t.length; n < s; n++)
                if (t[n] === e)
                    return n;
            return -1
        }
        function r(t, e) {
            for (var i in t)
                Object.prototype.hasOwnProperty.call(t, i) && e(t[i], i, t)
        }
        function a(t) {
            var i = [];
            return r(t, function(t, e) {
                i.push(e)
            }),
            i
        }
        function l(t) {
            var e = [];
            return r(t, function(t) {
                e.push(t)
            }),
            e
        }
        function u(t, e, i) {
            for (var n = 0; n < t.length; n++)
                e.call(i || window, t[n], n, t)
        }
        function c(t, e) {
            for (var i = [], n = 0; n < t.length; n++)
                i.push(e(t[n], n, t, i));
            return i
        }
        function h(t, i) {
            var n = {};
            return r(t, function(t, e) {
                n[e] = i(t)
            }),
            n
        }
        function p(t, e) {
            e = e || function(t) {
                return !!t
            }
            ;
            for (var i = [], n = 0; n < t.length; n++)
                e(t[n], n, t, i) && i.push(t[n]);
            return i
        }
        function d(i, n) {
            var s = {};
            return r(i, function(t, e) {
                (n && n(t, e, i, s) || Boolean(t)) && (s[e] = t)
            }),
            s
        }
        function f(t) {
            var i = [];
            return r(t, function(t, e) {
                i.push([e, t])
            }),
            i
        }
        function m(t, e) {
            for (var i = 0; i < t.length; i++)
                if (e(t[i], i, t))
                    return !0;
            return !1
        }
        function g(t, e) {
            for (var i = 0; i < t.length; i++)
                if (!e(t[i], i, t))
                    return !1;
            return !0
        }
        function y(t) {
            return h(t, function(t) {
                return "object" == typeof t && (t = w(t)),
                encodeURIComponent(b["default"](t.toString()))
            })
        }
        function _(t) {
            return c(f(y(d(t, function(t) {
                return void 0 !== t
            }))), x["default"].method("join", "=")).join("&")
        }
        function v(t) {
            var r = []
              , o = [];
            return function a(t, e) {
                var i, n, s;
                switch (typeof t) {
                case "object":
                    if (!t)
                        return null;
                    for (i = 0; i < r.length; i += 1)
                        if (r[i] === t)
                            return {
                                $ref: o[i]
                            };
                    if (r.push(t),
                    o.push(e),
                    "[object Array]" === Object.prototype.toString.apply(t))
                        for (s = [],
                        i = 0; i < t.length; i += 1)
                            s[i] = a(t[i], e + "[" + i + "]");
                    else
                        for (n in s = {},
                        t)
                            Object.prototype.hasOwnProperty.call(t, n) && (s[n] = a(t[n], e + "[" + JSON.stringify(n) + "]"));
                    return s;
                case "number":
                case "string":
                case "boolean":
                    return t
                }
            }(t, "$")
        }
        function w(t) {
            try {
                return JSON.stringify(t)
            } catch (e) {
                return JSON.stringify(v(t))
            }
        }
        var b = i(10)
          , x = i(11);
        e.extend = o,
        e.stringify = n,
        e.arrayIndexOf = s,
        e.objectApply = r,
        e.keys = a,
        e.values = l,
        e.apply = u,
        e.map = c,
        e.mapObject = h,
        e.filter = p,
        e.filterObject = d,
        e.flatten = f,
        e.any = m,
        e.all = g,
        e.encodeParamsObject = y,
        e.buildQueryString = _,
        e.decycleObject = v,
        e.safeJSONStringify = w
    }
    , function(t, e) {
        "use strict";
        function i(t) {
            return h(u(t))
        }
        e.__esModule = !0,
        e["default"] = i;
        for (var n = String.fromCharCode, s = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", r = {}, o = 0, a = s.length; o < a; o++)
            r[s.charAt(o)] = o;
        var l = function(t) {
            var e = t.charCodeAt(0);
            return e < 128 ? t : e < 2048 ? n(192 | e >>> 6) + n(128 | 63 & e) : n(224 | e >>> 12 & 15) + n(128 | e >>> 6 & 63) + n(128 | 63 & e)
        }
          , u = function(t) {
            return t.replace(/[^\x00-\x7F]/g, l)
        }
          , c = function(t) {
            var e = [0, 2, 1][t.length % 3]
              , i = t.charCodeAt(0) << 16 | (1 < t.length ? t.charCodeAt(1) : 0) << 8 | (2 < t.length ? t.charCodeAt(2) : 0);
            return [s.charAt(i >>> 18), s.charAt(i >>> 12 & 63), 2 <= e ? "=" : s.charAt(i >>> 6 & 63), 1 <= e ? "=" : s.charAt(63 & i)].join("")
        }
          , h = window.btoa || function(t) {
            return t.replace(/[\s\S]{1,3}/g, c)
        }
    }
    , function(t, e, i) {
        "use strict";
        var n = i(12)
          , s = {
            now: function() {
                return Date.now ? Date.now() : (new Date).valueOf()
            },
            defer: function(t) {
                return new n.OneOffTimer(0,t)
            },
            method: function(e) {
                for (var t = [], i = 1; i < arguments.length; i++)
                    t[i - 1] = arguments[i];
                var n = Array.prototype.slice.call(arguments, 1);
                return function(t) {
                    return t[e].apply(t, n.concat(arguments))
                }
            }
        };
        e.__esModule = !0,
        e["default"] = s
    }
    , function(t, e, i) {
        "use strict";
        function n(t) {
            window.clearTimeout(t)
        }
        function s(t) {
            window.clearInterval(t)
        }
        var r = this && this.__extends || function(t, e) {
            function i() {
                this.constructor = t
            }
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n]);
            t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype,
            new i)
        }
          , o = i(13)
          , a = function(i) {
            function t(t, e) {
                i.call(this, setTimeout, n, t, function() {
                    return e(),
                    null
                })
            }
            return r(t, i),
            t
        }(o["default"]);
        e.OneOffTimer = a;
        var l = function(i) {
            function t(t, e) {
                i.call(this, setInterval, s, t, function(t) {
                    return e(),
                    t
                })
            }
            return r(t, i),
            t
        }(o["default"]);
        e.PeriodicTimer = l
    }
    , function(t, e) {
        "use strict";
        var i = function() {
            function t(t, e, i, n) {
                var s = this;
                this.clear = e,
                this.timer = t(function() {
                    s.timer && (s.timer = n(s.timer))
                }, i)
            }
            return t.prototype.isRunning = function() {
                return null !== this.timer
            }
            ,
            t.prototype.ensureAborted = function() {
                this.timer && (this.clear(this.timer),
                this.timer = null)
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = i
    }
    , function(t, e, i) {
        "use strict";
        var l = i(8)
          , n = function(t, e, i) {
            void 0 !== this.authOptions.headers && l["default"].warn("Warn", "To send headers with the auth request, you must use AJAX, rather than JSONP.");
            var n = t.nextAuthCallbackID.toString();
            t.nextAuthCallbackID++;
            var s = t.getDocument()
              , r = s.createElement("script");
            t.auth_callbacks[n] = function(t) {
                i(!1, t)
            }
            ;
            var o = "Pusher.auth_callbacks['" + n + "']";
            r.src = this.options.authEndpoint + "?callback=" + encodeURIComponent(o) + "&" + this.composeQuery(e);
            var a = s.getElementsByTagName("head")[0] || s.documentElement;
            a.insertBefore(r, a.firstChild)
        };
        e.__esModule = !0,
        e["default"] = n
    }
    , function(t, e) {
        "use strict";
        var i = function() {
            function t(t) {
                this.src = t
            }
            return t.prototype.send = function(t) {
                var e = this
                  , i = "Error loading " + e.src;
                e.script = document.createElement("script"),
                e.script.id = t.id,
                e.script.src = e.src,
                e.script.type = "text/javascript",
                e.script.charset = "UTF-8",
                e.script.addEventListener ? (e.script.onerror = function() {
                    t.callback(i)
                }
                ,
                e.script.onload = function() {
                    t.callback(null)
                }
                ) : e.script.onreadystatechange = function() {
                    ("loaded" === e.script.readyState || "complete" === e.script.readyState) && t.callback(null)
                }
                ,
                void 0 === e.script.async && document.attachEvent && /opera/i.test(navigator.userAgent) ? (e.errorScript = document.createElement("script"),
                e.errorScript.id = t.id + "_error",
                e.errorScript.text = t.name + "('" + i + "');",
                e.script.async = e.errorScript.async = !1) : e.script.async = !0;
                var n = document.getElementsByTagName("head")[0];
                n.insertBefore(e.script, n.firstChild),
                e.errorScript && n.insertBefore(e.errorScript, e.script.nextSibling)
            }
            ,
            t.prototype.cleanup = function() {
                this.script && (this.script.onload = this.script.onerror = null,
                this.script.onreadystatechange = null),
                this.script && this.script.parentNode && this.script.parentNode.removeChild(this.script),
                this.errorScript && this.errorScript.parentNode && this.errorScript.parentNode.removeChild(this.errorScript),
                this.script = null,
                this.errorScript = null
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = i
    }
    , function(t, e, i) {
        "use strict";
        var n = i(9)
          , s = i(2)
          , r = function() {
            function t(t, e) {
                this.url = t,
                this.data = e
            }
            return t.prototype.send = function(t) {
                if (!this.request) {
                    var e = n.buildQueryString(this.data)
                      , i = this.url + "/" + t.number + "?" + e;
                    this.request = s["default"].createScriptRequest(i),
                    this.request.send(t)
                }
            }
            ,
            t.prototype.cleanup = function() {
                this.request && this.request.cleanup()
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = r
    }
    , function(t, e, i) {
        "use strict";
        var a = i(2)
          , l = i(4)
          , n = {
            name: "jsonp",
            getAgent: function(r, o) {
                return function(t, i) {
                    var e = "http" + (o ? "s" : "") + "://" + (r.host || r.options.host) + r.options.path
                      , n = a["default"].createJSONPRequest(e, t)
                      , s = a["default"].ScriptReceivers.create(function(t, e) {
                        l.ScriptReceivers.remove(s),
                        n.cleanup(),
                        e && e.host && (r.host = e.host),
                        i && i(t, e)
                    });
                    n.send(s)
                }
            }
        };
        e.__esModule = !0,
        e["default"] = n
    }
    , function(t, e, i) {
        "use strict";
        var n = i(19)
          , s = i(21)
          , r = i(20)
          , o = i(2)
          , a = i(3)
          , l = i(9)
          , u = new s["default"]({
            file: "sockjs",
            urls: r.sockjs,
            handlesActivityChecks: !0,
            supportsPing: !1,
            isSupported: function() {
                return !0
            },
            isInitialized: function() {
                return void 0 !== window.SockJS
            },
            getSocket: function(t, e) {
                return new window.SockJS(t,null,{
                    js_path: a.Dependencies.getPath("sockjs", {
                        encrypted: e.encrypted
                    }),
                    ignore_null_origin: e.ignoreNullOrigin
                })
            },
            beforeOpen: function(t, e) {
                t.send(JSON.stringify({
                    path: e
                }))
            }
        })
          , c = {
            isSupported: function(t) {
                return o["default"].isXDRSupported(t.encrypted)
            }
        }
          , h = new s["default"](l.extend({}, n.streamingConfiguration, c))
          , p = new s["default"](l.extend({}, n.pollingConfiguration, c));
        n["default"].xdr_streaming = h,
        n["default"].xdr_polling = p,
        n["default"].sockjs = u,
        e.__esModule = !0,
        e["default"] = n["default"]
    }
    , function(t, e, i) {
        "use strict";
        var n = i(20)
          , s = i(21)
          , r = i(9)
          , o = i(2)
          , a = new s["default"]({
            urls: n.ws,
            handlesActivityChecks: !1,
            supportsPing: !1,
            isInitialized: function() {
                return Boolean(o["default"].getWebSocketAPI())
            },
            isSupported: function() {
                return Boolean(o["default"].getWebSocketAPI())
            },
            getSocket: function(t) {
                return o["default"].createWebSocket(t)
            }
        })
          , l = {
            urls: n.http,
            handlesActivityChecks: !1,
            supportsPing: !0,
            isInitialized: function() {
                return !0
            }
        };
        e.streamingConfiguration = r.extend({
            getSocket: function(t) {
                return o["default"].HTTPFactory.createStreamingSocket(t)
            }
        }, l),
        e.pollingConfiguration = r.extend({
            getSocket: function(t) {
                return o["default"].HTTPFactory.createPollingSocket(t)
            }
        }, l);
        var u = {
            isSupported: function() {
                return o["default"].isXHRSupported()
            }
        }
          , c = {
            ws: a,
            xhr_streaming: new s["default"](r.extend({}, e.streamingConfiguration, u)),
            xhr_polling: new s["default"](r.extend({}, e.pollingConfiguration, u))
        };
        e.__esModule = !0,
        e["default"] = c
    }
    , function(t, e, i) {
        "use strict";
        function n(t, e, i) {
            return t + (e.encrypted ? "s" : "") + "://" + (e.encrypted ? e.hostEncrypted : e.hostUnencrypted) + i
        }
        function s(t, e) {
            return "/app/" + t + ("?protocol=" + r["default"].PROTOCOL + "&client=js&version=" + r["default"].VERSION + (e ? "&" + e : ""))
        }
        var r = i(5);
        e.ws = {
            getInitial: function(t, e) {
                return n("ws", e, s(t, "flash=false"))
            }
        },
        e.http = {
            getInitial: function(t, e) {
                return n("http", e, (e.httpPath || "/pusher") + s(t))
            }
        },
        e.sockjs = {
            getInitial: function(t, e) {
                return n("http", e, e.httpPath || "/pusher")
            },
            getPath: function(t) {
                return s(t)
            }
        }
    }
    , function(t, e, i) {
        "use strict";
        var s = i(22)
          , n = function() {
            function t(t) {
                this.hooks = t
            }
            return t.prototype.isSupported = function(t) {
                return this.hooks.isSupported(t)
            }
            ,
            t.prototype.createConnection = function(t, e, i, n) {
                return new s["default"](this.hooks,t,e,i,n)
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = n
    }
    , function(t, e, i) {
        "use strict";
        var n = this && this.__extends || function(t, e) {
            function i() {
                this.constructor = t
            }
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n]);
            t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype,
            new i)
        }
          , s = i(11)
          , o = i(9)
          , r = i(23)
          , a = i(8)
          , l = i(2)
          , u = function(r) {
            function t(t, e, i, n, s) {
                r.call(this),
                this.initialize = l["default"].transportConnectionInitializer,
                this.hooks = t,
                this.name = e,
                this.priority = i,
                this.key = n,
                this.options = s,
                this.state = "new",
                this.timeline = s.timeline,
                this.activityTimeout = s.activityTimeout,
                this.id = this.timeline.generateUniqueID()
            }
            return n(t, r),
            t.prototype.handlesActivityChecks = function() {
                return Boolean(this.hooks.handlesActivityChecks)
            }
            ,
            t.prototype.supportsPing = function() {
                return Boolean(this.hooks.supportsPing)
            }
            ,
            t.prototype.connect = function() {
                var t = this;
                if (this.socket || "initialized" !== this.state)
                    return !1;
                var e = this.hooks.urls.getInitial(this.key, this.options);
                try {
                    this.socket = this.hooks.getSocket(e, this.options)
                } catch (i) {
                    return s["default"].defer(function() {
                        t.onError(i),
                        t.changeState("closed")
                    }),
                    !1
                }
                return this.bindListeners(),
                a["default"].debug("Connecting", {
                    transport: this.name,
                    url: e
                }),
                this.changeState("connecting"),
                !0
            }
            ,
            t.prototype.close = function() {
                return !!this.socket && (this.socket.close(),
                !0)
            }
            ,
            t.prototype.send = function(t) {
                var e = this;
                return "open" === this.state && (s["default"].defer(function() {
                    e.socket && e.socket.send(t)
                }),
                !0)
            }
            ,
            t.prototype.ping = function() {
                "open" === this.state && this.supportsPing() && this.socket.ping()
            }
            ,
            t.prototype.onOpen = function() {
                this.hooks.beforeOpen && this.hooks.beforeOpen(this.socket, this.hooks.urls.getPath(this.key, this.options)),
                this.changeState("open"),
                this.socket.onopen = void 0
            }
            ,
            t.prototype.onError = function(t) {
                this.emit("error", {
                    type: "WebSocketError",
                    error: t
                }),
                this.timeline.error(this.buildTimelineMessage({
                    error: t.toString()
                }))
            }
            ,
            t.prototype.onClose = function(t) {
                t ? this.changeState("closed", {
                    code: t.code,
                    reason: t.reason,
                    wasClean: t.wasClean
                }) : this.changeState("closed"),
                this.unbindListeners(),
                this.socket = void 0
            }
            ,
            t.prototype.onMessage = function(t) {
                this.emit("message", t)
            }
            ,
            t.prototype.onActivity = function() {
                this.emit("activity")
            }
            ,
            t.prototype.bindListeners = function() {
                var e = this;
                this.socket.onopen = function() {
                    e.onOpen()
                }
                ,
                this.socket.onerror = function(t) {
                    e.onError(t)
                }
                ,
                this.socket.onclose = function(t) {
                    e.onClose(t)
                }
                ,
                this.socket.onmessage = function(t) {
                    e.onMessage(t)
                }
                ,
                this.supportsPing() && (this.socket.onactivity = function() {
                    e.onActivity()
                }
                )
            }
            ,
            t.prototype.unbindListeners = function() {
                this.socket && (this.socket.onopen = void 0,
                this.socket.onerror = void 0,
                this.socket.onclose = void 0,
                this.socket.onmessage = void 0,
                this.supportsPing() && (this.socket.onactivity = void 0))
            }
            ,
            t.prototype.changeState = function(t, e) {
                this.state = t,
                this.timeline.info(this.buildTimelineMessage({
                    state: t,
                    params: e
                })),
                this.emit(t, e)
            }
            ,
            t.prototype.buildTimelineMessage = function(t) {
                return o.extend({
                    cid: this.id
                }, t)
            }
            ,
            t
        }(r["default"]);
        e.__esModule = !0,
        e["default"] = u
    }
    , function(t, e, i) {
        "use strict";
        var n = i(24)
          , s = function() {
            function t(t) {
                this.callbacks = new n["default"],
                this.global_callbacks = [],
                this.failThrough = t
            }
            return t.prototype.bind = function(t, e, i) {
                return this.callbacks.add(t, e, i),
                this
            }
            ,
            t.prototype.bind_all = function(t) {
                return this.global_callbacks.push(t),
                this
            }
            ,
            t.prototype.unbind = function(t, e, i) {
                return this.callbacks.remove(t, e, i),
                this
            }
            ,
            t.prototype.unbind_all = function(t, e) {
                return this.callbacks.remove(t, e),
                this
            }
            ,
            t.prototype.emit = function(t, e) {
                var i;
                for (i = 0; i < this.global_callbacks.length; i++)
                    this.global_callbacks[i](t, e);
                var n = this.callbacks.get(t);
                if (n && 0 < n.length)
                    for (i = 0; i < n.length; i++)
                        n[i].fn.call(n[i].context || window, e);
                else
                    this.failThrough && this.failThrough(t, e);
                return this
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = s
    }
    , function(t, e, i) {
        "use strict";
        function s(t) {
            return "_" + t
        }
        var r = i(9)
          , n = function() {
            function t() {
                this._callbacks = {}
            }
            return t.prototype.get = function(t) {
                return this._callbacks[s(t)]
            }
            ,
            t.prototype.add = function(t, e, i) {
                var n = s(t);
                this._callbacks[n] = this._callbacks[n] || [],
                this._callbacks[n].push({
                    fn: e,
                    context: i
                })
            }
            ,
            t.prototype.remove = function(t, e, i) {
                if (t || e || i) {
                    var n = t ? [s(t)] : r.keys(this._callbacks);
                    e || i ? this.removeCallback(n, e, i) : this.removeAllCallbacks(n)
                } else
                    this._callbacks = {}
            }
            ,
            t.prototype.removeCallback = function(t, e, i) {
                r.apply(t, function(t) {
                    this._callbacks[t] = r.filter(this._callbacks[t] || [], function(t) {
                        return e && e !== t.fn || i && i !== t.context
                    }),
                    0 === this._callbacks[t].length && delete this._callbacks[t]
                }, this)
            }
            ,
            t.prototype.removeAllCallbacks = function(t) {
                r.apply(t, function(t) {
                    delete this._callbacks[t]
                }, this)
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = n
    }
    , function(t, e, i) {
        "use strict";
        var n = this && this.__extends || function(t, e) {
            function i() {
                this.constructor = t
            }
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n]);
            t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype,
            new i)
        }
          , s = function(e) {
            function t() {
                e.call(this);
                var t = this;
                void 0 !== window.addEventListener && (window.addEventListener("online", function() {
                    t.emit("online")
                }, !1),
                window.addEventListener("offline", function() {
                    t.emit("offline")
                }, !1))
            }
            return n(t, e),
            t.prototype.isOnline = function() {
                return void 0 === window.navigator.onLine || window.navigator.onLine
            }
            ,
            t
        }(i(23)["default"]);
        e.NetInfo = s,
        e.Network = new s
    }
    , function(t, e) {
        "use strict";
        var i = function(t) {
            var e;
            return e = t.encrypted ? [":best_connected_ever", ":ws_loop", [":delayed", 2e3, [":http_fallback_loop"]]] : [":best_connected_ever", ":ws_loop", [":delayed", 2e3, [":wss_loop"]], [":delayed", 5e3, [":http_fallback_loop"]]],
            [[":def", "ws_options", {
                hostUnencrypted: t.wsHost + ":" + t.wsPort,
                hostEncrypted: t.wsHost + ":" + t.wssPort
            }], [":def", "wss_options", [":extend", ":ws_options", {
                encrypted: !0
            }]], [":def", "sockjs_options", {
                hostUnencrypted: t.httpHost + ":" + t.httpPort,
                hostEncrypted: t.httpHost + ":" + t.httpsPort,
                httpPath: t.httpPath
            }], [":def", "timeouts", {
                loop: !0,
                timeout: 15e3,
                timeoutLimit: 6e4
            }], [":def", "ws_manager", [":transport_manager", {
                lives: 2,
                minPingDelay: 1e4,
                maxPingDelay: t.activity_timeout
            }]], [":def", "streaming_manager", [":transport_manager", {
                lives: 2,
                minPingDelay: 1e4,
                maxPingDelay: t.activity_timeout
            }]], [":def_transport", "ws", "ws", 3, ":ws_options", ":ws_manager"], [":def_transport", "wss", "ws", 3, ":wss_options", ":ws_manager"], [":def_transport", "sockjs", "sockjs", 1, ":sockjs_options"], [":def_transport", "xhr_streaming", "xhr_streaming", 1, ":sockjs_options", ":streaming_manager"], [":def_transport", "xdr_streaming", "xdr_streaming", 1, ":sockjs_options", ":streaming_manager"], [":def_transport", "xhr_polling", "xhr_polling", 1, ":sockjs_options"], [":def_transport", "xdr_polling", "xdr_polling", 1, ":sockjs_options"], [":def", "ws_loop", [":sequential", ":timeouts", ":ws"]], [":def", "wss_loop", [":sequential", ":timeouts", ":wss"]], [":def", "sockjs_loop", [":sequential", ":timeouts", ":sockjs"]], [":def", "streaming_loop", [":sequential", ":timeouts", [":if", [":is_supported", ":xhr_streaming"], ":xhr_streaming", ":xdr_streaming"]]], [":def", "polling_loop", [":sequential", ":timeouts", [":if", [":is_supported", ":xhr_polling"], ":xhr_polling", ":xdr_polling"]]], [":def", "http_loop", [":if", [":is_supported", ":streaming_loop"], [":best_connected_ever", ":streaming_loop", [":delayed", 4e3, [":polling_loop"]]], [":polling_loop"]]], [":def", "http_fallback_loop", [":if", [":is_supported", ":http_loop"], [":http_loop"], [":sockjs_loop"]]], [":def", "strategy", [":cached", 18e5, [":first_connected", [":if", [":is_supported", ":ws"], e, ":http_fallback_loop"]]]]]
        };
        e.__esModule = !0,
        e["default"] = i
    }
    , function(t, e, i) {
        "use strict";
        function n() {
            var i = this;
            i.timeline.info(i.buildTimelineMessage({
                transport: i.name + (i.options.encrypted ? "s" : "")
            })),
            i.hooks.isInitialized() ? i.changeState("initialized") : i.hooks.file ? (i.changeState("initializing"),
            s.Dependencies.load(i.hooks.file, {
                encrypted: i.options.encrypted
            }, function(t, e) {
                i.hooks.isInitialized() ? (i.changeState("initialized"),
                e(!0)) : (t && i.onError(t),
                i.onClose(),
                e(!1))
            })) : i.onClose()
        }
        var s = i(3);
        e.__esModule = !0,
        e["default"] = n
    }
    , function(t, e, i) {
        "use strict";
        var n = i(29)
          , s = i(31);
        s["default"].createXDR = function(t, e) {
            return this.createRequest(n["default"], t, e)
        }
        ,
        e.__esModule = !0,
        e["default"] = s["default"]
    }
    , function(t, e, i) {
        "use strict";
        var n = i(30)
          , s = {
            getRequest: function(e) {
                var t = new window.XDomainRequest;
                return t.ontimeout = function() {
                    e.emit("error", new n.RequestTimedOut),
                    e.close()
                }
                ,
                t.onerror = function(t) {
                    e.emit("error", t),
                    e.close()
                }
                ,
                t.onprogress = function() {
                    t.responseText && 0 < t.responseText.length && e.onChunk(200, t.responseText)
                }
                ,
                t.onload = function() {
                    t.responseText && 0 < t.responseText.length && e.onChunk(200, t.responseText),
                    e.emit("finished", 200),
                    e.close()
                }
                ,
                t
            },
            abortRequest: function(t) {
                t.ontimeout = t.onerror = t.onprogress = t.onload = null,
                t.abort()
            }
        };
        e.__esModule = !0,
        e["default"] = s
    }
    , function(t, e) {
        "use strict";
        var i = this && this.__extends || function(t, e) {
            function i() {
                this.constructor = t
            }
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n]);
            t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype,
            new i)
        }
          , n = function(t) {
            function e() {
                t.apply(this, arguments)
            }
            return i(e, t),
            e
        }(Error);
        e.BadEventName = n;
        var s = function(t) {
            function e() {
                t.apply(this, arguments)
            }
            return i(e, t),
            e
        }(Error);
        e.RequestTimedOut = s;
        var r = function(t) {
            function e() {
                t.apply(this, arguments)
            }
            return i(e, t),
            e
        }(Error);
        e.TransportPriorityTooLow = r;
        var o = function(t) {
            function e() {
                t.apply(this, arguments)
            }
            return i(e, t),
            e
        }(Error);
        e.TransportClosed = o;
        var a = function(t) {
            function e() {
                t.apply(this, arguments)
            }
            return i(e, t),
            e
        }(Error);
        e.UnsupportedTransport = a;
        var l = function(t) {
            function e() {
                t.apply(this, arguments)
            }
            return i(e, t),
            e
        }(Error);
        e.UnsupportedStrategy = l
    }
    , function(t, e, i) {
        "use strict";
        var n = i(32)
          , s = i(33)
          , r = i(35)
          , o = i(36)
          , a = i(37)
          , l = {
            createStreamingSocket: function(t) {
                return this.createSocket(r["default"], t)
            },
            createPollingSocket: function(t) {
                return this.createSocket(o["default"], t)
            },
            createSocket: function(t, e) {
                return new s["default"](t,e)
            },
            createXHR: function(t, e) {
                return this.createRequest(a["default"], t, e)
            },
            createRequest: function(t, e, i) {
                return new n["default"](t,e,i)
            }
        };
        e.__esModule = !0,
        e["default"] = l
    }
    , function(t, e, i) {
        "use strict";
        var s = this && this.__extends || function(t, e) {
            function i() {
                this.constructor = t
            }
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n]);
            t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype,
            new i)
        }
          , r = i(2)
          , n = i(23)
          , o = 262144
          , a = function(n) {
            function t(t, e, i) {
                n.call(this),
                this.hooks = t,
                this.method = e,
                this.url = i
            }
            return s(t, n),
            t.prototype.start = function(t) {
                var e = this;
                this.position = 0,
                this.xhr = this.hooks.getRequest(this),
                this.unloader = function() {
                    e.close()
                }
                ,
                r["default"].addUnloadListener(this.unloader),
                this.xhr.open(this.method, this.url, !0),
                this.xhr.setRequestHeader && this.xhr.setRequestHeader("Content-Type", "application/json"),
                this.xhr.send(t)
            }
            ,
            t.prototype.close = function() {
                this.unloader && (r["default"].removeUnloadListener(this.unloader),
                this.unloader = null),
                this.xhr && (this.hooks.abortRequest(this.xhr),
                this.xhr = null)
            }
            ,
            t.prototype.onChunk = function(t, e) {
                for (; ; ) {
                    var i = this.advanceBuffer(e);
                    if (!i)
                        break;
                    this.emit("chunk", {
                        status: t,
                        data: i
                    })
                }
                this.isBufferTooLong(e) && this.emit("buffer_too_long")
            }
            ,
            t.prototype.advanceBuffer = function(t) {
                var e = t.slice(this.position)
                  , i = e.indexOf("\n");
                return -1 !== i ? (this.position += i + 1,
                e.slice(0, i)) : null
            }
            ,
            t.prototype.isBufferTooLong = function(t) {
                return this.position === t.length && t.length > o
            }
            ,
            t
        }(n["default"]);
        e.__esModule = !0,
        e["default"] = a
    }
    , function(t, i, e) {
        "use strict";
        function n(t) {
            var e = /([^\?]*)\/*(\??.*)/.exec(t);
            return {
                base: e[1],
                queryString: e[2]
            }
        }
        function s(t, e) {
            return t.base + "/" + e + "/xhr_send"
        }
        function r(t) {
            var e = -1 === t.indexOf("?") ? "?" : "&";
            return t + e + "t=" + +new Date + "&n=" + p++
        }
        function o(t, e) {
            var i = /(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t);
            return i[1] + e + i[3]
        }
        function a(t) {
            return Math.floor(Math.random() * t)
        }
        function l(t) {
            for (var e = [], i = 0; i < t; i++)
                e.push(a(32).toString(32));
            return e.join("")
        }
        var u = e(34)
          , c = e(11)
          , h = e(2)
          , p = 1
          , d = function() {
            function t(t, e) {
                this.hooks = t,
                this.session = a(1e3) + "/" + l(8),
                this.location = n(e),
                this.readyState = u["default"].CONNECTING,
                this.openStream()
            }
            return t.prototype.send = function(t) {
                return this.sendRaw(JSON.stringify([t]))
            }
            ,
            t.prototype.ping = function() {
                this.hooks.sendHeartbeat(this)
            }
            ,
            t.prototype.close = function(t, e) {
                this.onClose(t, e, !0)
            }
            ,
            t.prototype.sendRaw = function(t) {
                if (this.readyState !== u["default"].OPEN)
                    return !1;
                try {
                    return h["default"].createSocketRequest("POST", r(s(this.location, this.session))).start(t),
                    !0
                } catch (i) {
                    return !1
                }
            }
            ,
            t.prototype.reconnect = function() {
                this.closeStream(),
                this.openStream()
            }
            ,
            t.prototype.onClose = function(t, e, i) {
                this.closeStream(),
                this.readyState = u["default"].CLOSED,
                this.onclose && this.onclose({
                    code: t,
                    reason: e,
                    wasClean: i
                })
            }
            ,
            t.prototype.onChunk = function(t) {
                var e;
                if (200 === t.status)
                    switch (this.readyState === u["default"].OPEN && this.onActivity(),
                    t.data.slice(0, 1)) {
                    case "o":
                        e = JSON.parse(t.data.slice(1) || "{}"),
                        this.onOpen(e);
                        break;
                    case "a":
                        e = JSON.parse(t.data.slice(1) || "[]");
                        for (var i = 0; i < e.length; i++)
                            this.onEvent(e[i]);
                        break;
                    case "m":
                        e = JSON.parse(t.data.slice(1) || "null"),
                        this.onEvent(e);
                        break;
                    case "h":
                        this.hooks.onHeartbeat(this);
                        break;
                    case "c":
                        e = JSON.parse(t.data.slice(1) || "[]"),
                        this.onClose(e[0], e[1], !0)
                    }
            }
            ,
            t.prototype.onOpen = function(t) {
                this.readyState === u["default"].CONNECTING ? (t && t.hostname && (this.location.base = o(this.location.base, t.hostname)),
                this.readyState = u["default"].OPEN,
                this.onopen && this.onopen()) : this.onClose(1006, "Server lost session", !0)
            }
            ,
            t.prototype.onEvent = function(t) {
                this.readyState === u["default"].OPEN && this.onmessage && this.onmessage({
                    data: t
                })
            }
            ,
            t.prototype.onActivity = function() {
                this.onactivity && this.onactivity()
            }
            ,
            t.prototype.onError = function(t) {
                this.onerror && this.onerror(t)
            }
            ,
            t.prototype.openStream = function() {
                var e = this;
                this.stream = h["default"].createSocketRequest("POST", r(this.hooks.getReceiveURL(this.location, this.session))),
                this.stream.bind("chunk", function(t) {
                    e.onChunk(t)
                }),
                this.stream.bind("finished", function(t) {
                    e.hooks.onFinished(e, t)
                }),
                this.stream.bind("buffer_too_long", function() {
                    e.reconnect()
                });
                try {
                    this.stream.start()
                } catch (i) {
                    c["default"].defer(function() {
                        e.onError(i),
                        e.onClose(1006, "Could not start streaming", !1)
                    })
                }
            }
            ,
            t.prototype.closeStream = function() {
                this.stream && (this.stream.unbind_all(),
                this.stream.close(),
                this.stream = null)
            }
            ,
            t
        }();
        i.__esModule = !0,
        i["default"] = d
    }
    , function(t, e) {
        "use strict";
        var i, n;
        (n = i || (i = {}))[n.CONNECTING = 0] = "CONNECTING",
        n[n.OPEN = 1] = "OPEN",
        n[n.CLOSED = 3] = "CLOSED",
        e.__esModule = !0,
        e["default"] = i
    }
    , function(t, e) {
        "use strict";
        var i = {
            getReceiveURL: function(t, e) {
                return t.base + "/" + e + "/xhr_streaming" + t.queryString
            },
            onHeartbeat: function(t) {
                t.sendRaw("[]")
            },
            sendHeartbeat: function(t) {
                t.sendRaw("[]")
            },
            onFinished: function(t, e) {
                t.onClose(1006, "Connection interrupted (" + e + ")", !1)
            }
        };
        e.__esModule = !0,
        e["default"] = i
    }
    , function(t, e) {
        "use strict";
        var i = {
            getReceiveURL: function(t, e) {
                return t.base + "/" + e + "/xhr" + t.queryString
            },
            onHeartbeat: function() {},
            sendHeartbeat: function(t) {
                t.sendRaw("[]")
            },
            onFinished: function(t, e) {
                200 === e ? t.reconnect() : t.onClose(1006, "Connection interrupted (" + e + ")", !1)
            }
        };
        e.__esModule = !0,
        e["default"] = i
    }
    , function(t, e, i) {
        "use strict";
        var n = i(2)
          , s = {
            getRequest: function(t) {
                var e = new (n["default"].getXHRAPI());
                return e.onreadystatechange = e.onprogress = function() {
                    switch (e.readyState) {
                    case 3:
                        e.responseText && 0 < e.responseText.length && t.onChunk(e.status, e.responseText);
                        break;
                    case 4:
                        e.responseText && 0 < e.responseText.length && t.onChunk(e.status, e.responseText),
                        t.emit("finished", e.status),
                        t.close()
                    }
                }
                ,
                e
            },
            abortRequest: function(t) {
                t.onreadystatechange = null,
                t.abort()
            }
        };
        e.__esModule = !0,
        e["default"] = s
    }
    , function(t, e, i) {
        "use strict";
        var s = i(9)
          , n = i(11)
          , r = i(39)
          , o = function() {
            function t(t, e, i) {
                this.key = t,
                this.session = e,
                this.events = [],
                this.options = i || {},
                this.sent = 0,
                this.uniqueID = 0
            }
            return t.prototype.log = function(t, e) {
                t <= this.options.level && (this.events.push(s.extend({}, e, {
                    timestamp: n["default"].now()
                })),
                this.options.limit && this.events.length > this.options.limit && this.events.shift())
            }
            ,
            t.prototype.error = function(t) {
                this.log(r["default"].ERROR, t)
            }
            ,
            t.prototype.info = function(t) {
                this.log(r["default"].INFO, t)
            }
            ,
            t.prototype.debug = function(t) {
                this.log(r["default"].DEBUG, t)
            }
            ,
            t.prototype.isEmpty = function() {
                return 0 === this.events.length
            }
            ,
            t.prototype.send = function(t, i) {
                var n = this
                  , e = s.extend({
                    session: this.session,
                    bundle: this.sent + 1,
                    key: this.key,
                    lib: "js",
                    version: this.options.version,
                    cluster: this.options.cluster,
                    features: this.options.features,
                    timeline: this.events
                }, this.options.params);
                return this.events = [],
                t(e, function(t, e) {
                    t || n.sent++,
                    i && i(t, e)
                }),
                !0
            }
            ,
            t.prototype.generateUniqueID = function() {
                return this.uniqueID++,
                this.uniqueID
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = o
    }
    , function(t, e) {
        "use strict";
        var i, n;
        (n = i || (i = {}))[n.ERROR = 3] = "ERROR",
        n[n.INFO = 6] = "INFO",
        n[n.DEBUG = 7] = "DEBUG",
        e.__esModule = !0,
        e["default"] = i
    }
    , function(t, e, i) {
        "use strict";
        function n(e) {
            return function(t) {
                return [e.apply(this, arguments), t]
            }
        }
        function s(t) {
            return "string" == typeof t && ":" === t.charAt(0)
        }
        function r(t, e) {
            return e[t.slice(1)]
        }
        function o(t, e) {
            if (0 === t.length)
                return [[], e];
            var i = u(t[0], e)
              , n = o(t.slice(1), i[1]);
            return [[i[0]].concat(n[0]), n[1]]
        }
        function a(t, e) {
            if (!s(t))
                return [t, e];
            var i = r(t, e);
            if (void 0 === i)
                throw "Undefined symbol " + t;
            return [i, e]
        }
        function l(t, e) {
            if (s(t[0])) {
                var i = r(t[0], e);
                if (1 < t.length) {
                    if ("function" != typeof i)
                        throw "Calling non-function " + t[0];
                    var n = [c.extend({}, e)].concat(c.map(t.slice(1), function(t) {
                        return u(t, c.extend({}, e))[0]
                    }));
                    return i.apply(this, n)
                }
                return [i, e]
            }
            return o(t, e)
        }
        function u(t, e) {
            return "string" == typeof t ? a(t, e) : "object" == typeof t && t instanceof Array && 0 < t.length ? l(t, e) : [t, e]
        }
        var c = i(9)
          , h = i(11)
          , p = i(41)
          , d = i(30)
          , f = i(55)
          , m = i(56)
          , g = i(57)
          , y = i(58)
          , _ = i(59)
          , v = i(60)
          , w = i(61)
          , b = i(2)["default"].Transports;
        e.build = function(t, e) {
            return u(t, c.extend({}, k, e))[1].strategy
        }
        ;
        var x = {
            isSupported: function() {
                return !1
            },
            connect: function(t, e) {
                var i = h["default"].defer(function() {
                    e(new d.UnsupportedStrategy)
                });
                return {
                    abort: function() {
                        i.ensureAborted()
                    },
                    forceMinPriority: function() {}
                }
            }
        }
          , k = {
            extend: function(t, e, i) {
                return [c.extend({}, e, i), t]
            },
            def: function(t, e, i) {
                if (void 0 !== t[e])
                    throw "Redefining symbol " + e;
                return t[e] = i,
                [void 0, t]
            },
            def_transport: function(t, e, i, n, s, r) {
                var o, a = b[i];
                if (!a)
                    throw new d.UnsupportedTransport(i);
                o = !(t.enabledTransports && -1 === c.arrayIndexOf(t.enabledTransports, e) || t.disabledTransports && -1 !== c.arrayIndexOf(t.disabledTransports, e)) ? new f["default"](e,n,r ? r.getAssistant(a) : a,c.extend({
                    key: t.key,
                    encrypted: t.encrypted,
                    timeline: t.timeline,
                    ignoreNullOrigin: t.ignoreNullOrigin
                }, s)) : x;
                var l = t.def(t, e, o)[1];
                return l.Transports = t.Transports || {},
                l.Transports[e] = o,
                [void 0, l]
            },
            transport_manager: n(function(t, e) {
                return new p["default"](e)
            }),
            sequential: n(function(t, e) {
                var i = Array.prototype.slice.call(arguments, 2);
                return new m["default"](i,e)
            }),
            cached: n(function(t, e, i) {
                return new y["default"](i,t.Transports,{
                    ttl: e,
                    timeline: t.timeline,
                    encrypted: t.encrypted
                })
            }),
            first_connected: n(function(t, e) {
                return new w["default"](e)
            }),
            best_connected_ever: n(function() {
                var t = Array.prototype.slice.call(arguments, 1);
                return new g["default"](t)
            }),
            delayed: n(function(t, e, i) {
                return new _["default"](i,{
                    delay: e
                })
            }),
            "if": n(function(t, e, i, n) {
                return new v["default"](e,i,n)
            }),
            is_supported: n(function(t, e) {
                return function() {
                    return e.isSupported()
                }
            })
        }
    }
    , function(t, e, i) {
        "use strict";
        var n = i(42)
          , s = function() {
            function t(t) {
                this.options = t || {},
                this.livesLeft = this.options.lives || 1 / 0
            }
            return t.prototype.getAssistant = function(t) {
                return n["default"].createAssistantToTheTransportManager(this, t, {
                    minPingDelay: this.options.minPingDelay,
                    maxPingDelay: this.options.maxPingDelay
                })
            }
            ,
            t.prototype.isAlive = function() {
                return 0 < this.livesLeft
            }
            ,
            t.prototype.reportDeath = function() {
                this.livesLeft -= 1
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = s
    }
    , function(t, e, i) {
        "use strict";
        var n = i(43)
          , s = i(44)
          , r = i(47)
          , o = i(48)
          , a = i(49)
          , l = i(50)
          , u = i(51)
          , c = i(53)
          , h = i(54)
          , p = {
            createChannels: function() {
                return new h["default"]
            },
            createConnectionManager: function(t, e) {
                return new c["default"](t,e)
            },
            createChannel: function(t, e) {
                return new u["default"](t,e)
            },
            createPrivateChannel: function(t, e) {
                return new l["default"](t,e)
            },
            createPresenceChannel: function(t, e) {
                return new a["default"](t,e)
            },
            createTimelineSender: function(t, e) {
                return new o["default"](t,e)
            },
            createAuthorizer: function(t, e) {
                return new r["default"](t,e)
            },
            createHandshake: function(t, e) {
                return new s["default"](t,e)
            },
            createAssistantToTheTransportManager: function(t, e, i) {
                return new n["default"](t,e,i)
            }
        };
        e.__esModule = !0,
        e["default"] = p
    }
    , function(t, e, i) {
        "use strict";
        var u = i(11)
          , c = i(9)
          , n = function() {
            function t(t, e, i) {
                this.manager = t,
                this.transport = e,
                this.minPingDelay = i.minPingDelay,
                this.maxPingDelay = i.maxPingDelay,
                this.pingDelay = void 0
            }
            return t.prototype.createConnection = function(t, e, i, n) {
                var s = this;
                n = c.extend({}, n, {
                    activityTimeout: this.pingDelay
                });
                var r = this.transport.createConnection(t, e, i, n)
                  , o = null
                  , a = function() {
                    r.unbind("open", a),
                    r.bind("closed", l),
                    o = u["default"].now()
                }
                  , l = function(t) {
                    if (r.unbind("closed", l),
                    1002 === t.code || 1003 === t.code)
                        s.manager.reportDeath();
                    else if (!t.wasClean && o) {
                        var e = u["default"].now() - o;
                        e < 2 * s.maxPingDelay && (s.manager.reportDeath(),
                        s.pingDelay = Math.max(e / 2, s.minPingDelay))
                    }
                };
                return r.bind("open", a),
                r
            }
            ,
            t.prototype.isSupported = function(t) {
                return this.manager.isAlive() && this.transport.isSupported(t)
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = n
    }
    , function(t, e, i) {
        "use strict";
        var s = i(9)
          , r = i(45)
          , o = i(46)
          , n = function() {
            function t(t, e) {
                this.transport = t,
                this.callback = e,
                this.bindListeners()
            }
            return t.prototype.close = function() {
                this.unbindListeners(),
                this.transport.close()
            }
            ,
            t.prototype.bindListeners = function() {
                var n = this;
                this.onMessage = function(t) {
                    var e;
                    n.unbindListeners();
                    try {
                        e = r.processHandshake(t)
                    } catch (s) {
                        return n.finish("error", {
                            error: s
                        }),
                        void n.transport.close()
                    }
                    "connected" === e.action ? n.finish("connected", {
                        connection: new o["default"](e.id,n.transport),
                        activityTimeout: e.activityTimeout
                    }) : (n.finish(e.action, {
                        error: e.error
                    }),
                    n.transport.close())
                }
                ,
                this.onClosed = function(t) {
                    n.unbindListeners();
                    var e = r.getCloseAction(t) || "backoff"
                      , i = r.getCloseError(t);
                    n.finish(e, {
                        error: i
                    })
                }
                ,
                this.transport.bind("message", this.onMessage),
                this.transport.bind("closed", this.onClosed)
            }
            ,
            t.prototype.unbindListeners = function() {
                this.transport.unbind("message", this.onMessage),
                this.transport.unbind("closed", this.onClosed)
            }
            ,
            t.prototype.finish = function(t, e) {
                this.callback(s.extend({
                    transport: this.transport,
                    action: t
                }, e))
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = n
    }
    , function(t, e) {
        "use strict";
        e.decodeMessage = function(t) {
            try {
                var e = JSON.parse(t.data);
                if ("string" == typeof e.data)
                    try {
                        e.data = JSON.parse(e.data)
                    } catch (i) {
                        if (!(i instanceof SyntaxError))
                            throw i
                    }
                return e
            } catch (i) {
                throw {
                    type: "MessageParseError",
                    error: i,
                    data: t.data
                }
            }
        }
        ,
        e.encodeMessage = function(t) {
            return JSON.stringify(t)
        }
        ,
        e.processHandshake = function(t) {
            if ("pusher:connection_established" === (t = e.decodeMessage(t)).event) {
                if (!t.data.activity_timeout)
                    throw "No activity timeout specified in handshake";
                return {
                    action: "connected",
                    id: t.data.socket_id,
                    activityTimeout: 1e3 * t.data.activity_timeout
                }
            }
            if ("pusher:error" === t.event)
                return {
                    action: this.getCloseAction(t.data),
                    error: this.getCloseError(t.data)
                };
            throw "Invalid handshake"
        }
        ,
        e.getCloseAction = function(t) {
            return t.code < 4e3 ? 1002 <= t.code && t.code <= 1004 ? "backoff" : null : 4e3 === t.code ? "ssl_only" : t.code < 4100 ? "refused" : t.code < 4200 ? "backoff" : t.code < 4300 ? "retry" : "refused"
        }
        ,
        e.getCloseError = function(t) {
            return 1e3 !== t.code && 1001 !== t.code ? {
                type: "PusherError",
                data: {
                    code: t.code,
                    message: t.reason || t.message
                }
            } : null
        }
    }
    , function(t, e, i) {
        "use strict";
        var n = this && this.__extends || function(t, e) {
            function i() {
                this.constructor = t
            }
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n]);
            t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype,
            new i)
        }
          , s = i(9)
          , r = i(23)
          , o = i(45)
          , a = i(8)
          , l = function(i) {
            function t(t, e) {
                i.call(this),
                this.id = t,
                this.transport = e,
                this.activityTimeout = e.activityTimeout,
                this.bindListeners()
            }
            return n(t, i),
            t.prototype.handlesActivityChecks = function() {
                return this.transport.handlesActivityChecks()
            }
            ,
            t.prototype.send = function(t) {
                return this.transport.send(t)
            }
            ,
            t.prototype.send_event = function(t, e, i) {
                var n = {
                    event: t,
                    data: e
                };
                return i && (n.channel = i),
                a["default"].debug("Event sent", n),
                this.send(o.encodeMessage(n))
            }
            ,
            t.prototype.ping = function() {
                this.transport.supportsPing() ? this.transport.ping() : this.send_event("pusher:ping", {})
            }
            ,
            t.prototype.close = function() {
                this.transport.close()
            }
            ,
            t.prototype.bindListeners = function() {
                var i = this
                  , t = {
                    message: function(t) {
                        var e;
                        try {
                            e = o.decodeMessage(t)
                        } catch (n) {
                            i.emit("error", {
                                type: "MessageParseError",
                                error: n,
                                data: t.data
                            })
                        }
                        if (void 0 !== e) {
                            switch (a["default"].debug("Event recd", e),
                            e.event) {
                            case "pusher:error":
                                i.emit("error", {
                                    type: "PusherError",
                                    data: e.data
                                });
                                break;
                            case "pusher:ping":
                                i.emit("ping");
                                break;
                            case "pusher:pong":
                                i.emit("pong")
                            }
                            i.emit("message", e)
                        }
                    },
                    activity: function() {
                        i.emit("activity")
                    },
                    error: function(t) {
                        i.emit("error", {
                            type: "WebSocketError",
                            error: t
                        })
                    },
                    closed: function(t) {
                        e(),
                        t && t.code && i.handleCloseEvent(t),
                        i.transport = null,
                        i.emit("closed")
                    }
                }
                  , e = function() {
                    s.objectApply(t, function(t, e) {
                        i.transport.unbind(e, t)
                    })
                };
                s.objectApply(t, function(t, e) {
                    i.transport.bind(e, t)
                })
            }
            ,
            t.prototype.handleCloseEvent = function(t) {
                var e = o.getCloseAction(t)
                  , i = o.getCloseError(t);
                i && this.emit("error", i),
                e && this.emit(e)
            }
            ,
            t
        }(r["default"]);
        e.__esModule = !0,
        e["default"] = l
    }
    , function(t, e, i) {
        "use strict";
        var n = i(2)
          , s = function() {
            function i(t, e) {
                this.channel = t;
                var i = e.authTransport;
                if ("undefined" == typeof n["default"].getAuthorizers()[i])
                    throw "'" + i + "' is not a recognized auth transport";
                this.type = i,
                this.options = e,
                this.authOptions = (e || {}).auth || {}
            }
            return i.prototype.composeQuery = function(t) {
                var e = "socket_id=" + encodeURIComponent(t) + "&channel_name=" + encodeURIComponent(this.channel.name);
                for (var i in this.authOptions.params)
                    e += "&" + encodeURIComponent(i) + "=" + encodeURIComponent(this.authOptions.params[i]);
                return e
            }
            ,
            i.prototype.authorize = function(t, e) {
                return i.authorizers = i.authorizers || n["default"].getAuthorizers(),
                i.authorizers[this.type].call(this, n["default"], t, e)
            }
            ,
            i
        }();
        e.__esModule = !0,
        e["default"] = s
    }
    , function(t, e, i) {
        "use strict";
        var n = i(2)
          , s = function() {
            function t(t, e) {
                this.timeline = t,
                this.options = e || {}
            }
            return t.prototype.send = function(t, e) {
                this.timeline.isEmpty() || this.timeline.send(n["default"].TimelineTransport.getAgent(this, t), e)
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = s
    }
    , function(t, e, i) {
        "use strict";
        var n = this && this.__extends || function(t, e) {
            function i() {
                this.constructor = t
            }
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n]);
            t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype,
            new i)
        }
          , s = i(50)
          , r = i(8)
          , o = i(52)
          , a = function(i) {
            function t(t, e) {
                i.call(this, t, e),
                this.members = new o["default"]
            }
            return n(t, i),
            t.prototype.authorize = function(t, n) {
                var s = this;
                i.prototype.authorize.call(this, t, function(t, e) {
                    if (!t) {
                        if (void 0 === e.channel_data)
                            return r["default"].warn("Invalid auth response for channel '" + s.name + "', expected 'channel_data' field"),
                            void n("Invalid auth response");
                        var i = JSON.parse(e.channel_data);
                        s.members.setMyID(i.user_id)
                    }
                    n(t, e)
                })
            }
            ,
            t.prototype.handleEvent = function(t, e) {
                switch (t) {
                case "pusher_internal:subscription_succeeded":
                    this.members.onSubscription(e),
                    this.subscribed = !0,
                    this.emit("pusher:subscription_succeeded", this.members);
                    break;
                case "pusher_internal:member_added":
                    var i = this.members.addMember(e);
                    this.emit("pusher:member_added", i);
                    break;
                case "pusher_internal:member_removed":
                    var n = this.members.removeMember(e);
                    n && this.emit("pusher:member_removed", n);
                    break;
                default:
                    s["default"].prototype.handleEvent.call(this, t, e)
                }
            }
            ,
            t.prototype.disconnect = function() {
                this.members.reset(),
                i.prototype.disconnect.call(this)
            }
            ,
            t
        }(s["default"]);
        e.__esModule = !0,
        e["default"] = a
    }
    , function(t, e, i) {
        "use strict";
        var n = this && this.__extends || function(t, e) {
            function i() {
                this.constructor = t
            }
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n]);
            t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype,
            new i)
        }
          , s = i(42)
          , r = function(t) {
            function e() {
                t.apply(this, arguments)
            }
            return n(e, t),
            e.prototype.authorize = function(t, e) {
                return s["default"].createAuthorizer(this, this.pusher.config).authorize(t, e)
            }
            ,
            e
        }(i(51)["default"]);
        e.__esModule = !0,
        e["default"] = r
    }
    , function(t, e, i) {
        "use strict";
        var n = this && this.__extends || function(t, e) {
            function i() {
                this.constructor = t
            }
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n]);
            t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype,
            new i)
        }
          , s = i(23)
          , r = i(30)
          , o = i(8)
          , a = function(i) {
            function t(e, t) {
                i.call(this, function(t) {
                    o["default"].debug("No callbacks on " + e + " for " + t)
                }),
                this.name = e,
                this.pusher = t,
                this.subscribed = !1
            }
            return n(t, i),
            t.prototype.authorize = function(t, e) {
                return e(!1, {})
            }
            ,
            t.prototype.trigger = function(t, e) {
                if (0 !== t.indexOf("client-"))
                    throw new r.BadEventName("Event '" + t + "' does not start with 'client-'");
                return this.pusher.send_event(t, e, this.name)
            }
            ,
            t.prototype.disconnect = function() {
                this.subscribed = !1
            }
            ,
            t.prototype.handleEvent = function(t, e) {
                0 === t.indexOf("pusher_internal:") ? "pusher_internal:subscription_succeeded" === t && (this.subscribed = !0,
                this.emit("pusher:subscription_succeeded", e)) : this.emit(t, e)
            }
            ,
            t.prototype.subscribe = function() {
                var i = this;
                this.authorize(this.pusher.connection.socket_id, function(t, e) {
                    t ? i.handleEvent("pusher:subscription_error", e) : i.pusher.send_event("pusher:subscribe", {
                        auth: e.auth,
                        channel_data: e.channel_data,
                        channel: i.name
                    })
                })
            }
            ,
            t.prototype.unsubscribe = function() {
                this.pusher.send_event("pusher:unsubscribe", {
                    channel: this.name
                })
            }
            ,
            t
        }(s["default"]);
        e.__esModule = !0,
        e["default"] = a
    }
    , function(t, e, i) {
        "use strict";
        var s = i(9)
          , n = function() {
            function t() {
                this.reset()
            }
            return t.prototype.get = function(t) {
                return Object.prototype.hasOwnProperty.call(this.members, t) ? {
                    id: t,
                    info: this.members[t]
                } : null
            }
            ,
            t.prototype.each = function(i) {
                var n = this;
                s.objectApply(this.members, function(t, e) {
                    i(n.get(e))
                })
            }
            ,
            t.prototype.setMyID = function(t) {
                this.myID = t
            }
            ,
            t.prototype.onSubscription = function(t) {
                this.members = t.presence.hash,
                this.count = t.presence.count,
                this.me = this.get(this.myID)
            }
            ,
            t.prototype.addMember = function(t) {
                return null === this.get(t.user_id) && this.count++,
                this.members[t.user_id] = t.user_info,
                this.get(t.user_id)
            }
            ,
            t.prototype.removeMember = function(t) {
                var e = this.get(t.user_id);
                return e && (delete this.members[t.user_id],
                this.count--),
                e
            }
            ,
            t.prototype.reset = function() {
                this.members = {},
                this.count = 0,
                this.myID = null,
                this.me = null
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = n
    }
    , function(t, e, i) {
        "use strict";
        var n = this && this.__extends || function(t, e) {
            function i() {
                this.constructor = t
            }
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n]);
            t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype,
            new i)
        }
          , s = i(23)
          , r = i(12)
          , o = i(8)
          , a = i(9)
          , l = i(2)
          , u = function(s) {
            function t(t, e) {
                var i = this;
                s.call(this),
                this.key = t,
                this.options = e || {},
                this.state = "initialized",
                this.connection = null,
                this.encrypted = !!e.encrypted,
                this.timeline = this.options.timeline,
                this.connectionCallbacks = this.buildConnectionCallbacks(),
                this.errorCallbacks = this.buildErrorCallbacks(),
                this.handshakeCallbacks = this.buildHandshakeCallbacks(this.errorCallbacks);
                var n = l["default"].getNetwork();
                n.bind("online", function() {
                    i.timeline.info({
                        netinfo: "online"
                    }),
                    ("connecting" === i.state || "unavailable" === i.state) && i.retryIn(0)
                }),
                n.bind("offline", function() {
                    i.timeline.info({
                        netinfo: "offline"
                    }),
                    i.connection && i.sendActivityCheck()
                }),
                this.updateStrategy()
            }
            return n(t, s),
            t.prototype.connect = function() {
                if (!this.connection && !this.runner) {
                    if (!this.strategy.isSupported())
                        return void this.updateState("failed");
                    this.updateState("connecting"),
                    this.startConnecting(),
                    this.setUnavailableTimer()
                }
            }
            ,
            t.prototype.send = function(t) {
                return !!this.connection && this.connection.send(t)
            }
            ,
            t.prototype.send_event = function(t, e, i) {
                return !!this.connection && this.connection.send_event(t, e, i)
            }
            ,
            t.prototype.disconnect = function() {
                this.disconnectInternally(),
                this.updateState("disconnected")
            }
            ,
            t.prototype.isEncrypted = function() {
                return this.encrypted
            }
            ,
            t.prototype.startConnecting = function() {
                var i = this
                  , n = function(t, e) {
                    t ? i.runner = i.strategy.connect(0, n) : "error" === e.action ? (i.emit("error", {
                        type: "HandshakeError",
                        error: e.error
                    }),
                    i.timeline.error({
                        handshakeError: e.error
                    })) : (i.abortConnecting(),
                    i.handshakeCallbacks[e.action](e))
                };
                this.runner = this.strategy.connect(0, n)
            }
            ,
            t.prototype.abortConnecting = function() {
                this.runner && (this.runner.abort(),
                this.runner = null)
            }
            ,
            t.prototype.disconnectInternally = function() {
                (this.abortConnecting(),
                this.clearRetryTimer(),
                this.clearUnavailableTimer(),
                this.connection) && this.abandonConnection().close()
            }
            ,
            t.prototype.updateStrategy = function() {
                this.strategy = this.options.getStrategy({
                    key: this.key,
                    timeline: this.timeline,
                    encrypted: this.encrypted
                })
            }
            ,
            t.prototype.retryIn = function(t) {
                var e = this;
                this.timeline.info({
                    action: "retry",
                    delay: t
                }),
                0 < t && this.emit("connecting_in", Math.round(t / 1e3)),
                this.retryTimer = new r.OneOffTimer(t || 0,function() {
                    e.disconnectInternally(),
                    e.connect()
                }
                )
            }
            ,
            t.prototype.clearRetryTimer = function() {
                this.retryTimer && (this.retryTimer.ensureAborted(),
                this.retryTimer = null)
            }
            ,
            t.prototype.setUnavailableTimer = function() {
                var t = this;
                this.unavailableTimer = new r.OneOffTimer(this.options.unavailableTimeout,function() {
                    t.updateState("unavailable")
                }
                )
            }
            ,
            t.prototype.clearUnavailableTimer = function() {
                this.unavailableTimer && this.unavailableTimer.ensureAborted()
            }
            ,
            t.prototype.sendActivityCheck = function() {
                var t = this;
                this.stopActivityCheck(),
                this.connection.ping(),
                this.activityTimer = new r.OneOffTimer(this.options.pongTimeout,function() {
                    t.timeline.error({
                        pong_timed_out: t.options.pongTimeout
                    }),
                    t.retryIn(0)
                }
                )
            }
            ,
            t.prototype.resetActivityCheck = function() {
                var t = this;
                this.stopActivityCheck(),
                this.connection.handlesActivityChecks() || (this.activityTimer = new r.OneOffTimer(this.activityTimeout,function() {
                    t.sendActivityCheck()
                }
                ))
            }
            ,
            t.prototype.stopActivityCheck = function() {
                this.activityTimer && this.activityTimer.ensureAborted()
            }
            ,
            t.prototype.buildConnectionCallbacks = function() {
                var e = this;
                return {
                    message: function(t) {
                        e.resetActivityCheck(),
                        e.emit("message", t)
                    },
                    ping: function() {
                        e.send_event("pusher:pong", {})
                    },
                    activity: function() {
                        e.resetActivityCheck()
                    },
                    error: function(t) {
                        e.emit("error", {
                            type: "WebSocketError",
                            error: t
                        })
                    },
                    closed: function() {
                        e.abandonConnection(),
                        e.shouldRetry() && e.retryIn(1e3)
                    }
                }
            }
            ,
            t.prototype.buildHandshakeCallbacks = function(t) {
                var e = this;
                return a.extend({}, t, {
                    connected: function(t) {
                        e.activityTimeout = Math.min(e.options.activityTimeout, t.activityTimeout, t.connection.activityTimeout || 1 / 0),
                        e.clearUnavailableTimer(),
                        e.setConnection(t.connection),
                        e.socket_id = e.connection.id,
                        e.updateState("connected", {
                            socket_id: e.socket_id
                        })
                    }
                })
            }
            ,
            t.prototype.buildErrorCallbacks = function() {
                var i = this
                  , t = function(e) {
                    return function(t) {
                        t.error && i.emit("error", {
                            type: "WebSocketError",
                            error: t.error
                        }),
                        e(t)
                    }
                };
                return {
                    ssl_only: t(function() {
                        i.encrypted = !0,
                        i.updateStrategy(),
                        i.retryIn(0)
                    }),
                    refused: t(function() {
                        i.disconnect()
                    }),
                    backoff: t(function() {
                        i.retryIn(1e3)
                    }),
                    retry: t(function() {
                        i.retryIn(0)
                    })
                }
            }
            ,
            t.prototype.setConnection = function(t) {
                for (var e in this.connection = t,
                this.connectionCallbacks)
                    this.connection.bind(e, this.connectionCallbacks[e]);
                this.resetActivityCheck()
            }
            ,
            t.prototype.abandonConnection = function() {
                if (this.connection) {
                    for (var t in this.stopActivityCheck(),
                    this.connectionCallbacks)
                        this.connection.unbind(t, this.connectionCallbacks[t]);
                    var e = this.connection;
                    return this.connection = null,
                    e
                }
            }
            ,
            t.prototype.updateState = function(t, e) {
                var i = this.state;
                if (i !== (this.state = t)) {
                    var n = t;
                    "connected" === n && (n += " with new socket ID " + e.socket_id),
                    o["default"].debug("State changed", i + " -> " + n),
                    this.timeline.info({
                        state: t,
                        params: e
                    }),
                    this.emit("state_change", {
                        previous: i,
                        current: t
                    }),
                    this.emit(t, e)
                }
            }
            ,
            t.prototype.shouldRetry = function() {
                return "connecting" === this.state || "connected" === this.state
            }
            ,
            t
        }(s["default"]);
        e.__esModule = !0,
        e["default"] = u
    }
    , function(t, e, i) {
        "use strict";
        function n(t, e) {
            return 0 === t.indexOf("private-") ? r["default"].createPrivateChannel(t, e) : 0 === t.indexOf("presence-") ? r["default"].createPresenceChannel(t, e) : r["default"].createChannel(t, e)
        }
        var s = i(9)
          , r = i(42)
          , o = function() {
            function t() {
                this.channels = {}
            }
            return t.prototype.add = function(t, e) {
                return this.channels[t] || (this.channels[t] = n(t, e)),
                this.channels[t]
            }
            ,
            t.prototype.all = function() {
                return s.values(this.channels)
            }
            ,
            t.prototype.find = function(t) {
                return this.channels[t]
            }
            ,
            t.prototype.remove = function(t) {
                var e = this.channels[t];
                return delete this.channels[t],
                e
            }
            ,
            t.prototype.disconnect = function() {
                s.objectApply(this.channels, function(t) {
                    t.disconnect()
                })
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = o
    }
    , function(t, e, i) {
        "use strict";
        function h(t, e) {
            return n["default"].defer(function() {
                e(t)
            }),
            {
                abort: function() {},
                forceMinPriority: function() {}
            }
        }
        var p = i(42)
          , n = i(11)
          , d = i(30)
          , f = i(9)
          , s = function() {
            function t(t, e, i, n) {
                this.name = t,
                this.priority = e,
                this.transport = i,
                this.options = n || {}
            }
            return t.prototype.isSupported = function() {
                return this.transport.isSupported({
                    encrypted: this.options.encrypted
                })
            }
            ,
            t.prototype.connect = function(t, e) {
                var i = this;
                if (!this.isSupported())
                    return h(new d.UnsupportedStrategy, e);
                if (this.priority < t)
                    return h(new d.TransportPriorityTooLow, e);
                var n = !1
                  , s = this.transport.createConnection(this.name, this.priority, this.options.key, this.options)
                  , r = null
                  , o = function() {
                    s.unbind("initialized", o),
                    s.connect()
                }
                  , a = function() {
                    r = p["default"].createHandshake(s, function(t) {
                        n = !0,
                        c(),
                        e(null, t)
                    })
                }
                  , l = function(t) {
                    c(),
                    e(t)
                }
                  , u = function() {
                    var t;
                    c(),
                    t = f.safeJSONStringify(s),
                    e(new d.TransportClosed(t))
                }
                  , c = function() {
                    s.unbind("initialized", o),
                    s.unbind("open", a),
                    s.unbind("error", l),
                    s.unbind("closed", u)
                };
                return s.bind("initialized", o),
                s.bind("open", a),
                s.bind("error", l),
                s.bind("closed", u),
                s.initialize(),
                {
                    abort: function() {
                        n || (c(),
                        r ? r.close() : s.close())
                    },
                    forceMinPriority: function(t) {
                        n || i.priority < t && (r ? r.close() : s.close())
                    }
                }
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = s
    }
    , function(t, e, i) {
        "use strict";
        var n = i(9)
          , s = i(11)
          , o = i(12)
          , r = function() {
            function t(t, e) {
                this.strategies = t,
                this.loop = Boolean(e.loop),
                this.failFast = Boolean(e.failFast),
                this.timeout = e.timeout,
                this.timeoutLimit = e.timeoutLimit
            }
            return t.prototype.isSupported = function() {
                return n.any(this.strategies, s["default"].method("isSupported"))
            }
            ,
            t.prototype.connect = function(i, n) {
                var s = this
                  , r = this.strategies
                  , o = 0
                  , a = this.timeout
                  , l = null
                  , u = function(t, e) {
                    e ? n(null, e) : (o += 1,
                    s.loop && (o %= r.length),
                    o < r.length ? (a && (a *= 2,
                    s.timeoutLimit && (a = Math.min(a, s.timeoutLimit))),
                    l = s.tryStrategy(r[o], i, {
                        timeout: a,
                        failFast: s.failFast
                    }, u)) : n(!0))
                };
                return l = this.tryStrategy(r[o], i, {
                    timeout: a,
                    failFast: this.failFast
                }, u),
                {
                    abort: function() {
                        l.abort()
                    },
                    forceMinPriority: function(t) {
                        i = t,
                        l && l.forceMinPriority(t)
                    }
                }
            }
            ,
            t.prototype.tryStrategy = function(t, e, i, n) {
                var s = null
                  , r = null;
                return 0 < i.timeout && (s = new o.OneOffTimer(i.timeout,function() {
                    r.abort(),
                    n(!0)
                }
                )),
                r = t.connect(e, function(t, e) {
                    t && s && s.isRunning() && !i.failFast || (s && s.ensureAborted(),
                    n(t, e))
                }),
                {
                    abort: function() {
                        s && s.ensureAborted(),
                        r.abort()
                    },
                    forceMinPriority: function(t) {
                        r.forceMinPriority(t)
                    }
                }
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = r
    }
    , function(t, e, i) {
        "use strict";
        function n(t, s, r) {
            var i = a.map(t, function(t, e, i, n) {
                return t.connect(s, r(e, n))
            });
            return {
                abort: function() {
                    a.apply(i, o)
                },
                forceMinPriority: function(e) {
                    a.apply(i, function(t) {
                        t.forceMinPriority(e)
                    })
                }
            }
        }
        function r(t) {
            return a.all(t, function(t) {
                return Boolean(t.error)
            })
        }
        function o(t) {
            t.error || t.aborted || (t.abort(),
            t.aborted = !0)
        }
        var a = i(9)
          , s = i(11)
          , l = function() {
            function t(t) {
                this.strategies = t
            }
            return t.prototype.isSupported = function() {
                return a.any(this.strategies, s["default"].method("isSupported"))
            }
            ,
            t.prototype.connect = function(t, s) {
                return n(this.strategies, t, function(i, n) {
                    return function(t, e) {
                        return (n[i].error = t) ? void (r(n) && s(!0)) : (a.apply(n, function(t) {
                            t.forceMinPriority(e.transport.priority)
                        }),
                        void s(null, e))
                    }
                })
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = l
    }
    , function(t, e, i) {
        "use strict";
        function s(t) {
            return "pusherTransport" + (t ? "Encrypted" : "Unencrypted")
        }
        function u(t) {
            var e = r["default"].getLocalStorage();
            if (e)
                try {
                    var i = e[s(t)];
                    if (i)
                        return JSON.parse(i)
                } catch (u) {
                    h(t)
                }
            return null
        }
        function c(t, e, i) {
            var n = r["default"].getLocalStorage();
            if (n)
                try {
                    n[s(t)] = o.safeJSONStringify({
                        timestamp: p["default"].now(),
                        transport: e,
                        latency: i
                    })
                } catch (c) {}
        }
        function h(t) {
            var e = r["default"].getLocalStorage();
            if (e)
                try {
                    delete e[s(t)]
                } catch (i) {}
        }
        var p = i(11)
          , r = i(2)
          , d = i(56)
          , o = i(9)
          , n = function() {
            function t(t, e, i) {
                this.strategy = t,
                this.transports = e,
                this.ttl = i.ttl || 18e5,
                this.encrypted = i.encrypted,
                this.timeline = i.timeline
            }
            return t.prototype.isSupported = function() {
                return this.strategy.isSupported()
            }
            ,
            t.prototype.connect = function(i, n) {
                var s = this.encrypted
                  , t = u(s)
                  , r = [this.strategy];
                if (t && t.timestamp + this.ttl >= p["default"].now()) {
                    var e = this.transports[t.transport];
                    e && (this.timeline.info({
                        cached: !0,
                        transport: t.transport,
                        latency: t.latency
                    }),
                    r.push(new d["default"]([e],{
                        timeout: 2 * t.latency + 1e3,
                        failFast: !0
                    })))
                }
                var o = p["default"].now()
                  , a = r.pop().connect(i, function l(t, e) {
                    t ? (h(s),
                    0 < r.length ? (o = p["default"].now(),
                    a = r.pop().connect(i, l)) : n(t)) : (c(s, e.transport.name, p["default"].now() - o),
                    n(null, e))
                });
                return {
                    abort: function() {
                        a.abort()
                    },
                    forceMinPriority: function(t) {
                        i = t,
                        a && a.forceMinPriority(t)
                    }
                }
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = n
    }
    , function(t, e, i) {
        "use strict";
        var r = i(12)
          , n = function() {
            function t(t, e) {
                var i = e.delay;
                this.strategy = t,
                this.options = {
                    delay: i
                }
            }
            return t.prototype.isSupported = function() {
                return this.strategy.isSupported()
            }
            ,
            t.prototype.connect = function(e, t) {
                var i, n = this.strategy, s = new r.OneOffTimer(this.options.delay,function() {
                    i = n.connect(e, t)
                }
                );
                return {
                    abort: function() {
                        s.ensureAborted(),
                        i && i.abort()
                    },
                    forceMinPriority: function(t) {
                        e = t,
                        i && i.forceMinPriority(t)
                    }
                }
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = n
    }
    , function(t, e) {
        "use strict";
        var i = function() {
            function t(t, e, i) {
                this.test = t,
                this.trueBranch = e,
                this.falseBranch = i
            }
            return t.prototype.isSupported = function() {
                return (this.test() ? this.trueBranch : this.falseBranch).isSupported()
            }
            ,
            t.prototype.connect = function(t, e) {
                return (this.test() ? this.trueBranch : this.falseBranch).connect(t, e)
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = i
    }
    , function(t, e) {
        "use strict";
        var i = function() {
            function t(t) {
                this.strategy = t
            }
            return t.prototype.isSupported = function() {
                return this.strategy.isSupported()
            }
            ,
            t.prototype.connect = function(t, i) {
                var n = this.strategy.connect(t, function(t, e) {
                    e && n.abort(),
                    i(t, e)
                });
                return n
            }
            ,
            t
        }();
        e.__esModule = !0,
        e["default"] = i
    }
    , function(t, e, i) {
        "use strict";
        var n = i(5);
        e.getGlobalConfig = function() {
            return {
                wsHost: n["default"].host,
                wsPort: n["default"].ws_port,
                wssPort: n["default"].wss_port,
                httpHost: n["default"].sockjs_host,
                httpPort: n["default"].sockjs_http_port,
                httpsPort: n["default"].sockjs_https_port,
                httpPath: n["default"].sockjs_path,
                statsHost: n["default"].stats_host,
                authEndpoint: n["default"].channel_auth_endpoint,
                authTransport: n["default"].channel_auth_transport,
                activity_timeout: n["default"].activity_timeout,
                pong_timeout: n["default"].pong_timeout,
                unavailable_timeout: n["default"].unavailable_timeout
            }
        }
        ,
        e.getClusterConfig = function(t) {
            return {
                wsHost: "ws-" + t + ".pusher.com",
                httpHost: "sockjs-" + t + ".pusher.com"
            }
        }
    }
    ])
}),
function(n, t) {
    "use strict";
    function s(t, e, i) {
        return n.get("/notifier/notifications?channel=" + t + "&event=" + e + "&last_message_at=" + i)
    }
    var e = function() {}
      , i = function(t) {
        this.channelName = t
    };
    i.prototype.bind = function(t, i) {
        var n, e;
        n = new Date,
        e = this.channelName,
        setInterval(function() {
            s(e, t, n).success(function(t) {
                var e;
                if (0 < t.length)
                    for (n = t[0].created_at,
                    e = t.length - 1; 0 <= e; e--)
                        i(t[e])
            })
        }, 3e3)
    }
    ,
    e.prototype.subscribe = function(t) {
        return new i(t)
    }
    ,
    e.prototype.unsubscribe = n.noop,
    t.CMMPoller = e
}(jQuery, window),
function(e, t) {
    "use strict";
    function i() {}
    function n(t) {
        return f[t] || (f[t] = e("meta[name=" + t + "]").attr("content")),
        f[t]
    }
    function s() {
        return !!h && !!n(l)
    }
    function r() {
        s() ? d = d || new h(n(l),{
            auth: {
                headers: {
                    "X-CSRF-Token": n(u)
                }
            }
        }) : console.warn("NotifierClient is not available!")
    }
    function o(t) {
        e && e(window).unload(function() {
            d.unsubscribe(t)
        })
    }
    function a(t) {
        return s() ? (m[t] || (m[t] = d.subscribe(t),
        o(t)),
        m[t]) : (console.warn("NotifierClient is not available!"),
        {
            bind: i
        })
    }
    var l, u, c, h, p, d, f, m;
    l = "notifier-client-key",
    u = "csrf-token",
    f = {},
    m = {},
    h = t[n("notifier-client-name")],
    (c = function() {
        r()
    }
    ).instance = function() {
        return p = p || new c
    }
    ,
    c.prototype.bind = function(t, e, i) {
        a(t).bind(e, i)
    }
    ,
    c.prototype.unbind = function(t, e, i) {
        a(t).unbind(e, i)
    }
    ,
    t.CMMNotifier = c
}(jQuery, window),
function() {
    _.mixin(_.string.exports()),
    window.App = {
        Models: {},
        Views: {
            Shared: {
                Index: {},
                Edit: {}
            },
            Requests: {
                GroupIndex: {},
                Edit: {},
                Shared: {}
            },
            Users: {
                Index: {},
                Edit: {}
            },
            Groups: {
                Index: {},
                Edit: {}
            }
        },
        Routers: {},
        Services: {},
        Collections: {},
        init: function() {
            return App.app_id = $("meta[name=app-id]").attr("content"),
            App.env = $("meta[name=app-env]").attr("content"),
            App.PortalServicesUrl = $("meta[name=portal_services_url]").attr("content"),
            App.UsePortalServicesFor = window.use_portal_services_for,
            App.User = new App.Models.User({
                id: $("meta[name=current-user-id]").attr("content"),
                central: "true" === $("meta[name=central-user]").attr("content"),
                anonymous: "true" === $("meta[name=anonymous-user]").attr("content"),
                api_user: "true" === $("meta[name=api-user]").attr("content"),
                copc_pilot_user: "true" === $("meta[name=copc-pilot-user]").attr("content"),
                pharmacy_user: "true" === $("meta[name=pharmacy-user]").attr("content"),
                show_renew_dialog: "true" === $("meta[name=show-renewal-dialog]").attr("content"),
                windbreaker_header_enabled: "true" === $("meta[name=windbreaker-header-enabled]").attr("content"),
                request_send_control_token: "true" === $("meta[name=request-send-control-token]").attr("content")
            }),
            App.Navigation = new App.Views.Shared.Navigation,
            App.Cookies = new App.CookieWrapper,
            new App.Routers.Requests,
            new App.Routers.Users,
            new App.Routers.Groups,
            Backbone.history.start({
                pushState: !0
            })
        }
    },
    jQuery(function() {
        return App.init(),
        $("body").on("mousedown", ".button", function(t) {
            return $(t.target).closest(".button").addClass("active")
        }),
        $("body").on("mouseup mouseleave", ".button", function(t) {
            return $(t.target).closest(".button").removeClass("active")
        })
    })
}
.call(this),
function() {
    var l = [].slice;
    window.HAML = function() {
        function e() {}
        return e.escape = function(t) {
            return ("" + t).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/\//g, "&#47;")
        }
        ,
        e.cleanValue = function(t) {
            switch (t) {
            case null:
            case void 0:
                return "";
            case !0:
            case !1:
                return "\x93" + t;
            default:
                return t
            }
        }
        ,
        e.extend = function(t) {
            var e, i, n, s, r, o, a;
            for (s = t,
            e = 0,
            n = (o = 2 <= arguments.length ? l.call(arguments, 1) : []).length; e < n; e++)
                for (i in r = o[e])
                    a = r[i],
                    s[i] = a;
            return s
        }
        ,
        e.globals = function() {
            return {}
        }
        ,
        e.context = function(t) {
            return this.extend({}, e.globals(), t)
        }
        ,
        e.preserve = function(t) {
            return t.replace(/\n/g, "&#x000A;")
        }
        ,
        e.findAndPreserve = function(t) {
            var e;
            return e = "textarea,pre".split(",").join("|"),
            t.replace(/\r/g, "").replace(RegExp("<(" + e + ")>([\\s\\S]*?)<\\/\\1>", "g"), function(t, e, i) {
                return "<" + e + ">" + window.HAML.preserve(i) + "</" + e + ">"
            })
        }
        ,
        e.surround = function(t, e, i) {
            var n;
            return t + (null != (n = i.call(this)) ? n.replace(/^\s+|\s+$/g, "") : void 0) + e
        }
        ,
        e.succeed = function(t, e) {
            var i;
            return (null != (i = e.call(this)) ? i.replace(/\s+$/g, "") : void 0) + t
        }
        ,
        e.precede = function(t, e) {
            var i;
            return t + (null != (i = e.call(this)) ? i.replace(/^\s+/g, "") : void 0)
        }
        ,
        e.reference = function(t, e) {
            var i, n, s;
            if (n = e ? e + "_" : "",
            "function" == typeof t.hamlObjectRef ? n += t.hamlObjectRef() : n += ((null != (s = t.constructor) ? s.name : void 0) || "object").replace(/\W+/g, "_").replace(/([a-z\d])([A-Z])/g, "$1_$2").toLowerCase(),
            i = "function" == typeof t.to_key ? t.to_key() : "function" == typeof t.id ? t.id() : t.id ? t.id : t)
                return "class='" + n + "'" + " id='" + n + "_" + i + "'"
        }
        ,
        e
    }()
}
.call(this),
function(u) {
    function o() {
        return {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1
        }
    }
    function t(e, i) {
        return function(t) {
            return r(e.call(this, t), i)
        }
    }
    function e(e, i) {
        return function(t) {
            return this.lang().ordinal(e.call(this, t), i)
        }
    }
    function i() {}
    function n(t) {
        x(t),
        l(this, t)
    }
    function a(t) {
        var e = g(t)
          , i = e.year || 0
          , n = e.month || 0
          , s = e.week || 0
          , r = e.day || 0
          , o = e.hour || 0
          , a = e.minute || 0
          , l = e.second || 0
          , u = e.millisecond || 0;
        this._milliseconds = +u + 1e3 * l + 6e4 * a + 36e5 * o,
        this._days = +r + 7 * s,
        this._months = +n + 12 * i,
        this._data = {},
        this._bubble()
    }
    function l(t, e) {
        for (var i in e)
            e.hasOwnProperty(i) && (t[i] = e[i]);
        return e.hasOwnProperty("toString") && (t.toString = e.toString),
        e.hasOwnProperty("valueOf") && (t.valueOf = e.valueOf),
        t
    }
    function s(t) {
        var e, i = {};
        for (e in t)
            t.hasOwnProperty(e) && gt.hasOwnProperty(e) && (i[e] = t[e]);
        return i
    }
    function c(t) {
        return t < 0 ? Math.ceil(t) : Math.floor(t)
    }
    function r(t, e, i) {
        for (var n = "" + Math.abs(t), s = 0 <= t; n.length < e; )
            n = "0" + n;
        return (s ? i ? "+" : "" : "-") + n
    }
    function h(t, e, i, n) {
        var s, r, o = e._milliseconds, a = e._days, l = e._months;
        o && t._d.setTime(+t._d + o * i),
        (a || l) && (s = t.minute(),
        r = t.hour()),
        a && t.date(t.date() + a * i),
        l && t.month(t.month() + l * i),
        o && !n && nt.updateOffset(t),
        (a || l) && (t.minute(s),
        t.hour(r))
    }
    function p(t) {
        return "[object Array]" === Object.prototype.toString.call(t)
    }
    function d(t) {
        return "[object Date]" === Object.prototype.toString.call(t) || t instanceof Date
    }
    function f(t, e, i) {
        var n, s = Math.min(t.length, e.length), r = Math.abs(t.length - e.length), o = 0;
        for (n = 0; n < s; n++)
            (i && t[n] !== e[n] || !i && _(t[n]) !== _(e[n])) && o++;
        return o + r
    }
    function m(t) {
        if (t) {
            var e = t.toLowerCase().replace(/(.)s$/, "$1");
            t = Jt[t] || Wt[e] || e
        }
        return t
    }
    function g(t) {
        var e, i, n = {};
        for (i in t)
            t.hasOwnProperty(i) && ((e = m(i)) && (n[e] = t[i]));
        return n
    }
    function y(o) {
        var a, l;
        if (0 === o.indexOf("week"))
            a = 7,
            l = "day";
        else {
            if (0 !== o.indexOf("month"))
                return;
            a = 12,
            l = "month"
        }
        nt[o] = function(i, t) {
            var e, n, s = nt.fn._lang[o], r = [];
            if ("number" == typeof i && (t = i,
            i = u),
            n = function(t) {
                var e = nt().utc().set(l, t);
                return s.call(nt.fn._lang, e, i || "")
            }
            ,
            null != t)
                return n(t);
            for (e = 0; e < a; e++)
                r.push(n(e));
            return r
        }
    }
    function _(t) {
        var e = +t
          , i = 0;
        return 0 !== e && isFinite(e) && (i = 0 <= e ? Math.floor(e) : Math.ceil(e)),
        i
    }
    function v(t, e) {
        return new Date(Date.UTC(t, e + 1, 0)).getUTCDate()
    }
    function w(t) {
        return b(t) ? 366 : 365
    }
    function b(t) {
        return t % 4 == 0 && t % 100 != 0 || t % 400 == 0
    }
    function x(t) {
        var e;
        t._a && -2 === t._pf.overflow && (e = t._a[ut] < 0 || 11 < t._a[ut] ? ut : t._a[ct] < 1 || t._a[ct] > v(t._a[lt], t._a[ut]) ? ct : t._a[ht] < 0 || 23 < t._a[ht] ? ht : t._a[pt] < 0 || 59 < t._a[pt] ? pt : t._a[dt] < 0 || 59 < t._a[dt] ? dt : t._a[ft] < 0 || 999 < t._a[ft] ? ft : -1,
        t._pf._overflowDayOfYear && (e < lt || ct < e) && (e = ct),
        t._pf.overflow = e)
    }
    function k(t) {
        return null == t._isValid && (t._isValid = !isNaN(t._d.getTime()) && t._pf.overflow < 0 && !t._pf.empty && !t._pf.invalidMonth && !t._pf.nullInput && !t._pf.invalidFormat && !t._pf.userInvalidated,
        t._strict && (t._isValid = t._isValid && 0 === t._pf.charsLeftOver && 0 === t._pf.unusedTokens.length)),
        t._isValid
    }
    function C(t) {
        return t ? t.toLowerCase().replace("_", "-") : t
    }
    function S(t, e) {
        return e._isUTC ? nt(t).zone(e._offset || 0) : nt(t).local()
    }
    function T(t, e) {
        return e.abbr = t,
        mt[t] || (mt[t] = new i),
        mt[t].set(e),
        mt[t]
    }
    function A(t) {
        delete mt[t]
    }
    function D(t) {
        var e, i, n, s, r = 0, o = function(t) {
            if (!mt[t] && yt)
                try {
                    require("./lang/" + t)
                } catch (e) {}
            return mt[t]
        };
        if (!t)
            return nt.fn._lang;
        if (!p(t)) {
            if (i = o(t))
                return i;
            t = [t]
        }
        for (; r < t.length; ) {
            for (s = C(t[r]).split("-"),
            e = s.length,
            n = (n = C(t[r + 1])) ? n.split("-") : null; 0 < e; ) {
                if (i = o(s.slice(0, e).join("-")))
                    return i;
                if (n && n.length >= e && f(s, n, !0) >= e - 1)
                    break;
                e--
            }
            r++
        }
        return nt.fn._lang
    }
    function M(t) {
        return t.match(/\[[\s\S]/) ? t.replace(/^\[|\]$/g, "") : t.replace(/\\/g, "")
    }
    function q(i) {
        var n, s, r = i.match(bt);
        for (n = 0,
        s = r.length; n < s; n++)
            r[n] = Gt[r[n]] ? Gt[r[n]] : M(r[n]);
        return function(t) {
            var e = "";
            for (n = 0; n < s; n++)
                e += r[n]instanceof Function ? r[n].call(t, i) : r[n];
            return e
        }
    }
    function P(t, e) {
        return t.isValid() ? (e = E(e, t.lang()),
        Ut[e] || (Ut[e] = q(e)),
        Ut[e](t)) : t.lang().invalidDate()
    }
    function E(t, e) {
        function i(t) {
            return e.longDateFormat(t) || t
        }
        var n = 5;
        for (xt.lastIndex = 0; 0 <= n && xt.test(t); )
            t = t.replace(xt, i),
            xt.lastIndex = 0,
            n -= 1;
        return t
    }
    function I(t, e) {
        var i = e._strict;
        switch (t) {
        case "DDDD":
            return Nt;
        case "YYYY":
        case "GGGG":
        case "gggg":
            return i ? Ot : St;
        case "Y":
        case "G":
        case "g":
            return Ft;
        case "YYYYYY":
        case "YYYYY":
        case "GGGGG":
        case "ggggg":
            return i ? Rt : Tt;
        case "S":
            if (i)
                return Et;
        case "SS":
            if (i)
                return It;
        case "SSS":
            if (i)
                return Nt;
        case "DDD":
            return Ct;
        case "MMM":
        case "MMMM":
        case "dd":
        case "ddd":
        case "dddd":
            return Dt;
        case "a":
        case "A":
            return D(e._l)._meridiemParse;
        case "X":
            return Pt;
        case "Z":
        case "ZZ":
            return Mt;
        case "T":
            return qt;
        case "SSSS":
            return At;
        case "MM":
        case "DD":
        case "YY":
        case "GG":
        case "gg":
        case "HH":
        case "hh":
        case "mm":
        case "ss":
        case "ww":
        case "WW":
            return i ? It : kt;
        case "M":
        case "D":
        case "d":
        case "H":
        case "h":
        case "m":
        case "s":
        case "w":
        case "W":
        case "e":
        case "E":
            return kt;
        default:
            return new RegExp(L($(t.replace("\\", "")), "i"))
        }
    }
    function N(t) {
        var e = (t = t || "").match(Mt) || []
          , i = ((e[e.length - 1] || []) + "").match(Bt) || ["-", 0, 0]
          , n = 60 * i[1] + _(i[2]);
        return "+" === i[0] ? -n : n
    }
    function O(t, e, i) {
        var n, s = i._a;
        switch (t) {
        case "M":
        case "MM":
            null != e && (s[ut] = _(e) - 1);
            break;
        case "MMM":
        case "MMMM":
            null != (n = D(i._l).monthsParse(e)) ? s[ut] = n : i._pf.invalidMonth = e;
            break;
        case "D":
        case "DD":
            null != e && (s[ct] = _(e));
            break;
        case "DDD":
        case "DDDD":
            null != e && (i._dayOfYear = _(e));
            break;
        case "YY":
            s[lt] = _(e) + (68 < _(e) ? 1900 : 2e3);
            break;
        case "YYYY":
        case "YYYYY":
        case "YYYYYY":
            s[lt] = _(e);
            break;
        case "a":
        case "A":
            i._isPm = D(i._l).isPM(e);
            break;
        case "H":
        case "HH":
        case "h":
        case "hh":
            s[ht] = _(e);
            break;
        case "m":
        case "mm":
            s[pt] = _(e);
            break;
        case "s":
        case "ss":
            s[dt] = _(e);
            break;
        case "S":
        case "SS":
        case "SSS":
        case "SSSS":
            s[ft] = _(1e3 * ("0." + e));
            break;
        case "X":
            i._d = new Date(1e3 * parseFloat(e));
            break;
        case "Z":
        case "ZZ":
            i._useUTC = !0,
            i._tzm = N(e);
            break;
        case "w":
        case "ww":
        case "W":
        case "WW":
        case "d":
        case "dd":
        case "ddd":
        case "dddd":
        case "e":
        case "E":
            t = t.substr(0, 1);
        case "gg":
        case "gggg":
        case "GG":
        case "GGGG":
        case "GGGGG":
            t = t.substr(0, 2),
            e && (i._w = i._w || {},
            i._w[t] = e)
        }
    }
    function R(i) {
        var t, e, n, s, r, o, a, l, u, c, h = [];
        if (!i._d) {
            for (n = H(i),
            i._w && null == i._a[ct] && null == i._a[ut] && (r = function(t) {
                var e = parseInt(t, 10);
                return t ? t.length < 3 ? 68 < e ? 1900 + e : 2e3 + e : e : null == i._a[lt] ? nt().weekYear() : i._a[lt]
            }
            ,
            null != (o = i._w).GG || null != o.W || null != o.E ? a = X(r(o.GG), o.W || 1, o.E, 4, 1) : (l = D(i._l),
            u = null != o.d ? U(o.d, l) : null != o.e ? parseInt(o.e, 10) + l._week.dow : 0,
            c = parseInt(o.w, 10) || 1,
            null != o.d && u < l._week.dow && c++,
            a = X(r(o.gg), c, u, l._week.doy, l._week.dow)),
            i._a[lt] = a.year,
            i._dayOfYear = a.dayOfYear),
            i._dayOfYear && (s = null == i._a[lt] ? n[lt] : i._a[lt],
            i._dayOfYear > w(s) && (i._pf._overflowDayOfYear = !0),
            e = W(s, 0, i._dayOfYear),
            i._a[ut] = e.getUTCMonth(),
            i._a[ct] = e.getUTCDate()),
            t = 0; t < 3 && null == i._a[t]; ++t)
                i._a[t] = h[t] = n[t];
            for (; t < 7; t++)
                i._a[t] = h[t] = null == i._a[t] ? 2 === t ? 1 : 0 : i._a[t];
            h[ht] += _((i._tzm || 0) / 60),
            h[pt] += _((i._tzm || 0) % 60),
            i._d = (i._useUTC ? W : J).apply(null, h)
        }
    }
    function F(t) {
        var e;
        t._d || (e = g(t._i),
        t._a = [e.year, e.month, e.day, e.hour, e.minute, e.second, e.millisecond],
        R(t))
    }
    function H(t) {
        var e = new Date;
        return t._useUTC ? [e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()] : [e.getFullYear(), e.getMonth(), e.getDate()]
    }
    function V(t) {
        t._a = [],
        t._pf.empty = !0;
        var e, i, n, s, r, o = D(t._l), a = "" + t._i, l = a.length, u = 0;
        for (n = E(t._f, o).match(bt) || [],
        e = 0; e < n.length; e++)
            s = n[e],
            (i = (a.match(I(s, t)) || [])[0]) && (0 < (r = a.substr(0, a.indexOf(i))).length && t._pf.unusedInput.push(r),
            a = a.slice(a.indexOf(i) + i.length),
            u += i.length),
            Gt[s] ? (i ? t._pf.empty = !1 : t._pf.unusedTokens.push(s),
            O(s, i, t)) : t._strict && !i && t._pf.unusedTokens.push(s);
        t._pf.charsLeftOver = l - u,
        0 < a.length && t._pf.unusedInput.push(a),
        t._isPm && t._a[ht] < 12 && (t._a[ht] += 12),
        !1 === t._isPm && 12 === t._a[ht] && (t._a[ht] = 0),
        R(t),
        x(t)
    }
    function $(t) {
        return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(t, e, i, n, s) {
            return e || i || n || s
        })
    }
    function L(t) {
        return t.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
    }
    function B(t) {
        var e, i, n, s, r;
        if (0 === t._f.length)
            return t._pf.invalidFormat = !0,
            void (t._d = new Date(NaN));
        for (s = 0; s < t._f.length; s++)
            r = 0,
            (e = l({}, t))._pf = o(),
            e._f = t._f[s],
            V(e),
            k(e) && (r += e._pf.charsLeftOver,
            r += 10 * e._pf.unusedTokens.length,
            e._pf.score = r,
            (null == n || r < n) && (n = r,
            i = e));
        l(t, i || e)
    }
    function z(t) {
        var e, i, n = t._i, s = Ht.exec(n);
        if (s) {
            for (t._pf.iso = !0,
            e = 0,
            i = $t.length; e < i; e++)
                if ($t[e][1].exec(n)) {
                    t._f = $t[e][0] + (s[6] || " ");
                    break
                }
            for (e = 0,
            i = Lt.length; e < i; e++)
                if (Lt[e][1].exec(n)) {
                    t._f += Lt[e][0];
                    break
                }
            n.match(Mt) && (t._f += "Z"),
            V(t)
        } else
            t._d = new Date(n)
    }
    function j(t) {
        var e = t._i
          , i = _t.exec(e);
        e === u ? t._d = new Date : i ? t._d = new Date(+i[1]) : "string" == typeof e ? z(t) : p(e) ? (t._a = e.slice(0),
        R(t)) : d(e) ? t._d = new Date(+e) : "object" == typeof e ? F(t) : t._d = new Date(e)
    }
    function J(t, e, i, n, s, r, o) {
        var a = new Date(t,e,i,n,s,r,o);
        return t < 1970 && a.setFullYear(t),
        a
    }
    function W(t) {
        var e = new Date(Date.UTC.apply(null, arguments));
        return t < 1970 && e.setUTCFullYear(t),
        e
    }
    function U(t, e) {
        if ("string" == typeof t)
            if (isNaN(t)) {
                if ("number" != typeof (t = e.weekdaysParse(t)))
                    return null
            } else
                t = parseInt(t, 10);
        return t
    }
    function Y(t, e, i, n, s) {
        return s.relativeTime(e || 1, !!i, t, n)
    }
    function Q(t, e, i) {
        var n = at(Math.abs(t) / 1e3)
          , s = at(n / 60)
          , r = at(s / 60)
          , o = at(r / 24)
          , a = at(o / 365)
          , l = n < 45 && ["s", n] || 1 === s && ["m"] || s < 45 && ["mm", s] || 1 === r && ["h"] || r < 22 && ["hh", r] || 1 === o && ["d"] || o <= 25 && ["dd", o] || o <= 45 && ["M"] || o < 345 && ["MM", at(o / 30)] || 1 === a && ["y"] || ["yy", a];
        return l[2] = e,
        l[3] = 0 < t,
        l[4] = i,
        Y.apply({}, l)
    }
    function G(t, e, i) {
        var n, s = i - e, r = i - t.day();
        return s < r && (r -= 7),
        r < s - 7 && (r += 7),
        n = nt(t).add("d", r),
        {
            week: Math.ceil(n.dayOfYear() / 7),
            year: n.year()
        }
    }
    function X(t, e, i, n, s) {
        var r, o = W(t, 0, 1).getUTCDay();
        return {
            year: 0 < (r = 7 * (e - 1) + ((i = null != i ? i : s) - s) + (s - o + (n < o ? 7 : 0) - (o < s ? 7 : 0)) + 1) ? t : t - 1,
            dayOfYear: 0 < r ? r : w(t - 1) + r
        }
    }
    function K(t) {
        var e = t._i
          , i = t._f;
        return null === e ? nt.invalid({
            nullInput: !0
        }) : ("string" == typeof e && (t._i = e = D().preparse(e)),
        nt.isMoment(e) ? (t = s(e))._d = new Date(+e._d) : i ? p(i) ? B(t) : V(t) : j(t),
        new n(t))
    }
    function Z(t, i) {
        nt.fn[t] = nt.fn[t + "s"] = function(t) {
            var e = this._isUTC ? "UTC" : "";
            return null != t ? (this._d["set" + e + i](t),
            nt.updateOffset(this),
            this) : this._d["get" + e + i]()
        }
    }
    function tt(t) {
        nt.duration.fn[t] = function() {
            return this._data[t]
        }
    }
    function et(t, e) {
        nt.duration.fn["as" + t] = function() {
            return +this / e
        }
    }
    function it(t) {
        var e = !1
          , i = nt;
        "undefined" == typeof ender && (t ? (ot.moment = function() {
            return !e && console && console.warn && (e = !0,
            console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),
            i.apply(null, arguments)
        }
        ,
        l(ot.moment, i)) : ot.moment = nt)
    }
    for (var nt, st, rt = "2.5.1", ot = this, at = Math.round, lt = 0, ut = 1, ct = 2, ht = 3, pt = 4, dt = 5, ft = 6, mt = {}, gt = {
        _isAMomentObject: null,
        _i: null,
        _f: null,
        _l: null,
        _strict: null,
        _isUTC: null,
        _offset: null,
        _pf: null,
        _lang: null
    }, yt = "undefined" != typeof module && module.exports && "undefined" != typeof require, _t = /^\/?Date\((\-?\d+)/i, vt = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/, wt = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/, bt = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g, xt = /(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g, kt = /\d\d?/, Ct = /\d{1,3}/, St = /\d{1,4}/, Tt = /[+\-]?\d{1,6}/, At = /\d+/, Dt = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, Mt = /Z|[\+\-]\d\d:?\d\d/gi, qt = /T/i, Pt = /[\+\-]?\d+(\.\d{1,3})?/, Et = /\d/, It = /\d\d/, Nt = /\d{3}/, Ot = /\d{4}/, Rt = /[+-]?\d{6}/, Ft = /[+-]?\d+/, Ht = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, Vt = "YYYY-MM-DDTHH:mm:ssZ", $t = [["YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/], ["YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/], ["GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/], ["GGGG-[W]WW", /\d{4}-W\d{2}/], ["YYYY-DDD", /\d{4}-\d{3}/]], Lt = [["HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d{1,3}/], ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/], ["HH:mm", /(T| )\d\d:\d\d/], ["HH", /(T| )\d\d/]], Bt = /([\+\-]|\d\d)/gi, zt = "Date|Hours|Minutes|Seconds|Milliseconds".split("|"), jt = {
        Milliseconds: 1,
        Seconds: 1e3,
        Minutes: 6e4,
        Hours: 36e5,
        Days: 864e5,
        Months: 2592e6,
        Years: 31536e6
    }, Jt = {
        ms: "millisecond",
        s: "second",
        m: "minute",
        h: "hour",
        d: "day",
        D: "date",
        w: "week",
        W: "isoWeek",
        M: "month",
        y: "year",
        DDD: "dayOfYear",
        e: "weekday",
        E: "isoWeekday",
        gg: "weekYear",
        GG: "isoWeekYear"
    }, Wt = {
        dayofyear: "dayOfYear",
        isoweekday: "isoWeekday",
        isoweek: "isoWeek",
        weekyear: "weekYear",
        isoweekyear: "isoWeekYear"
    }, Ut = {}, Yt = "DDD w W M D d".split(" "), Qt = "M D H h m s w W".split(" "), Gt = {
        M: function() {
            return this.month() + 1
        },
        MMM: function(t) {
            return this.lang().monthsShort(this, t)
        },
        MMMM: function(t) {
            return this.lang().months(this, t)
        },
        D: function() {
            return this.date()
        },
        DDD: function() {
            return this.dayOfYear()
        },
        d: function() {
            return this.day()
        },
        dd: function(t) {
            return this.lang().weekdaysMin(this, t)
        },
        ddd: function(t) {
            return this.lang().weekdaysShort(this, t)
        },
        dddd: function(t) {
            return this.lang().weekdays(this, t)
        },
        w: function() {
            return this.week()
        },
        W: function() {
            return this.isoWeek()
        },
        YY: function() {
            return r(this.year() % 100, 2)
        },
        YYYY: function() {
            return r(this.year(), 4)
        },
        YYYYY: function() {
            return r(this.year(), 5)
        },
        YYYYYY: function() {
            var t = this.year();
            return (0 <= t ? "+" : "-") + r(Math.abs(t), 6)
        },
        gg: function() {
            return r(this.weekYear() % 100, 2)
        },
        gggg: function() {
            return r(this.weekYear(), 4)
        },
        ggggg: function() {
            return r(this.weekYear(), 5)
        },
        GG: function() {
            return r(this.isoWeekYear() % 100, 2)
        },
        GGGG: function() {
            return r(this.isoWeekYear(), 4)
        },
        GGGGG: function() {
            return r(this.isoWeekYear(), 5)
        },
        e: function() {
            return this.weekday()
        },
        E: function() {
            return this.isoWeekday()
        },
        a: function() {
            return this.lang().meridiem(this.hours(), this.minutes(), !0)
        },
        A: function() {
            return this.lang().meridiem(this.hours(), this.minutes(), !1)
        },
        H: function() {
            return this.hours()
        },
        h: function() {
            return this.hours() % 12 || 12
        },
        m: function() {
            return this.minutes()
        },
        s: function() {
            return this.seconds()
        },
        S: function() {
            return _(this.milliseconds() / 100)
        },
        SS: function() {
            return r(_(this.milliseconds() / 10), 2)
        },
        SSS: function() {
            return r(this.milliseconds(), 3)
        },
        SSSS: function() {
            return r(this.milliseconds(), 3)
        },
        Z: function() {
            var t = -this.zone()
              , e = "+";
            return t < 0 && (t = -t,
            e = "-"),
            e + r(_(t / 60), 2) + ":" + r(_(t) % 60, 2)
        },
        ZZ: function() {
            var t = -this.zone()
              , e = "+";
            return t < 0 && (t = -t,
            e = "-"),
            e + r(_(t / 60), 2) + r(_(t) % 60, 2)
        },
        z: function() {
            return this.zoneAbbr()
        },
        zz: function() {
            return this.zoneName()
        },
        X: function() {
            return this.unix()
        },
        Q: function() {
            return this.quarter()
        }
    }, Xt = ["months", "monthsShort", "weekdays", "weekdaysShort", "weekdaysMin"]; Yt.length; )
        st = Yt.pop(),
        Gt[st + "o"] = e(Gt[st], st);
    for (; Qt.length; )
        st = Qt.pop(),
        Gt[st + st] = t(Gt[st], 2);
    for (Gt.DDDD = t(Gt.DDD, 3),
    l(i.prototype, {
        set: function(t) {
            var e, i;
            for (i in t)
                "function" == typeof (e = t[i]) ? this[i] = e : this["_" + i] = e
        },
        _months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
        months: function(t) {
            return this._months[t.month()]
        },
        _monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
        monthsShort: function(t) {
            return this._monthsShort[t.month()]
        },
        monthsParse: function(t) {
            var e, i, n;
            for (this._monthsParse || (this._monthsParse = []),
            e = 0; e < 12; e++)
                if (this._monthsParse[e] || (i = nt.utc([2e3, e]),
                n = "^" + this.months(i, "") + "|^" + this.monthsShort(i, ""),
                this._monthsParse[e] = new RegExp(n.replace(".", ""),"i")),
                this._monthsParse[e].test(t))
                    return e
        },
        _weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        weekdays: function(t) {
            return this._weekdays[t.day()]
        },
        _weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
        weekdaysShort: function(t) {
            return this._weekdaysShort[t.day()]
        },
        _weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
        weekdaysMin: function(t) {
            return this._weekdaysMin[t.day()]
        },
        weekdaysParse: function(t) {
            var e, i, n;
            for (this._weekdaysParse || (this._weekdaysParse = []),
            e = 0; e < 7; e++)
                if (this._weekdaysParse[e] || (i = nt([2e3, 1]).day(e),
                n = "^" + this.weekdays(i, "") + "|^" + this.weekdaysShort(i, "") + "|^" + this.weekdaysMin(i, ""),
                this._weekdaysParse[e] = new RegExp(n.replace(".", ""),"i")),
                this._weekdaysParse[e].test(t))
                    return e
        },
        _longDateFormat: {
            LT: "h:mm A",
            L: "MM/DD/YYYY",
            LL: "MMMM D YYYY",
            LLL: "MMMM D YYYY LT",
            LLLL: "dddd, MMMM D YYYY LT"
        },
        longDateFormat: function(t) {
            var e = this._longDateFormat[t];
            return !e && this._longDateFormat[t.toUpperCase()] && (e = this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function(t) {
                return t.slice(1)
            }),
            this._longDateFormat[t] = e),
            e
        },
        isPM: function(t) {
            return "p" === (t + "").toLowerCase().charAt(0)
        },
        _meridiemParse: /[ap]\.?m?\.?/i,
        meridiem: function(t, e, i) {
            return 11 < t ? i ? "pm" : "PM" : i ? "am" : "AM"
        },
        _calendar: {
            sameDay: "[Today at] LT",
            nextDay: "[Tomorrow at] LT",
            nextWeek: "dddd [at] LT",
            lastDay: "[Yesterday at] LT",
            lastWeek: "[Last] dddd [at] LT",
            sameElse: "L"
        },
        calendar: function(t, e) {
            var i = this._calendar[t];
            return "function" == typeof i ? i.apply(e) : i
        },
        _relativeTime: {
            future: "in %s",
            past: "%s ago",
            s: "a few seconds",
            m: "a minute",
            mm: "%d minutes",
            h: "an hour",
            hh: "%d hours",
            d: "a day",
            dd: "%d days",
            M: "a month",
            MM: "%d months",
            y: "a year",
            yy: "%d years"
        },
        relativeTime: function(t, e, i, n) {
            var s = this._relativeTime[i];
            return "function" == typeof s ? s(t, e, i, n) : s.replace(/%d/i, t)
        },
        pastFuture: function(t, e) {
            var i = this._relativeTime[0 < t ? "future" : "past"];
            return "function" == typeof i ? i(e) : i.replace(/%s/i, e)
        },
        ordinal: function(t) {
            return this._ordinal.replace("%d", t)
        },
        _ordinal: "%d",
        preparse: function(t) {
            return t
        },
        postformat: function(t) {
            return t
        },
        week: function(t) {
            return G(t, this._week.dow, this._week.doy).week
        },
        _week: {
            dow: 0,
            doy: 6
        },
        _invalidDate: "Invalid date",
        invalidDate: function() {
            return this._invalidDate
        }
    }),
    (nt = function(t, e, i, n) {
        var s;
        return "boolean" == typeof i && (n = i,
        i = u),
        (s = {
            _isAMomentObject: !0
        })._i = t,
        s._f = e,
        s._l = i,
        s._strict = n,
        s._isUTC = !1,
        s._pf = o(),
        K(s)
    }
    ).utc = function(t, e, i, n) {
        var s;
        return "boolean" == typeof i && (n = i,
        i = u),
        (s = {
            _isAMomentObject: !0,
            _useUTC: !0,
            _isUTC: !0
        })._l = i,
        s._i = t,
        s._f = e,
        s._strict = n,
        s._pf = o(),
        K(s).utc()
    }
    ,
    nt.unix = function(t) {
        return nt(1e3 * t)
    }
    ,
    nt.duration = function(t, e) {
        var i, n, s, r = t, o = null;
        return nt.isDuration(t) ? r = {
            ms: t._milliseconds,
            d: t._days,
            M: t._months
        } : "number" == typeof t ? (r = {},
        e ? r[e] = t : r.milliseconds = t) : (o = vt.exec(t)) ? (i = "-" === o[1] ? -1 : 1,
        r = {
            y: 0,
            d: _(o[ct]) * i,
            h: _(o[ht]) * i,
            m: _(o[pt]) * i,
            s: _(o[dt]) * i,
            ms: _(o[ft]) * i
        }) : (o = wt.exec(t)) && (i = "-" === o[1] ? -1 : 1,
        r = {
            y: (s = function(t) {
                var e = t && parseFloat(t.replace(",", "."));
                return (isNaN(e) ? 0 : e) * i
            }
            )(o[2]),
            M: s(o[3]),
            d: s(o[4]),
            h: s(o[5]),
            m: s(o[6]),
            s: s(o[7]),
            w: s(o[8])
        }),
        n = new a(r),
        nt.isDuration(t) && t.hasOwnProperty("_lang") && (n._lang = t._lang),
        n
    }
    ,
    nt.version = rt,
    nt.defaultFormat = Vt,
    nt.updateOffset = function() {}
    ,
    nt.lang = function(t, e) {
        return t ? (e ? T(C(t), e) : null === e ? (A(t),
        t = "en") : mt[t] || D(t),
        (nt.duration.fn._lang = nt.fn._lang = D(t))._abbr) : nt.fn._lang._abbr
    }
    ,
    nt.langData = function(t) {
        return t && t._lang && t._lang._abbr && (t = t._lang._abbr),
        D(t)
    }
    ,
    nt.isMoment = function(t) {
        return t instanceof n || null != t && t.hasOwnProperty("_isAMomentObject")
    }
    ,
    nt.isDuration = function(t) {
        return t instanceof a
    }
    ,
    st = Xt.length - 1; 0 <= st; --st)
        y(Xt[st]);
    for (nt.normalizeUnits = function(t) {
        return m(t)
    }
    ,
    nt.invalid = function(t) {
        var e = nt.utc(NaN);
        return null != t ? l(e._pf, t) : e._pf.userInvalidated = !0,
        e
    }
    ,
    nt.parseZone = function(t) {
        return nt(t).parseZone()
    }
    ,
    l(nt.fn = n.prototype, {
        clone: function() {
            return nt(this)
        },
        valueOf: function() {
            return +this._d + 6e4 * (this._offset || 0)
        },
        unix: function() {
            return Math.floor(+this / 1e3)
        },
        toString: function() {
            return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
        },
        toDate: function() {
            return this._offset ? new Date(+this) : this._d
        },
        toISOString: function() {
            var t = nt(this).utc();
            return 0 < t.year() && t.year() <= 9999 ? P(t, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : P(t, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
        },
        toArray: function() {
            var t = this;
            return [t.year(), t.month(), t.date(), t.hours(), t.minutes(), t.seconds(), t.milliseconds()]
        },
        isValid: function() {
            return k(this)
        },
        isDSTShifted: function() {
            return !!this._a && (this.isValid() && 0 < f(this._a, (this._isUTC ? nt.utc(this._a) : nt(this._a)).toArray()))
        },
        parsingFlags: function() {
            return l({}, this._pf)
        },
        invalidAt: function() {
            return this._pf.overflow
        },
        utc: function() {
            return this.zone(0)
        },
        local: function() {
            return this.zone(0),
            this._isUTC = !1,
            this
        },
        format: function(t) {
            var e = P(this, t || nt.defaultFormat);
            return this.lang().postformat(e)
        },
        add: function(t, e) {
            return h(this, "string" == typeof t ? nt.duration(+e, t) : nt.duration(t, e), 1),
            this
        },
        subtract: function(t, e) {
            return h(this, "string" == typeof t ? nt.duration(+e, t) : nt.duration(t, e), -1),
            this
        },
        diff: function(t, e, i) {
            var n, s, r = S(t, this), o = 6e4 * (this.zone() - r.zone());
            return "year" === (e = m(e)) || "month" === e ? (n = 432e5 * (this.daysInMonth() + r.daysInMonth()),
            s = 12 * (this.year() - r.year()) + (this.month() - r.month()),
            s += (this - nt(this).startOf("month") - (r - nt(r).startOf("month"))) / n,
            s -= 6e4 * (this.zone() - nt(this).startOf("month").zone() - (r.zone() - nt(r).startOf("month").zone())) / n,
            "year" === e && (s /= 12)) : (n = this - r,
            s = "second" === e ? n / 1e3 : "minute" === e ? n / 6e4 : "hour" === e ? n / 36e5 : "day" === e ? (n - o) / 864e5 : "week" === e ? (n - o) / 6048e5 : n),
            i ? s : c(s)
        },
        from: function(t, e) {
            return nt.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)
        },
        fromNow: function(t) {
            return this.from(nt(), t)
        },
        calendar: function() {
            var t = S(nt(), this).startOf("day")
              , e = this.diff(t, "days", !0)
              , i = e < -6 ? "sameElse" : e < -1 ? "lastWeek" : e < 0 ? "lastDay" : e < 1 ? "sameDay" : e < 2 ? "nextDay" : e < 7 ? "nextWeek" : "sameElse";
            return this.format(this.lang().calendar(i, this))
        },
        isLeapYear: function() {
            return b(this.year())
        },
        isDST: function() {
            return this.zone() < this.clone().month(0).zone() || this.zone() < this.clone().month(5).zone()
        },
        day: function(t) {
            var e = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
            return null != t ? (t = U(t, this.lang()),
            this.add({
                d: t - e
            })) : e
        },
        month: function(t) {
            var e, i = this._isUTC ? "UTC" : "";
            return null != t ? ("string" == typeof t && "number" != typeof (t = this.lang().monthsParse(t)) || (e = this.date(),
            this.date(1),
            this._d["set" + i + "Month"](t),
            this.date(Math.min(e, this.daysInMonth())),
            nt.updateOffset(this)),
            this) : this._d["get" + i + "Month"]()
        },
        startOf: function(t) {
            switch (t = m(t)) {
            case "year":
                this.month(0);
            case "month":
                this.date(1);
            case "week":
            case "isoWeek":
            case "day":
                this.hours(0);
            case "hour":
                this.minutes(0);
            case "minute":
                this.seconds(0);
            case "second":
                this.milliseconds(0)
            }
            return "week" === t ? this.weekday(0) : "isoWeek" === t && this.isoWeekday(1),
            this
        },
        endOf: function(t) {
            return t = m(t),
            this.startOf(t).add("isoWeek" === t ? "week" : t, 1).subtract("ms", 1)
        },
        isAfter: function(t, e) {
            return e = void 0 !== e ? e : "millisecond",
            +this.clone().startOf(e) > +nt(t).startOf(e)
        },
        isBefore: function(t, e) {
            return e = void 0 !== e ? e : "millisecond",
            +this.clone().startOf(e) < +nt(t).startOf(e)
        },
        isSame: function(t, e) {
            return e = e || "ms",
            +this.clone().startOf(e) == +S(t, this).startOf(e)
        },
        min: function(t) {
            return (t = nt.apply(null, arguments)) < this ? this : t
        },
        max: function(t) {
            return this < (t = nt.apply(null, arguments)) ? this : t
        },
        zone: function(t) {
            var e = this._offset || 0;
            return null == t ? this._isUTC ? e : this._d.getTimezoneOffset() : ("string" == typeof t && (t = N(t)),
            Math.abs(t) < 16 && (t *= 60),
            this._offset = t,
            this._isUTC = !0,
            e !== t && h(this, nt.duration(e - t, "m"), 1, !0),
            this)
        },
        zoneAbbr: function() {
            return this._isUTC ? "UTC" : ""
        },
        zoneName: function() {
            return this._isUTC ? "Coordinated Universal Time" : ""
        },
        parseZone: function() {
            return this._tzm ? this.zone(this._tzm) : "string" == typeof this._i && this.zone(this._i),
            this
        },
        hasAlignedHourOffset: function(t) {
            return t = t ? nt(t).zone() : 0,
            (this.zone() - t) % 60 == 0
        },
        daysInMonth: function() {
            return v(this.year(), this.month())
        },
        dayOfYear: function(t) {
            var e = at((nt(this).startOf("day") - nt(this).startOf("year")) / 864e5) + 1;
            return null == t ? e : this.add("d", t - e)
        },
        quarter: function() {
            return Math.ceil((this.month() + 1) / 3)
        },
        weekYear: function(t) {
            var e = G(this, this.lang()._week.dow, this.lang()._week.doy).year;
            return null == t ? e : this.add("y", t - e)
        },
        isoWeekYear: function(t) {
            var e = G(this, 1, 4).year;
            return null == t ? e : this.add("y", t - e)
        },
        week: function(t) {
            var e = this.lang().week(this);
            return null == t ? e : this.add("d", 7 * (t - e))
        },
        isoWeek: function(t) {
            var e = G(this, 1, 4).week;
            return null == t ? e : this.add("d", 7 * (t - e))
        },
        weekday: function(t) {
            var e = (this.day() + 7 - this.lang()._week.dow) % 7;
            return null == t ? e : this.add("d", t - e)
        },
        isoWeekday: function(t) {
            return null == t ? this.day() || 7 : this.day(this.day() % 7 ? t : t - 7)
        },
        get: function(t) {
            return this[t = m(t)]()
        },
        set: function(t, e) {
            return "function" == typeof this[t = m(t)] && this[t](e),
            this
        },
        lang: function(t) {
            return t === u ? this._lang : (this._lang = D(t),
            this)
        }
    }),
    st = 0; st < zt.length; st++)
        Z(zt[st].toLowerCase().replace(/s$/, ""), zt[st]);
    for (st in Z("year", "FullYear"),
    nt.fn.days = nt.fn.day,
    nt.fn.months = nt.fn.month,
    nt.fn.weeks = nt.fn.week,
    nt.fn.isoWeeks = nt.fn.isoWeek,
    nt.fn.toJSON = nt.fn.toISOString,
    l(nt.duration.fn = a.prototype, {
        _bubble: function() {
            var t, e, i, n, s = this._milliseconds, r = this._days, o = this._months, a = this._data;
            a.milliseconds = s % 1e3,
            t = c(s / 1e3),
            a.seconds = t % 60,
            e = c(t / 60),
            a.minutes = e % 60,
            i = c(e / 60),
            a.hours = i % 24,
            r += c(i / 24),
            a.days = r % 30,
            o += c(r / 30),
            a.months = o % 12,
            n = c(o / 12),
            a.years = n
        },
        weeks: function() {
            return c(this.days() / 7)
        },
        valueOf: function() {
            return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * _(this._months / 12)
        },
        humanize: function(t) {
            var e = +this
              , i = Q(e, !t, this.lang());
            return t && (i = this.lang().pastFuture(e, i)),
            this.lang().postformat(i)
        },
        add: function(t, e) {
            var i = nt.duration(t, e);
            return this._milliseconds += i._milliseconds,
            this._days += i._days,
            this._months += i._months,
            this._bubble(),
            this
        },
        subtract: function(t, e) {
            var i = nt.duration(t, e);
            return this._milliseconds -= i._milliseconds,
            this._days -= i._days,
            this._months -= i._months,
            this._bubble(),
            this
        },
        get: function(t) {
            return this[(t = m(t)).toLowerCase() + "s"]()
        },
        as: function(t) {
            return this["as" + (t = m(t)).charAt(0).toUpperCase() + t.slice(1) + "s"]()
        },
        lang: nt.fn.lang,
        toIsoString: function() {
            var t = Math.abs(this.years())
              , e = Math.abs(this.months())
              , i = Math.abs(this.days())
              , n = Math.abs(this.hours())
              , s = Math.abs(this.minutes())
              , r = Math.abs(this.seconds() + this.milliseconds() / 1e3);
            return this.asSeconds() ? (this.asSeconds() < 0 ? "-" : "") + "P" + (t ? t + "Y" : "") + (e ? e + "M" : "") + (i ? i + "D" : "") + (n || s || r ? "T" : "") + (n ? n + "H" : "") + (s ? s + "M" : "") + (r ? r + "S" : "") : "P0D"
        }
    }),
    jt)
        jt.hasOwnProperty(st) && (et(st, jt[st]),
        tt(st.toLowerCase()));
    et("Weeks", 6048e5),
    nt.duration.fn.asMonths = function() {
        return (+this - 31536e6 * this.years()) / 2592e6 + 12 * this.years()
    }
    ,
    nt.lang("en", {
        ordinal: function(t) {
            var e = t % 10;
            return t + (1 === _(t % 100 / 10) ? "th" : 1 === e ? "st" : 2 === e ? "nd" : 3 === e ? "rd" : "th")
        }
    }),
    yt ? (module.exports = nt,
    it(!0)) : "function" == typeof define && define.amd ? define("moment", function(t, e, i) {
        return i.config && i.config() && !0 !== i.config().noGlobal && it(i.config().noGlobal === u),
        nt
    }) : it()
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["groups/edit/details"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<section>\n  <header>" + e(t(this.name || "New Group")) + "</header>\n  <div class='row'>\n    <div class='title'>Name</div>\n    <div class='content'>\n      <input type='text' name='name' value='" + e(t(this.name)) + "'>\n    </div>\n    <div class='clear'></div>\n  </div>\n</section>\n<section>\n  <header>Members</header>\n  <div id='memberships'></div>\n</section>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["groups/edit/membership"] = function(t) {
        return function() {
            var n, s, r, o;
            return s = window.HAML.escape,
            n = window.HAML.cleanValue,
            (r = []).push("<div class='title'>" + s(n(this.name)) + "</div>\n<div class='content'>"),
            _.each(["share", "read", "update", "admin"], (o = this,
            function(t) {
                var e, i;
                return r.push("  <label>"),
                e = _.include(o.roles, t),
                i = !o.editable,
                r.push("    <input type='checkbox' value='" + s(n(t)) + "' name='roles' checked='" + s(n(e)) + "' disabled='" + s(n(i)) + "'>"),
                r.push("    " + s(n(_.capitalize(t)))),
                r.push("  </label>"),
                ""
            }
            )),
            r.push("</div>\n<div class='clear'></div>"),
            r.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["groups/edit/sidebar"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<a class='button save' href='#'>\n  <span>Save</span>\n</a>"),
            this.isNew || t.push("<a class='button delete' href='#'>\n  <span>Delete</span>\n</a>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["groups/index/buttons"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<a class='button new-group' href='#'>\n  <span>New Group</span>\n</a>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["groups/index/group"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<strong>\n  <a href='#'>" + e(t(this.name)) + "</a>\n</strong>\n<br>\n<em>Updated on " + this.updated_at + "</em>\n<br>\n<em>Created on " + this.created_at + "</em>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/addressbook"] = function(t) {
        return function() {
            var t, e, i, n, s, r, o;
            if (e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<a class='addressbook-button' href='#' tabindex='" + e(t(-1)) + "'>"),
            this.hasMatchingContacts ? (i.push("  <div class='addressbook-match'>\n    <span class='match-prompt'>Did you mean:</span>\n    <span>" + e(t(this.display)) + "</span>"),
            1 < this.contactsToDisplay.length && i.push("    (+" + (this.contactsToDisplay.length - 1) + " others)"),
            i.push("  </div>")) : i.push("  <div class='addressbook-text'>\n    " + _.capitalize(this.addressbook) + " address book\n  </div>"),
            i.push("  <ul class='addressbook-entries'>"),
            this.contactsToDisplay && 0 < this.contactsToDisplay.length && this.displayed)
                for (n = 0,
                s = (o = this.contactsToDisplay.models).length; n < s; n++)
                    r = o[n],
                    i.push("    <li data-person-id='" + e(t(r.id)) + "'>\n      <span class='entry-name'>" + e(t(r.name())) + "</span>\n      <span class='entry-del'>\n        <span class='sr-only'>delete address book entry</span>\n        <svg class='icon' height='24' viewbox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'>\n          <path d='M4 21.5c0 1.467.606 2.5 2.114 2.5h10.972C18.594 24 20 22.967 20 21.5V6H4v15.5zM22 1.333h-5.6L15.029 0H8.17L6.8 1.333H2V4h20V1.333z' fill-rule='nonzero'></path>\n        </svg>\n      </span>\n    </li>");
            return i.push("  </ul>\n</a>\n<div class='addressbook-clear'>Clear</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/amp_case_in_progress"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div class='dialog_breaker'></div>\n<div class='section_body'>\n  <div class='section_text'>\n    We're creating a new patient case from this request. Once the patient case is created, you will be able to access it by returning to your\n    <strong>\n      Requests\n    </strong>\n    and selecting the\n    <strong>\n      Cases\n    </strong>\n    button on the left of your screen. The\n    <strong>\n      Cases\n    </strong>\n    button will only appear once the case is created.\n  </div>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/amp_case_view"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='dialog_breaker'></div>\n<div class='section_title'>\n  <p>Case Available</p>\n</div>\n<div class='section_body'>\n  <a class='button orange view_case' href='" + e(t(this.providers_url)) + "'>\n    <span>View Case</span>\n  </a>\n  <div class='section_text'>\n    <i>Please note, it may take a moment for your request status to update in your case</i>\n  </div>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/amp_program_info"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            i = [],
            this.amp_program_id && i.push("<input type='hidden' name='amp_program_id' value='" + e(t(this.amp_program_id)) + "'>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/attachment_error_dialog"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div class='title'>\n  Attachment Invalid\n  <div class='close'></div>\n</div>\n<div class='content'>\n  <p>Your attachment was not valid: " + this.errors + "</p>\n  <div class='clear'></div>\n</div>\n<div class='actions'>\n  <button class='close'>Close</button>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/basic_header"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<section>\n  <div id='summary'>\n    <img class='form' src='" + e(t(this.epa_image)) + "'>\n    <div id='info'>\n      <div class='" + e(t(this.notsent ? "notsent" : void 0)) + "' id='status'>"),
            this.archive_reason && (i.push("        <p>\n          <strong id='archive-reason'>Reason:"),
            i.push("            " + e(t(this.archive_reason))),
            i.push("          </strong>\n        </p>")),
            i.push("        <p>\n          <strong id='request-status'>Status:"),
            i.push("            " + e(t(this.full_status_description))),
            i.push("          </strong>\n        </p>\n      </div>\n      <p>\n        <strong>Drug:</strong>"),
            i.push("        " + e(t(this.drug))),
            i.push("      </p>\n      <p>\n        <strong>Form:</strong>"),
            i.push("        " + e(t(this.form))),
            i.push("      </p>"),
            this.expiration_date && (i.push("      <p>\n        <strong>" + this.expiration_type + " Expiration Date:</strong>"),
            i.push("        " + e(t(this.expiration_date))),
            i.push("      </p>")),
            this.authorization_expiration && (i.push("      <p>\n        <strong>Authorization Expiration Date:</strong>"),
            i.push("        " + e(t(this.authorization_expiration))),
            i.push("      </p>")),
            this.phone_number && (i.push("      <p>\n        <strong>Phone:</strong>"),
            i.push("        " + e(t(this.phone_number))),
            i.push("      </p>")),
            i.push("      <span id='problems'>\n        <strong>Problem with this form?</strong>\n        <p>\n          Call us at (866) 452-5017.\n        </p>\n      </span>\n    </div>\n  </div>\n  <div class='clear'></div>\n</section>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/bridge_conversion_programs"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div class='dialog_breaker'></div>\n<div class='section_title'>\n  <p>Bridge Assistance is Available</p>\n</div>\n<div class='enrollment-program section_body'>\n  <a class='button orange start-bridge' href='#'>\n    <span>Start form</span>\n  </a>\n  <div>\n    <p class='description'>\n      Bridge to Commercial Dispense may be available at no cost for eligible commercial patients. Please start form to enroll your patient.\n    </p>\n  </div>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/change_form_dialog"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div class='title'>\n  Change Form\n  <div class='close'></div>\n</div>\n<div class='content'>\n  <p>\n    <strong>\n      Are you sure you would like to change forms?\n    </strong>\n  </p>\n  <p>Information from the current form will be carried over to the new form, where possible.</p>\n</div>\n<div class='actions'>\n  <button class='close'>Cancel</button>\n  <button class='change-form'>Yes, change forms</button>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/conflict_dialog"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='title'>"),
            i.push("  " + e(t(this.nickname + " (Key: " + this.reference + ")"))),
            i.push("  <div class='close'></div>\n</div>\n<div class='content'>\n  <div class='text'>Still working. Please press reload to continue.</div>\n</div>\n<div class='actions'>\n  <button class='reload'>Reload</button>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/contact_patient_for_copay"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div id='copay_experiment'>\n  <div class='dialog_breaker'></div>\n  <div class='section_title'>\n    <p>\n      <span class='notice'>New</span>\n      Copay Enrollment\n    </p>\n  </div>\n  <div class='copay-programs section_body'>\n    <a class='button orange start-copay-experiment' href='#'>\n      <span>Contact Patient</span>\n    </a>\n    <div class='section_text'>\n      <p>Would you like us to text or email your patient a link to sign up for copay assistance?</p>\n    </div>\n  </div>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/copay_patient_email_modal"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div class='section_body'>\n  <div class='patient-email-modal'>\n    <div class='collect-patient-title'>\n      Copay Enrollment for Patients\n    </div>\n    <div class='collect-patient-details'>\n      <p>Give your patient the ability to sign up for Copay Enrollment.</p>\n      <p>In order to have your patient sign up, please explain to the patient they will receive an email and confirm they are willing to complete a copay enrollment at the manufacturer's website.</p>\n      <p>Any email to your patient will be sent on your behalf by CoverMyMeds.</p>\n    </div>\n    <div class='collect-patient-email'>\n      <input class='collect-patient-email-input' name='copay_patient_email' placeholder='Patient Email *' required type='email'>\n    </div>\n    <div class='collect-patient-disclaimer'>\n      <p></p>\n      By entering the patient's email address, you confirm that: (i) you have received approval from the patient to send an email; and (ii) you explained to the patient that email is not a secure mechanism to send health related information. Because the\n      patient wants to receive an email, you direct CoverMyMeds LLC to send that communication on your behalf.\n      A message will be sent to the email provided. In this email the patient may follow a button or link to be directed\n      to the drug manufacturer's website to enroll.\n      <p></p>\n      By clicking submit you are giving CoverMyMeds the right to reach out to the patient on your behalf.\n    </div>\n    <div class='collect-patient-email-action'>\n      <button class='close collect-patient-email-dismiss-button'>Dismiss</button>\n      <button class='collect-patient-email-submit-button submit ui-state-disabled'>Submit</button>\n    </div>\n  </div>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/copay_patient_email_modal_success"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='section_body'>\n  <div class='patient-email-modal success'>\n    <div class='collect-patient-title'>\n      Copay Enrollment for Patients\n    </div>\n    <div class='center collect-patient-details'>\n      <div class='success-check'></div>\n      <p class='bold'>Success!</p>\n      <p class='center'>We've sent an email to your patient at the address you've provided.\n        <br>\n        They will be provided a link to the copay enrollment on the manufacturer's website.\n      </p>\n      <p class='bold center patient-email'>"),
            i.push("        " + e(t(this.patient_email))),
            i.push("      </p>\n    </div>\n    <div class='collect-patient-email-action'>\n      <button class='close collect-patient-email-dismiss-button'>Go Back</button>\n      <button class='collect-patient-email-dismiss-button submit'>Dismiss</button>\n    </div>\n  </div>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/default_prompt_dialog"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='title'>Key Responses Reviewed</div>\n<div class='content'>Send to plan when ready!</div>\n<div class='actions'>\n  <button data-action='return_to_pa'>" + e(t("Go Back")) + "</button>\n  <button data-action='send_to_plan'>" + e(t("Send to Plan")) + "</button>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/delete_addressbook"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='title'>"),
            i.push("  " + e(t("Delete this addressbook entry?"))),
            i.push("  <div class='close'></div>\n</div>\n<div class='content'>\n  <img id='delete-addressbook-spinner' src='/images/spinner-grey.gif' style='display:none;'>\n  <p class='error-message'>\n    There was an error deleting your address book entry, click \"Delete Entry\" to try again.\n  </p>"),
            this.name && (i.push("  <div class='field'>\n    <span>\n      Name:\n    </span>"),
            i.push("    " + e(t(this.name))),
            i.push("  </div>")),
            (this.address || this.city_state_zip) && (i.push("  <div class='field'>\n    <span>\n      Address:\n    </span>"),
            this.address && (i.push("    " + e(t(this.address))),
            i.push("    <br>")),
            this.city_state_zip && i.push("    " + e(t(this.city_state_zip))),
            i.push("  </div>")),
            this.dob && (i.push("  <div class='field'>\n    <span>\n      DOB:\n    </span>"),
            i.push("    " + e(t(this.dob))),
            i.push("  </div>")),
            this.gender && (i.push("  <div class='field'>\n    <span>\n      Gender:\n    </span>"),
            i.push("    " + e(t(this.gender))),
            i.push("  </div>")),
            this.phone && (i.push("  <div class='field'>\n    <span>\n      Phone:\n    </span>"),
            i.push("    " + e(t(this.phone))),
            i.push("  </div>")),
            this.fax && (i.push("  <div class='field'>\n    <span>\n      Fax:\n    </span>"),
            i.push("    " + e(t(this.fax))),
            i.push("  </div>")),
            this.npi && (i.push("  <div class='field'>\n    <span>\n      NPI:\n    </span>"),
            i.push("    " + e(t(this.npi))),
            i.push("  </div>")),
            i.push("</div>\n<div class='actions'>\n  <button class='close'>Cancel</button>\n  <button class='delete'>Delete Entry</button>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/delete_dialog"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='title'>"),
            i.push("  " + e(t(this.nickname + " (Key: " + this.reference + ") - Delete Request"))),
            i.push("  <div class='close'></div>\n</div>\n<div class='content'>\n  <p>Clicking \"Delete\" will remove the request from your dashboard. If you are in a group, the request will be deleted for all group members.</p>\n  <label>Note (optional)</label>\n  <textarea name='note'></textarea>\n</div>\n<div class='actions'>\n  <button class='delete'>Delete</button>\n  <button class='close'>Cancel</button>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/details"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div id='disclaimer-message'></div>\n<div id='pa-header'></div>\n<section id='renewal-header'>\n  <p>\n    <span class='exclaim'>!</span>\n    <span class='renewal-note-text'>Review and verify all fields are up-to-date by checking the blue confirmation boxes below.</span>\n  </p>\n</section>\n<div id='sections'></div>\n<div class='footer_controls'>\n  <section></section>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/disclaimer_message"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<section>\n  <div id='disclaimer'>"),
            this.isEnrollment ? t.push("    CoverMyMeds has established a business relationship with the pharmaceutical manufacturer, that results in patient support services or a differentiated user experience. There may be lower cost medications available or preferred on your patient's plan.") : t.push("    CoverMyMeds has established a business relationship with the pharmaceutical manufacturer that results in a differentiated user experience on CoverMyMeds for the PA process, and may include patient support services. There may be lower cost medications available or preferred on your patient\u2019s plan."),
            t.push("  </div>\n</section>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/download_button"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<a class='button download small' id='action_download' href='#'>\n  <span>Download / Print</span>\n</a>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/eligibility"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='" + ["row", "" + e(t(this.eligibility_required ? "tag" : void 0))].sort().join(" ").replace(/^\s+|\s+$/g, "") + "'>\n  <div class='title'>Free Eligibility Check</div>\n  <div class='" + ["content", "" + e(t(this.eligibility_required ? "required" : void 0))].sort().join(" ").replace(/^\s+|\s+$/g, "") + "'>\n    Click the\n    <strong>Check Eligibility</strong>\n    button for free verification of patient coverage with this plan.\n  </div>\n</div>\n<div class='buttons row'>\n  <a class='button clear red' href='#' style='opacity: 1;'>\n    <span>Clear Eligibility</span>\n  </a>\n  <a class='button check' href='#' style='opacity: 1;'>\n    <span>Check Eligibility</span>\n  </a>\n</div>"),
            this.status && (i.push("<div class='row'>\n  <div class='title'>Eligibility Results</div>\n  <div class='content'>"),
            "searching" === this.status ? (i.push("    " + t(this.searching_message)),
            i.push("    <img class='spinner' src='/images/spinner-blue.gif'>")) : "cleared" === this.status ? i.push("    " + t(this.cleared_message)) : "error" === this.status ? i.push("    " + t(this.error_message)) : "searched" === this.status && (0 === this.count ? i.push("    " + t(this.no_results_found_message)) : i.push("    " + t(this.results_found_message))),
            i.push("  </div>\n</div>")),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/eligibility_result_dialog"] = function(t) {
        return function() {
            var c, h, p, d;
            return h = window.HAML.escape,
            c = window.HAML.cleanValue,
            (p = []).push("<div class='title'>\n  Eligibility Check\n  <div class='close'></div>\n</div>\n<div class='content'>\n  <ul class='eligibility'>"),
            this.collection.each((d = this,
            function(t) {
                var e, i, n, s, r, o, a, l, u;
                return i = t.get("member"),
                e = t.get("coverage"),
                p.push("    <li class='" + h(c(t.get("selected") ? "selected" : void 0)) + "' data-eligibility-id='" + h(c(t.id)) + "'>"),
                e.name && p.push("      <strong>" + h(c(e.name)) + "</strong>"),
                p.push("      <p>\n        <span class='" + h(c((null != (n = i.first_name) ? n.toLowerCase() : void 0) !== d.original_member.first_name.toLowerCase() ? "different" : void 0)) + "'>"),
                p.push("          " + h(c(i.first_name))),
                p.push("        </span>\n        <span class='" + h(c((null != (s = i.middle_name) ? s.toLowerCase() : void 0) !== d.original_member.middle_name.toLowerCase() ? "different" : void 0)) + "'>"),
                p.push("          " + h(c(i.middle_name))),
                p.push("        </span>\n        <span class='" + h(c((null != (r = i.last_name) ? r.toLowerCase() : void 0) !== d.original_member.last_name.toLowerCase() ? "different" : void 0)) + "'>"),
                p.push("          " + h(c(i.last_name))),
                p.push("        </span>\n        <br>"),
                i.date_of_birth && (p.push("        DOB:\n        <span class='" + h(c((null != (o = i.date_of_birth) ? o.toLowerCase() : void 0) !== d.original_member.date_of_birth.toLowerCase() ? "different" : void 0)) + "'>"),
                p.push("          " + h(c(i.date_of_birth))),
                p.push("        </span>\n        <br>")),
                i.gender && (p.push("        Gender:\n        <span class='" + h(c((null != (a = i.gender) ? a.toLowerCase() : void 0) !== d.original_member.gender.toLowerCase() ? "different" : void 0)) + "'>"),
                p.push("          " + h(c(i.gender))),
                p.push("        </span>\n        <br>")),
                i.id_number && (p.push("        Member Number:\n        <span class='" + h(c((null != (l = i.id_number) ? l.toLowerCase() : void 0) !== d.original_member.id_number.toLowerCase() ? "different" : void 0)) + "'>"),
                p.push("          " + h(c(i.id_number))),
                p.push("        </span>")),
                p.push("        <br>"),
                e.carrier_id && p.push("        Carrier Number: " + e.carrier_id + "\n        <br>"),
                e.account_id && p.push("        Account Number: " + e.account_id + "\n        <br>"),
                e.group_id && (p.push("        Group Number:\n        <span class='" + h(c((null != (u = e.group_id) ? u.toLowerCase() : void 0) !== d.original_member.group_id.toLowerCase() ? "different" : void 0)) + "'>"),
                p.push("          " + h(c(e.group_id))),
                p.push("        </span>")),
                p.push("      </p>\n      <a class='button' href='#'>\n        <span>Select</span>\n      </a>\n    </li>"),
                ""
            }
            )),
            p.push("  </ul>\n  <div class='clear'></div>\n</div>\n<div class='actions'>\n  <button class='close'>Cancel</button>\n</div>"),
            p.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/enrollment_conversion_program_row"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='enrollment-program'>\n  <form action='/api/requests/" + e(t(this.requestId)) + "/enrollment' method='post'>\n    <input id='form_id' type='hidden' value='" + e(t(this.formId)) + "' name='form_id'>\n    <a class='button orange start-enrollment' href='#'>\n      <span>Start Enrollment</span>\n    </a>\n  </form>\n  <div>\n    <p class='intent'>"),
            i.push("      " + t(this.formIntent)),
            i.push("    </p>\n    <p class='name'>"),
            i.push("      " + t(this.formName)),
            i.push("    </p>\n    <p class='description'>"),
            i.push("      " + t(this.prompt)),
            i.push("    </p>\n  </div>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/enrollment_conversion_programs"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div class='dialog_breaker'></div>\n<div class='section_title'>\n  <p>Enroll in patient services</p>\n</div>\n<div class='enrollment-programs section_body'></div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/enrollment_navigator"] = function(t) {
        return function() {
            var t, e;
            return t = window.HAML.cleanValue,
            (e = []).push("" + t(this.enrollment_navigator_body)),
            e.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/fax_dialog"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='title'>\n  Fax instructions to prescriber\n  <div class='close'></div>\n</div>\n<div class='content'>\n  <p>\n    <strong>Please do not use this feature to fax forms to the health plan.</strong>\n  </p>\n  <p>This fax notifies the prescriber that a PA request has been started for their patient and is available for completion on the CoverMyMeds website.</p>\n  <p>This feature will not fax to the plan.  To submit this PA to the plan instead, please click \"Cancel\", then the \"Send to Plan\" button.</p>\n  <label>Fax Number</label>\n  <input name='fax_number' value='" + e(t(this.fax_number)) + "'>\n</div>\n<div class='actions'>\n  <button class='fax'>Send Fax</button>\n  <button class='close'>Cancel</button>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/history"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div class='tabs'>\n  <a class='tab' id='reminders_tab'>Reminders</a>\n  <a class='tab' id='notes_tab'>Notes</a>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/hub_enrollment_email_consent_opt_in"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='collect_consent_opt_in_section'>\n  <div class='rows'>\n    <div class='row'>\n      <div class='collect_consent_opt_in_patient_email_title title'>\n        Patient Consent Email\n      </div>\n      <div class='content'>\n        <div id='collect_consent_opt_in_patient_email'>\n          <div class='bold collect_consent_opt_in_patient_email_text'>\n            Connect your patient with affordability options\n          </div>\n          <div class='collect_consent_opt_in_patient_email_text'>\n            Provide the patient's email address and we will help get them enrolled in the patient support program.\n          </div>\n          <input class='opt-in-consent-email-input' placeholder='Patient Email *' type='email' name='consent_opt_in_patient_email' required minlength='" + e(t(6)) + "'>\n          <div class='collect_consent_opt_in_patient_email_disclaimer'>\n            I certify that I have the authority to disclose this patient\u2019s information to BMS and its respective agents and service providers, including the dispensing pharmacy, and I have obtained this patient\u2019s authorization for the disclosure, if required by HIPAA or other applicable privacy laws.\n          </div>\n          <button class='opt-in-consent-email-submit-button'>Submit</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/hub_enrollment_email_consent_opt_in_success"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='collect_consent_opt_in_section'>\n  <div class='rows'>\n    <div class='row'>\n      <div class='collect_consent_opt_in_patient_email_title title'>\n        Patient Consent Email\n      </div>\n      <div class='content'>\n        <div id='collect_consent_opt_in_patient_email_success'>\n          <div class='bold collect_consent_opt_in_patient_email_text'>\n            Success!\n          </div>\n          <div class='collect_consent_opt_in_patient_email_text'>\n            We've sent an email to your patient at the address you've provided:\n          </div>\n          <div class='collect_consent_opt_in_patient_email_text'>"),
            i.push("            " + e(t(this.patient_email))),
            i.push("          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/inline_prompt_dialog"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='inline-prompt'>\n  <div class='prompt-message'>\n    <div class='prompt-title'>" + t(this.title) + "</div>\n    <img class='prompt-icon' src='/images/orange-exclamation.svg' alt='orange exclamation point'>\n    <button class='prompt-caret-btn' id='" + e(t(this.id)) + "' type='button' aria-label='toggle' aria-controls='prompt-content' aria-expanded='true'>\n      <img class='prompt-caret-icon' src='/images/caret.svg' alt=''>\n    </button>\n    <div class='expanded-content prompt-content'>" + t(this.body) + "</div>\n  </div>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/johnson_and_johnson_disclosure"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<header>\n  <img class='down' src='/images/arrow-down.png'>\n  <span>Disclosure</span>\n</header>\n<div class='rows'>\n  <div class='row'>\n    <div class='title'></div>\n    <div class='content'>\n      By clicking the Send to Plan button, you certify that the clinical information\n      on this request has been entered with the direction of the physician,\n      and that the treatment or therapy requested is based solely on what is the\n      best clinical interest of the patient.\n    </div>\n  </div>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/masquerading_send_to_plan_dialog"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='title'>"),
            i.push("  " + e(t(this.nickname + " (Key: " + this.reference + ")"))),
            i.push("  <div class='close'></div>\n</div>\n<div class='content'>\n  <div class='text'>You are currently masquerading, are you sure you want to send to plan?</div>\n</div>\n<div class='actions'>\n  <button class='cancel'>Cancel</button>\n  <button class='confirm'>Confirm</button>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/new_signature_dialog"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='title'>\n  New Signature\n  <div class='close'></div>\n</div>\n<div class='content'>\n  Printed Name\n  <input name='" + e(t(name)) + "'>\n  <canvas class='signature' width='" + e(t(386)) + "' height='" + e(t(68)) + "'></canvas>\n  <br>\n  <a class='reset' href='#'>Reset</a>"),
            i.push("  " + e(t("-"))),
            i.push("  Sign using the mouse as a pen by left-clicking.\n</div>\n<div class='actions'>\n  <button class='save'>Save</button>\n  <button class='close'>Cancel</button>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/non_verified_npi_dialog"] = function(t) {
        return function() {
            var i, n, s;
            return n = window.HAML.escape,
            i = window.HAML.cleanValue,
            (s = []).push("<div class='npi-dialog-content' id='non-verified-dialog'>\n  <div class='npi-title'>\n    <img id='npi-dialog-img' src='/images/epa-attention.png'>\n    <p>Please enter your NPI number</p>\n  </div>\n  <div class='npi-content'>\n    <p>This plan requires any ePA submissions to be from NPI verified accounts.</p>\n    <label>\n      <input class='npi-field' type='text' name='npi-dialog' value='" + n(i(this.first_name)) + " " + n(i(this.last_name)) + " NPI: " + n(i(this.npi)) + "' disabled>\n    </label>\n    <div class='npi-dialog-non-verified-radios'>\n      <p>Fax Number</p>\n      <span>Select the fax number associated with your NPI account</span>\n      <br>"),
            _.each(this.fax_numbers, function(t, e) {
                return s.push("      <label>\n        <input class='dialog_fax_radio' id='fax_number_" + e + "' name='dialog_fax_radio' type='radio' value='" + n(i(t)) + "'>\n        <label id='dialog_fax_text' for='fax_number_" + n(i(e)) + "'>"),
                s.push("          " + n(i(t))),
                s.push("        </label>\n        <input id='hidden_fax_number_" + e + "' type='hidden' value='" + n(i(t)) + "'>\n      </label>\n      <br>"),
                ""
            }),
            s.push("      <label id='dialog_fax_text'>\n        <input class='dialog_fax_radio' id='no_fax' style='margin-left: 25px' name='dialog_fax_radio' type='radio' value='none'>\n        None of the above\n        <br>\n      </label>\n      <input id='no_fax_number_text' name='provider_fax' type='text' style='width: 150px; display: none; margin-top:5px; margin-left: 25px;'>\n    </div>\n  </div>\n  <div class='npi-actions' style='width: 456px'>\n    <button class='npi-dialog-button' id='go_back'>BACK</button>\n    <input class='npi-dialog-button' id='fax_my_code' type='button' value='FAX MY CODE' name='fax_code_button' disabled>\n  </div>\n</div>"),
            s.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/note"] = function(t) {
        return function() {
            var e, i, n;
            return i = window.HAML.escape,
            e = window.HAML.cleanValue,
            (n = []).push("<div class='items' id='note'>"),
            _.each(this.items, function(t) {
                return n.push("  <div class='" + ["item", "" + i(e(t.get("type")))].sort().join(" ").replace(/^\s+|\s+$/g, "") + "'>\n    <span class='date'>"),
                n.push("      " + i(e(t.get("time")))),
                n.push("      ago\n    </span>\n    <span>"),
                t.get("fax_url") ? (n.push("      <a class='fax-url' href='" + i(e(t.get("fax_url"))) + "'>Fax</a>"),
                n.push("      " + i(e(t.get("text").replace("Fax ", ""))))) : t.get("text") && -1 < t.get("text").indexOf("Created") ? (n.push("      <span title='" + i(e(t.get("user_type"))) + "'>"),
                n.push("        " + i(e(t.get("text")))),
                n.push("      </span>")) : n.push("      " + i(e(t.get("text")))),
                n.push("    </span>\n  </div>"),
                ""
            }),
            this.has_newer && n.push("  <a class='newer' href='#'>Newer</a>"),
            this.has_older && n.push("  <a class='older' href='#'>Older</a>"),
            n.push("</div>"),
            n.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/note_reminder_form"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div class='new-item'>\n  <textarea name='note' placeholder='Add note'></textarea>\n  <input type='checkbox' name='is_reminder' value='true'>\n    Set reminder\n  <select name='remind_on'>\n    <option value='1'>\n      1 business day\n    </option>\n    <option value='2'>\n      2 business days\n    </option>\n    <option value='3'>\n      3 business days\n    </option>\n    <option value='4'>\n      4 business days\n    </option>\n    <option value='5'>\n      5 business days\n    </option>\n    <option value='60'>\n      60 business days\n    </option>\n    <option value='90'>\n      90 business days\n    </option>\n    <option value='120'>\n      120 business days\n    </option>\n    <option value='180'>\n      180 business days\n    </option>\n    <option value='365'>\n      365 business days\n    </option>\n  </select>\n  <button id='create-note' type='button'>Add</button>\n  <div class='clear'></div>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/npi_confirmation_dialog"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div class='confirmation-dialog'>\n  <div class='npi-header'>\n    <p>Confirmation</p>\n  </div>\n  <div class='npi-img' style='background: white'>\n    <img id='npi-conf-img' src='/images/npi-banner.png'>\n  </div>\n  <div class='npi-footer'>\n    <button class='close' id='conf-close-button'>CLOSE</button>\n  </div>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/npi_dialog"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div class='npi-dialog-content'>\n  <div class='npi-title'>\n    <img id='npi-dialog-img' src='/images/epa-attention.png'>\n    <p>Please enter your NPI number</p>\n  </div>\n  <div class='npi-content'>\n    <p>This plan requires any ePA submissions to be from NPI verified accounts.</p>\n    <label>\n      <input class='npi-field' type='text' name='npi-dialog' placeholder='Please enter your NPI Number' maxlength='10'>\n    </label>\n  </div>\n  <div class='npi-actions'>\n    <button class='npi-dialog-button' id='back'>BACK</button>\n    <button class='npi-dialog-button' id='next' disabled>NEXT</button>\n  </div>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/pa_header"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div id='title'>\n  <h1>\n    <strong>" + e(t(this.nickname)) + "</strong>\n    <em>\n      Key: " + this.reference + "\n    </em>"),
            this.custom_ref && this.custom_ref !== this.rx_number && i.push("    &ndash; PA Case ID: " + this.custom_ref),
            this.rx_number && i.push("    &ndash; Rx #: " + this.rx_number),
            i.push("    <span class='more-detail'>\n      <strong>Need help?</strong>\n      Call us at (866) 452-5017\n    </span>\n  </h1>\n  <div class='clear'></div>\n</div>\n<input type='hidden' name='drug_ddid' value='" + e(t(this.ddid)) + "'>\n<div id='scripthero_notifier' style='display: none;'></div>\n<section id='request-page-header' style='padding: 0;'>\n  <div class='section-spinner'></div>\n</section>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/pa_navigator"] = function(t) {
        return function() {
            var t, e;
            return t = window.HAML.cleanValue,
            (e = []).push("" + t(this.pa_navigator_body)),
            e.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/pendo"] = function(t) {
        return function() {
            var t;
            return (t = []).push('<script>\n  pendo.updateOptions({\n    visitor: {\n      sponsored: "' + this.sponsorshipType + '",\n      drugId: "' + this.drug_id + '",\n      requestId: "' + this.request_id + '",\n      formName: "' + this.form_name + '",\n      status: "' + this.status + '",\n      formId: "' + this.form_id + '",\n      drugDescription: "' + this.drug_description + '",\n      claimApiClientOrganizationName: "' + this.claim_api_client_organization_name + '"\n    },\n    account: {\n      id: \'dashboard\'\n    }\n  });\n  pendo.track("Payer Data", {\n    requestId: "' + this.request_id + '",\n    formId: "' + this.form_id + '",\n    drugDescription: "' + this.drug_description + '"\n  });\n</script>'),
            t.join("\n")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/permission_to_call_patient"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div class='question'>\n  <label id='permission-to-call-patient'>\n    <input type='checkbox' name='permission_to_call_patient' value='permission_to_call_patient'>\n    <span>Notify my patient of the determination</span>\n    <a href='' target='_blank'>(learn more)</a>\n  </label>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/pharmacy_search"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<header>\n  <span class='arrow down' data-bind='hidden collapsed'>&#x25BC;</span>\n  <span class='arrow right' data-bind='displayed collapsed'>&#x25BA;</span>\n  <span>Pharmacy Info</span>\n</header>\n<div class='rows' data-bind='hidden collapsed'>\n  <div class='row'>\n    <div class='title'>Pharmacy Info</div>\n    <div class='content'>\n      <div class='questions'>\n        <img id='pharmacy_search_spinner' src='/images/spinner-blue.gif' style='display:none; float:right'>\n        <div class='question'>\n          <span class='text'></span>\n          <input id='answer_text' type='text' name='pharmacy_info'>\n        </div>\n        <div class='question'>\n          <span class='statement' id='pharmacy-search-address'></span>\n        </div>\n      </div>\n      <div class='clear'></div>\n    </div>\n  </div>\n  <div class='optout_row row' style='display:none'>\n    <div class='title'></div>\n    <div class='content'>\n      <div class='questions'>\n        <div class='question'>\n          <span class='statement' id='pharmacy-optout-statement'>\n            When you are notified of the determination, would you like us to notify the pharmacy as well?\n          </span>\n        </div>\n        <div class='question'>\n          <span class='checkbox'></span>\n          <div class='choices'>\n            <label>\n              <input type='checkbox' name='pharmacy_sent_rx' value='pharmacy_sent_rx'>\n              Yes, notify the pharmacy\n            </label>\n          </div>\n        </div>\n      </div>\n      <div class='clear'></div>\n    </div>\n  </div>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/pharmacy_search_v2"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<header>\n  <span class='arrow down' data-bind='hidden collapsed'>&#x25BC;</span>\n  <span class='arrow right' data-bind='displayed collapsed'>&#x25BA;</span>\n  <span>Pharmacy Info (Optional)</span>\n</header>\n<div class='rows' data-bind='hidden collapsed'>\n  <div class='row'>\n    <div class='title'>Pharmacy Info</div>\n    <div class='content'>\n      <div class='questions'>\n        <img id='pharmacy_search_spinner' src='/images/spinner-blue.gif' style='display:none; float:right'>\n        <div class='question'>\n          <span class='text'></span>\n          <input id='answer_text' type='text' name='pharmacy_info_v2'>\n        </div>\n        <div class='question'>\n          <span class='statement' id='pharmacy-search-address'></span>\n        </div>\n        <div class='question'>\n          <span class='statement' id='pharmacy-disclaimer-statement'>\n            By including pharmacy information, you authorize CoverMyMeds to contact the pharmacy on your behalf to report any approvals, as well as for PA follow-up.\n          </span>\n        </div>\n      </div>\n      <div class='clear'></div>\n    </div>\n  </div>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/prescriber_npi_verification"] = function(t) {
        return function() {
            var i, n, s;
            return n = window.HAML.escape,
            i = window.HAML.cleanValue,
            (s = []).push("<div class='div npi-non-verified-numbers'>\n  <div class='div npi-non-verified-radios'>"),
            _.each(this.fax_numbers, function(t, e) {
                return s.push("    <label>\n      <div>" + n(i(this.selected_fax_number)) + "</div>\n      <input class='provider_fax_radio' id='fax_number_" + e + "' name='provider_fax_radio' type='radio' value='" + n(i(t)) + "'>\n      <label for='fax_number_" + n(i(e)) + "'>"),
                s.push("        " + n(i(t))),
                s.push("      </label>\n      <input id='hidden_fax_number_" + e + "' type='hidden' value='" + n(i(t)) + "'>\n    </label>\n    <br>"),
                ""
            }),
            s.push("    <label>\n      <input class='provider_fax_radio' id='no_fax_number' name='provider_fax_radio' type='radio' value='none'>\n      None of the above\n    </label>\n    <br>\n    <input id='no_fax_number_text' name='provider_fax' type='text' style='width: 150px; display: none'>\n  </div>\n</div>\n<input id='fax_number' name='provider_fax' type='text' style='display: none'>\n<section class='npi-banner' style='display: none'>\n  <header>\n    Action Required\n  </header>\n  <p class='description'>"),
            s.push("    " + i(this.npi_verification_message)),
            s.push("  </p>\n</section>"),
            s.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/prompt_dialog"] = function(t) {
        return function() {
            var e, i, n;
            return i = window.HAML.escape,
            e = window.HAML.cleanValue,
            (n = []).push("<div class='title'>" + i(e(this.title)) + "</div>\n<div class='content'>"),
            n.push("  " + e(this.body)),
            n.push("</div>\n<div class='actions'>\n  <div class='dismiss-dialog-checkbox'>\n    <input name='opt_out' type='checkbox'>\n    <span>\n      Don't show this message again\n    </span>\n  </div>"),
            _.each(this.actions, function(t) {
                return n.push("  <button data-id='" + i(e(t.id)) + "' data-action='" + i(e(t.type)) + "'>" + i(e(t.text)) + "</button>"),
                ""
            }),
            n.push("</div>"),
            n.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/prompts_found_dialog"] = function(t) {
        return function() {
            var t, e, i, n, s, r, o;
            for (e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='content'>" + e(t("You may want to review " + this.prompts.length + " answer(s) before submitting:")) + "\n  <ul></ul>"),
            n = 0,
            s = (o = this.prompts).length; n < s; n++)
                r = o[n],
                i.push("  <li>" + e(t(r.messages[0].title)) + "</li>");
            return i.push("</div>\n<div class='actions'>\n  <button data-action='return_to_pa'>" + e(t("Review Answer(s)")) + "</button>\n  <button data-action='send_to_plan'>" + e(t("Send to Plan Now")) + "</button>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/question_checkbox"] = function(t) {
        return function() {
            var e, i, n, s;
            return i = window.HAML.escape,
            e = window.HAML.cleanValue,
            (n = []).push("<span class='checkbox'>" + i(e(this.text)) + "</span>\n<div class='choices'>"),
            "manual" === this.datasource_type && this.choices.each((s = this,
            function(t) {
                return n.push("  <label>\n    <input type='checkbox' name='" + i(e(s.name)) + "' value='" + i(e(t.get("name"))) + "'>"),
                n.push("    " + i(e(t.get("text")))),
                n.push("  </label>"),
                ""
            }
            )),
            n.push("</div>"),
            n.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/question_date"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<span data-bind='text; class type'></span>\n<input id='answer_text' type='text' name='" + e(t(this.name)) + "' data-bind='disabled disabled'>\n<span class='error' data-bind='text error'></span>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/question_dropdown"] = function(t) {
        return function() {
            var e, i, n;
            return i = window.HAML.escape,
            e = window.HAML.cleanValue,
            (n = []).push("<span class='dropdown'>" + i(e(this.text)) + "</span>\n<select name='" + i(e(this.name)) + "'>"),
            "manual" === this.datasource_type && this.choices.each(function(t) {
                return n.push("  <option value='" + i(e(t.get("name"))) + "'>" + i(e(t.get("text"))) + "</option>"),
                ""
            }),
            n.push("</select>"),
            n.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/question_file"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<span data-bind='text; class type'></span>"),
            this.attachment_name && "" !== this.attachment_name ? i.push("<input class='" + e(t(this.classname)) + "' type='file' name='upload' data-bind='hidden disabled' style='width: 80px'>") : i.push("<input type='file' name='upload' data-bind='hidden disabled'>"),
            i.push("<span id='attachment-data' data-bind='displayed answer_text'>\n  <a class='open' href='#' data-bind='answer_text'></a>\n  &mdash;\n  <span id='file-size' data-bind='attachment_size'>\n    &mdash;\n  </span>\n  <a class='delete delete-attachment' href='#'>Remove</a>\n</span>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/question_radio"] = function(t) {
        return function() {
            var e, i, n, s;
            return i = window.HAML.escape,
            e = window.HAML.cleanValue,
            (n = []).push("<span class='radio'>" + i(e(this.text)) + "</span>\n<div class='choices'>"),
            "manual" === this.datasource_type && this.choices.each((s = this,
            function(t) {
                return n.push("  <label>\n    <input type='radio' name='" + i(e(s.name)) + "' value='" + i(e(t.get("name"))) + "'>"),
                n.push("    " + i(e(t.get("text")))),
                n.push("  </label>"),
                ""
            }
            )),
            n.push("</div>"),
            n.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/question_signature"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            i = [],
            this.is_patient_signature ? i.push("<a class='patient_sign' href='javascript:void(0)'>Click Here To Sign</a>") : i.push("Stored Signatures\n<select></select>\n<br>\n<p class='error_message'>\n  Your saved signature does not meet our minimum requirements for a valid signature. Please create a new signature.\n</p>"),
            i.push("<canvas class='signature' id='" + e(t(this.name)) + "' width='" + e(t(386)) + "' height='" + e(t(68)) + "'></canvas>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/question_statement"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<span data-bind='text; class type'></span>"),
            t.join("\n")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/question_target"] = function(t) {
        return function() {
            var t, e;
            return t = window.HAML.cleanValue,
            (e = []).push("<div class='question-target'>" + t(this.question_target_body) + "</div>"),
            e.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/question_text"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<span data-bind='text; class type'></span>\n<input id='answer_text' type='text' name='" + e(t(this.name)) + "' data-bind='disabled disabled'>\n<span class='error' data-bind='text error'></span>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/question_textarea"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<span data-bind='text; class type'></span>\n<textarea id='answer_text' data-bind='disabled disabled'></textarea>\n<span class='error' data-bind='text error'></span>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/reference_material"] = function(t) {
        return function() {
            var t, e;
            return t = window.HAML.cleanValue,
            (e = []).push("<div class='reference-material'>" + t(this.reference_material_body) + "</div>"),
            e.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/reminder"] = function(t) {
        return function() {
            var e, i, n;
            return i = window.HAML.escape,
            e = window.HAML.cleanValue,
            (n = []).push("<div class='items' id='reminder'>"),
            _.each(this.items, function(t) {
                return n.push("  <div class='" + ["item", "" + i(e(t.get("type")))].sort().join(" ").replace(/^\s+|\s+$/g, "") + "'>\n    <span class='remind_date'>\n      Due on " + t.get("remind_on") + "\n    </span>\n    <span class='remind_text'>"),
                n.push("      " + i(e(t.get("note")))),
                n.push("      <span class='remind_dismiss' data-id='" + i(e(t.get("id"))) + "'></span>\n    </span>\n  </div>"),
                ""
            }),
            this.has_newer && n.push("  <a class='newer' href='#'>Newer</a>"),
            this.has_older && n.push("  <a class='older' href='#'>Older</a>"),
            n.push("</div>"),
            n.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/renewal_dialog"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div class='title'>\n  Renew Request \n  <div class='close'></div>\n</div>\n<div class='content'>\n  <p>\n    Use 'Renew Request' to start a new request using the original patient information on this PA form for: \n  </p>\n  <ul>\n    <li>\n      Drug: " + this.drug + "\n    </li>\n    <li>\n      Form: " + this.form_description + "\n    </li>\n    <li>\n      Patient: " + this.patient_name + " \n    </li>\n  </ul>\n  <p>You will be required to reverify the information on this form before clicking 'Send to Plan'. </p>\n</div>\n<div class='actions'>\n  <div class='dismiss-dialog-checkbox'>\n    <input type='checkbox' name='dismiss_renewal_dialog'>\n    <span>Don't show this message again.</span>\n  </div>\n  <button class='renew'>Create Renewal</button>\n  <button class='close'>Cancel</button>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/review_button"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<a class='button review_responses' href='#'>\n  <span>" + e(t(this.button_text)) + "</span>\n</a>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/row"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div class='title' data-bind='text'></div>\n<div class='content'>\n  <div class='questions'></div>\n  <div data-bind='displayed deleteable'>\n    <a class='delete' href='#' data-bind='hidden disabled'>Delete</a>\n  </div>\n  <div class='clear'></div>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/script_hero_notifier"] = function(t) {
        return function() {
            var t, e;
            return t = window.HAML.cleanValue,
            (e = []).push("" + t(this.sh_notifier_body)),
            e.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/section"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<header>\n  <span class='arrow down' data-bind='hidden collapsed'>&#x25BC;</span>\n  <span class='arrow right' data-bind='displayed collapsed'>&#x25BA;</span>\n  <span data-bind='text'></span>\n  <div class='renewal-verification' data-bind='renewal_verification'>\n    <div class='verify-renewal-text'></div>\n  </div>\n  <div class='summary' data-bind='hidden collapsed'>\n    <div data-bind='hidden sent'></div>\n  </div>\n  <span class='caution'>&#x26A0;</span>\n</header>\n<p class='description' data-bind='description; hidden collapsed'></p>"),
            this.enableFormChangeButton && t.push("<a class='button change_form' id='action_change_form' href='#'>\n  <span>Change Form</span>\n</a>"),
            t.push("<div class='rows' data-bind='hidden collapsed'></div>\n<div class='add-row row' data-bind='displayed repeatable'>\n  <div class='content'>\n    <a href='#' data-bind='repeatable_text'></a>\n  </div>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/send_control/error"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='content'>\n  <strong>There was an error determining your ability to send this PA directly to the plan.</strong>\n  <p>If you need assistance, use the Chat feature or call us at (866) 452-5017.</p>\n</div>\n<div class='actions'>"),
            this.request.shareable() && i.push("  <button data-action='send-to-prescriber'>" + e(t("Send to Prescriber")) + "</button>"),
            i.push("  <button data-action='cancel'>" + e(t("Cancel")) + "</button>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/send_control/loading"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='content'>\n  <img class='spinner' src='/images/spinner-grey.gif' style='display: block; margin: 0 auto;'>\n</div>\n<div class='actions'>\n  <button data-action='cancel'>" + e(t("Cancel")) + "</button>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/send_control/token"] = function(t) {
        return function() {
            var e, i, n, t, s, r;
            return i = window.HAML.escape,
            e = window.HAML.cleanValue,
            (n = []).push("<div class='content'>\n  <p>" + i(e(null != (t = this.token.get("messaging")) ? t.main : void 0)) + "</p>"),
            0 < (r = this.token.unassertedQuestions()).length && (n.push("  <form id='sct-assertions-form'>"),
            r.forEach(function(t) {
                return n.push("    <div class='field'>\n      <p>"),
                n.push("        " + i(e(t.text))),
                t.help_text && n.push("        <a class='help-text-icon' href='#' title='" + i(e(t.help_text)) + "' data-action='toggle-help-text' data-for='" + i(e(t.key)) + "'>\n          &quest;\n        </a>"),
                n.push("      </p>\n      <div class='help-text' style='display: none;' data-for='" + i(e(t.key)) + "'>" + i(e(t.help_text)) + "</div>\n      <div class='options'>\n        <label for='sct-" + i(e(t.key)) + "-yes'>\n          <input id='sct-" + t.key + "-yes' required type='radio' value='true' name='" + i(e(t.key)) + "'>\n          Yes\n        </label>\n        <label for='sct-" + i(e(t.key)) + "-no'>\n          <input id='sct-" + t.key + "-no' required type='radio' value='false' name='" + i(e(t.key)) + "'>\n          No\n        </label>\n      </div>\n    </div>"),
                ""
            }),
            n.push("  </form>")),
            n.push("  <p class='footer'>" + i(e(null != (s = this.token.get("messaging")) ? s.footer : void 0)) + "</p>\n</div>\n<div class='actions'>"),
            "approved" === this.token.get("status") ? n.push("  <button data-action='send-to-plan'>" + i(e("Send to Plan")) + "</button>") : "pending" === this.token.get("status") ? n.push("  <button data-action='submit-assertions'>" + i(e("Continue")) + "</button>") : this.request.shareable() && n.push("  <button data-action='send-to-prescriber'>" + i(e("Send to Prescriber")) + "</button>"),
            n.push("  <button data-action='cancel'>" + i(e("Cancel")) + "</button>\n</div>"),
            n.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/send_control/send_control_dialog"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='title'>"),
            i.push("  " + e(t(this.request.nickname() + " (Key: " + this.request.reference() + ")"))),
            i.push("  <div class='close' data-action='cancel'></div>\n</div>\n<div class='content-container'></div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/send_to_plan_button"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<a class='button send_plan' href='#'>\n  <span>" + e(t(this.button_text)) + "</span>\n</a>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/sidebar"] = function(t) {
        return function() {
            var t;
            return t = [],
            this.archived ? this.anonymous || t.push("<a class='button renew small' id='action_renew' href='#'>\n  <span>Renew</span>\n</a>") : this.central || (t.push("<a class='api-configurable button orange send-to-prescriber-control send_prescriber' id='action_send_prescriber' href='#'>\n  <span>Send to Prescriber</span>\n</a>\n<a class='button disabled save' id='action_save' href='#'>\n  <span>Save</span>\n</a>\n<a class='archive button' id='action_archive' href='#'>\n  <span>Archive</span>\n</a>\n<a class='button other_actions' href='#'>\n  <span>Other Actions</span>\n</a>\n<div id='other_actions_container'>\n  <div id='other_actions_header'></div>\n  <div id='other_actions_body'>"),
            this.anonymous || t.push("    <a class='button renew small' id='action_renew' href='#'>\n      <span>Renew</span>\n    </a>"),
            t.push("    <a class='api-configurable button delete delete-control small' id='action_delete' href='#'>\n      <span>Delete</span>\n    </a>\n  </div>\n  <div id='other_actions_footer'></div>\n</div>")),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/status_dialog"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='title'>"),
            i.push("  " + e(t(this.nickname + " (Key: " + this.reference + ")"))),
            i.push("  <div class='close'></div>\n</div>\n<div class='content'>\n  <img class='form' src='" + e(t(this.epa_image)) + "'>\n  <div class='text'></div>\n  <div class='response'></div>\n  <p class='convert'>\n    <a href='#'>Convert this request to a \"paper\" PA in CoverMyMeds.</a>\n  </p>\n  <img class='spinner' src='/images/spinner-grey.gif'>\n  <div class='clear'></div>\n</div>\n<div id='enrollment_dialog_content'>\n  <div class='copay_experiment_signup'></div>\n</div>\n<div id='bridge_dialog_content'></div>\n<div id='copay_signup_content'></div>\n<div id='case_view_link_content'></div>\n<div class='actions'>\n  <button class='close'>Close</button>\n  <button class='return-to-dashboard'>Return to Dashboard</button>\n  <button class='convert'>OK</button>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/v2_link_section"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div id='go-to-v2'>\n  <img class='prompt-icon' src='/images/red-exclamation.svg' alt='exclamation point'>\n  <span>\n    You're using the old request view. \n  </span>\n  <a class='v2-link' href='" + e(t(this.url)) + "'>Try out our new View!</a>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/edit/verified_npi_dialog"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='verified-npi-dialog'>\n  <div class='npi-title'>\n    <img id='npi-dialog-img' src='/images/optum-success.png'>\n    <p>Your NPI is already verified</p>\n  </div>\n  <div class='npi-content'>\n    <p>PROVIDER INFORMATION</p>\n    <hr style='margin: 5px'>\n    <p>" + e(t(this.verified_npi.first_name + " " + this.verified_npi.last_name)) + "</p>\n    <p>" + e(t("NPI: " + this.verified_npi.npi)) + "</p>\n  </div>\n  <div class='npi-actions'>\n    <button class='continue-to-pa'>CONTINUE TO PA</button>\n  </div>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/group_index/buttons"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<a class='button new-request' href='#'>\n  <span>New Request</span>\n</a>\n<a class='button enter-key' href='#'>\n  <span>Enter Key</span>\n</a>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/group_index/history_dialog"] = function(t) {
        return function() {
            var e, i, n;
            return i = window.HAML.escape,
            e = window.HAML.cleanValue,
            (n = []).push("<div class='title'>"),
            n.push("  " + i(e(this.nickname + " (Key: " + this.reference + ") - History"))),
            n.push("  <div class='close'></div>\n</div>\n<div class='content'>"),
            0 === this.request_actions.length ? n.push("  <p>No actions have been taken.</p>") : (n.push("  <ul>"),
            this.request_actions.each(function(t) {
                return n.push("    <li>"),
                n.push("      " + i(e(t.get("name")))),
                n.push("      " + i(e("-"))),
                n.push("      " + i(e(t.get("date")))),
                n.push("      " + i(e("-"))),
                t.get("masquerading_user_id") && n.push("      " + i(e("CoverMyMeds Support for "))),
                n.push("      " + i(e(t.get("user")))),
                t.get("note") && (n.push("      <br>"),
                n.push("      " + i(e(t.get("note")))),
                n.push("      <br>\n      <br>")),
                n.push("    </li>"),
                ""
            }),
            n.push("  </ul>")),
            n.push("</div>\n<div class='actions'>\n  <button class='close'>Back</button>\n</div>"),
            n.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/group_index/history_dialog_copc"] = function(t) {
        return function() {
            var e, i, n;
            return i = window.HAML.escape,
            e = window.HAML.cleanValue,
            (n = []).push("<div class='title'>"),
            n.push("  " + i(e(this.nickname + " (Key: " + this.reference + ") - History"))),
            n.push("  <div class='close'></div>\n</div>\n<div class='content'>"),
            0 === this.request_actions.length ? n.push("  <p>No actions have been taken.</p>") : (n.push("  <ul>"),
            this.request_actions.each(function(t) {
                return n.push("    <li>\n      <strong>" + i(e(t.get("name"))) + "</strong>"),
                n.push("      " + i(e("-"))),
                n.push("      " + i(e(t.get("date")))),
                n.push("      " + i(e("-"))),
                t.get("masquerading_user_id") && n.push("      " + i(e("CoverMyMeds Support for "))),
                n.push("      " + i(e(t.get("user")))),
                t.get("note") && (n.push("      <br>"),
                n.push("      " + i(e(t.get("note")))),
                n.push("      <br>\n      <br>")),
                n.push("    </li>"),
                ""
            }),
            n.push("  </ul>")),
            n.push("</div>\n<div class='actions'>\n  <button class='close'>Back</button>\n</div>"),
            n.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/group_index/request"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<a class='edit' href='#'>\n  <img src='" + e(t(this.form_image)) + "'>\n</a>\n<div class='inner'>"),
            this.is_appeal && i.push("  <div class='appeal_container'>\n    <p class='appeal_flag'>Appeal</p>\n  </div>"),
            i.push("  <strong>"),
            i.push("    " + e(t(this.nickname + " (Key: " + this.reference + ")"))),
            this.custom_ref && this.custom_ref !== this.rx_number && i.push("    &ndash; " + this.custom_ref),
            this.rx_number && i.push("    &ndash; Rx #" + this.rx_number),
            this.patient_dob && (i.push("    <br>"),
            i.push("    " + e(t("DOB: " + this.patient_dob)))),
            i.push("  </strong>"),
            this.epa && i.push("  <br>\n  Status: " + this.full_status),
            this.next_action_name && 2 !== this.access_type && i.push("  <br>\n  <em>Next Action: " + this.next_action_name + " (" + this.followup_date + ")</em>"),
            this.last_action_name && 2 !== this.access_type && i.push("  <br>\n  Last Action: " + this.last_action_name + " (" + this.action_date + ")"),
            i.push("  <div class='links'>"),
            2 === this.access_type ? i.push("    <a class='edit' href='#'>Determine if this is your patient</a>") : (i.push("    <a class='edit' href='#'>edit</a>"),
            this.archived || i.push("    |\n    <a class='take-action' href='#'>take action</a>"),
            this.archivable && i.push("    |\n    <a class='archive' href='#'>archive</a>")),
            i.push("  </div>\n</div>\n<div class='inner'>"),
            this.drug_DDID_text && i.push("  <span class='drug-text'>" + e(t(this.drug_DDID_text)) + "</span>\n  <br>"),
            i.push("  created by " + this.created_by_name + " " + this.created),
            _.isEmpty(this.being_edited_by) || (i.push("  <div class='edit_in_progress'>"),
            _.each(this.being_edited_by, function(t) {
                return i.push("    <img src='/assets/caution.gif'>\n    <strong>" + t + " may be editing this request</strong>\n    <br>"),
                ""
            }),
            i.push("  </div>")),
            i.push("</div>\n<div class='clear'></div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/group_index/request_copc"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<a class='edit' href='#'>\n  <img src='" + e(t(this.form_image)) + "'>\n</a>\n<div class='flex-wrapper'>\n  <div class='request-text'>"),
            this.is_appeal && i.push("    <div class='appeal_container'>\n      <p class='appeal_flag'>Appeal</p>\n    </div>"),
            i.push("    <div class='request-name'>\n      <strong>\n        " + this.nickname + "\n      </strong>\n      (Key: " + this.reference + ")\n      <span>"),
            this.rx_number && i.push("        &ndash; Rx #" + this.rx_number),
            this.patient_dob && (i.push("        &ndash;"),
            i.push("        " + e(t("DOB: " + this.patient_dob)))),
            i.push("      </span>\n    </div>\n    <div class='flex-wrapper'>\n      <div class='inner'>"),
            this.epa && i.push("        <p>\n          <strong>Status: </strong>\n          " + this.full_status + "\n        </p>"),
            this.next_action_name && 2 !== this.access_type && i.push("        <p>\n          <strong>Next Action: </strong>\n          " + this.next_action_name + " (" + this.followup_date + ")\n        </p>"),
            this.last_action_name && 2 !== this.access_type && i.push("        <p>\n          <strong>Last Action:</strong>\n          " + this.last_action_name + " (" + this.action_date + ")\n        </p>"),
            i.push("      </div>\n      <div class='inner'>"),
            this.drug_DDID_text && i.push("        <p>\n          <strong>\n            <span class='drug-text'>" + e(t(this.drug_DDID_text)) + "</span>\n          </strong>\n        </p>"),
            i.push("        <p>\n          <strong>\n            Created by " + this.created_by_name + "\n          </strong>\n          " + this.created + "\n        </p>"),
            _.isEmpty(this.being_edited_by) || (i.push("        <div class='edit_in_progress'>"),
            _.each(this.being_edited_by, function(t) {
                return i.push("          <img src='/assets/caution.gif'>\n          <p>\n            <strong>" + t + " may be editing this request</strong>\n          </p>"),
                ""
            }),
            i.push("        </div>")),
            i.push("      </div>\n    </div>\n  </div>\n  <div class='links'>"),
            2 === this.access_type ? i.push("    <a class='edit' href='#'>Determine if this is your patient</a>") : (i.push("    <a class='edit' href='#'>edit</a>"),
            this.archived || i.push("    <a class='take-action' href='#'>take action</a>"),
            this.archivable && i.push("    <a class='archive' href='#'>archive</a>")),
            i.push("  </div>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/group_index/take_action_dialog"] = function(t) {
        return function() {
            var e, i, n;
            return i = window.HAML.escape,
            e = window.HAML.cleanValue,
            (n = []).push("<div class='title'>"),
            n.push("  " + i(e(this.nickname + " (Key: " + this.reference + ") - Take Action"))),
            n.push("  <div class='close'></div>\n</div>\n<div class='content'>\n  <label>Action</label>\n  <select name='last_action'>"),
            this.actions.each(function(t) {
                return n.push("    <option value='" + i(e(t.id)) + "'>" + i(e(t.get("name"))) + "</option>"),
                ""
            }),
            n.push("  </select>\n  <label>Next Action</label>\n  <select name='next_action'>"),
            this.actions.each(function(t) {
                return n.push("    <option value='" + i(e(t.id)) + "'>" + i(e(t.get("name"))) + "</option>"),
                ""
            }),
            n.push("  </select>\n  <label>Due Date</label>\n  <select name='due_date'>\n    <option value='0D'>Today</option>\n    <option value='1D'>Tomorrow</option>\n    <option value='3D'>3 days</option>\n    <option value='5D'>5 days</option>\n    <option value='14D'>14 days</option>\n    <option value='1M'>1 month</option>\n    <option value='2M'>2 months</option>\n    <option value='3M'>3 months</option>\n    <option value='4M'>4 months</option>\n    <option value='6M'>6 months</option>\n    <option value='1Y'>1 year</option>\n    <option value='Custom'>Custom</option>\n  </select>\n  <input type='text' name='due_date'>\n  <span id='invalid_due_date'></span>\n  <label>Note</label>\n  <textarea name='note'></textarea>\n</div>\n<div class='actions'>\n  <button class='history'>View History</button>\n  <button class='save'>Save</button>\n  <button class='close'>Cancel</button>\n</div>"),
            n.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/shared/archive_dialog"] = function(t) {
        return function() {
            var l, u, c;
            return u = window.HAML.escape,
            l = window.HAML.cleanValue,
            (c = []).push("<div class='title'>"),
            this.staleRequestArchivable ? c.push("  Archive Pending Request?") : c.push("  Archive & Notify"),
            c.push("  <div class='close'></div>\n</div>\n<div class='content'>"),
            this.staleRequestArchivable && c.push("  <p>This request is still waiting on a response from the plan. By choosing to archive, you won't receive a notification of the outcome. Please contact the plan directly if you haven't received a determination in a typical time frame.</p>"),
            c.push("  <p>Once archived, an email with the archive outcome is sent to any other users with access to this request.</p>\n  <p class='error' id='e-outcome' style='display:none'>Please make a selection</p>\n  <p class='error' id='e-reason' style='display:none'>Please submit an archive reason</p>\n  <h3>\n    The request was:"),
            this.outcome_value && c.push("    <strong>" + u(l(this.outcome_value)) + "</strong>"),
            c.push("  </h3>"),
            this.outcome_value || this.archive_reasons.forEach(function(t) {
                var e, i, n, s, r, o, a;
                if (c.push("  <label>\n    <input class='archive-reason' type='radio' value='" + u(l(t.outcome_value)) + "' name='outcome'>\n    " + t.outcome_label + "\n    <br>"),
                t.default_reason)
                    c.push("    <input class='default-reason' type='hidden' value='" + u(l(t.default_reason)) + "'>");
                else if (t.reasons) {
                    if (c.push("    <div class='reasons' id='reasons-" + t.outcome_value + "' style='display:none'>"),
                    "Unfavorable" === t.outcome_value) {
                        for (c.push("      <label>\n        Reason from plan:\n        <br>\n        <select>\n          <option value='' name='outcome'>\n            Select reason\n          </option>"),
                        e = 0,
                        n = (o = t.reasons).length; e < n; e++)
                            r = o[e],
                            c.push("          <option value='" + u(l(r)) + "' name='outcome'>\n            " + r + "\n          </option>");
                        c.push("        </select>\n        OR Other:\n        <input type='text'>\n      </label>")
                    } else if ("Unsent" === t.outcome_value) {
                        for (c.push("      <label>\n        Reason not sent:\n        <select>\n          <option value='' name='outcome'>\n            Select reason\n          </option>"),
                        i = 0,
                        s = (a = t.reasons).length; i < s; i++)
                            r = a[i],
                            c.push("          <option value='" + u(l(r)) + "' name='outcome'>\n            " + r + "\n          </option>");
                        c.push("        </select>\n      </label>")
                    }
                    c.push("    </div>")
                }
                return c.push("  </label>"),
                ""
            }),
            this.staleRequestArchivable && c.push("  <h2>Are you sure you would like to archive this request?</h2>"),
            c.push("</div>\n<div class='actions'>\n  <button class='archive'>Archive</button>\n  <button class='close'>Cancel</button>\n</div>"),
            c.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/shared/hub_dialog"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='title'>\n  " + this.dialog_details.confirmation_title + "\n</div>\n<div class='content' align='center'>\n  <p>" + this.dialog_details.confirmation_body + "</p>\n  <p>"),
            this.dialog_details.learn_more_url && i.push("    <a href='" + e(t(this.dialog_details.learn_more_url)) + "' target='_blank'>\n      Learn more\n    </a>"),
            i.push("  </p>\n  <p>\n    <a class='button confirm' style='width: 195px;cursor: pointer;'>\n      <span>" + this.dialog_details.confirmation_button_text + "</span>\n    </a>\n  </p>\n  <p style='margin-top: -10px'>\n    <a class='cancel' style='text-decoration: underline;cursor: pointer;'>\n      <span>" + this.dialog_details.decline_button_text + "</span>\n    </a>\n  </p>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/shared/iht_hub_experiment_dialog"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<div class='modal-dialog'>\n  <div class='modal-content'>\n    <div class='modal-header'>\n      PA Management Available\n    </div>\n    <div class='modal-body'>\n      <div class='row'>\n        <div class='col-sm-2'>\n          <img src='/images/customer_support.svg'>\n        </div>\n        <div class='body-placeholder col-sm-10'>\n          <span>\n            <strong>Let us run with that!</strong>\n          </span>\n          <p>We'll keep in touch with your patient's health plan and help get your PA to determination.</p>\n          <p>This prior authorization (PA) request is eligible for additional follow-up support from CoverMyMeds. If you enable the additional follow-up support, a CoverMyMeds representative may contact the health plan, pharmacy, or healthcare provider to support the PA request through the determination process.</p>\n        </div>\n      </div>\n    </div>\n    <div class='modal-footer'>\n      <div class='row'>\n        <div class='col-lg-12 col-md-12 col-sm-12 col-xs-12'>\n          <a class='btn btn-link cancel'>\n            <span>I don't want assistance</span>\n          </a>\n          <a class='btn btn-primary confirm'>\n            <span>Yes, Manage My PA</span>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"),
            t.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["requests/shared/sharing_dialog"] = function(t) {
        return function() {
            var t, e, i, n, s, r, o, a;
            if (e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<div class='title'>\n  Prior Authorization Request\n</div>\n<div class='content'>\n  <p>A PA request has been started for the following patient and prescriber:</p>\n  <ul>\n    <li>" + e(t("Patient: " + this.request.get("patient_fname") + " " + this.request.get("patient_lname") + " - DOB: " + this.request.get("patient_dob"))) + "</li>\n    <li>" + e(t("Prescriber: " + this.request.get("prescriber_name") + " - NPI: " + this.request.get("npi"))) + '</li>\n  </ul>\n  <p>\n    <strong>\n      If this is your patient, click "Accept".\n    </strong>\n    If this is not your patient, click "Delete" to remove the request from your dashboard.\n  </p>'),
            null != (o = this.request.get("groups")) ? o.length : void 0) {
                for (i.push("  <p>Your action will also be taken for all members of the following groups:</p>\n  <ul>"),
                s = 0,
                r = (a = this.request.get("groups")).length; s < r; s++)
                    n = a[s],
                    i.push("    <li>" + e(t("" + n.name)) + "</li>");
                i.push("  </ul>")
            }
            return i.push("</div>\n<div class='actions'>\n  <button class='accept'>Accept</button>\n  <button class='delete'>Delete</button>\n  <button class='cancel'>Cancel</button>\n</div>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["shared/index/filters"] = function(t) {
        return function() {
            var e, i, n, s;
            return i = window.HAML.escape,
            e = window.HAML.cleanValue,
            (n = []).push("<h2>Folders</h2>\n<ul>"),
            this.collection.filters.each((s = this,
            function(t) {
                return n.push("  <li>"),
                _.times(t.get("indent"), function() {
                    return n.push("    &nbsp;"),
                    ""
                }),
                s.collection.filter !== t.get("selector") ? n.push("    <a href='#' data-filter='" + i(e(t.get("selector"))) + "'>" + i(e(t.get("name"))) + "</a>") : n.push("    " + i(e(t.get("name")))),
                n.push("    <sup>" + i(e(t.get("count"))) + "</sup>\n  </li>"),
                ""
            }
            )),
            n.push("</ul>"),
            n.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["shared/index/pagination"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            i = [],
            1 < this.collection.pageInfo().total_pages && (this.collection.pageInfo().prev && i.push("<a class='prev' href='#'>&laquo;</a>"),
            i.push("" + e(t(this.collection.pageInfo().range[0]))),
            i.push("" + e(t("-"))),
            i.push("" + e(t(this.collection.pageInfo().range[1]))),
            i.push("of"),
            i.push("" + e(t(this.collection.pageInfo().total_entries))),
            this.collection.pageInfo().next && i.push("<a class='next' href='#'>&raquo;</a>")),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["shared/index/scoper"] = function(t) {
        return function() {
            var t;
            return (t = []).push("<h2>Showing " + this.name + " for</h2>\n<input>"),
            t.join("\n")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["shared/index/searcher"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<h2>Search</h2>\n<a class='clear' href='#'>clear</a>\n<input id='search_text' type='text' value='" + e(t(this.collection.currentSearchString())) + "'>\n<br>\n<a class='button search' id='search' href='#'>\n  <span>Search " + this.collection.currentFilterString() + "</span>\n</a>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "").replace(/\s(?:id|class)=(['"])(\1)/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["shared/index/sorters"] = function(t) {
        return function() {
            var e, i, n, s;
            return i = window.HAML.escape,
            e = window.HAML.cleanValue,
            (n = []).push("<h2>Sort</h2>\n<ul>"),
            _.each(this.collection.sorters, (s = this,
            function(t) {
                return n.push("  <li>"),
                s.collection.sorter !== t.selector ? n.push("    <a href='#' data-sorter='" + i(e(t.selector)) + "'>" + i(e(t.name)) + "</a>") : n.push("    " + i(e(t.name))),
                n.push("  </li>"),
                ""
            }
            )),
            n.push("</ul>"),
            n.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    null == window.JST && (window.JST = {}),
    window.JST["users/index/user"] = function(t) {
        return function() {
            var t, e, i;
            return e = window.HAML.escape,
            t = window.HAML.cleanValue,
            (i = []).push("<strong>"),
            i.push("  " + e(t(this.name + " (" + this.username + ")"))),
            i.push("</strong>\n<br>"),
            i.push("" + e(t(this.email))),
            i.push("<br>\n<em>Created on " + this.created_at + "</em>"),
            i.join("\n").replace(/\s([\w-]+)='\x93true'/gm, " $1").replace(/\s([\w-]+)='\x93false'/gm, "")
        }
        .call(window.HAML.context(t))
    }
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.Action = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.Autoshare = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.urlRoot = "/api/autoshares",
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.CaseKey = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.url = function() {
            var t;
            return (t = this.get("model")).get("portal_services_url") + "/requests/" + t.get("id") + "/hub_services_cases"
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.Choice = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.Condition = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.match = function(t) {
            var e, i, n;
            if (!(i = this.conditionalQuestion(t)))
                return !0;
            if (!i.collection.row.visible())
                return !1;
            if (!i.visible())
                return !1;
            if (i.required())
                return !1;
            switch (n = this.get("value"),
            e = i.get("answer"),
            i.get("type")) {
            case "radio":
            case "dropdown":
                switch (this.get("operator")) {
                case "ne":
                    return e !== n;
                default:
                    return e === n
                }
                break;
            case "checkbox":
                switch (e || (e = []),
                this.get("operator")) {
                case "minimum_checked":
                    return e.length >= parseInt(n);
                case "ne":
                    return _.all((n || "").split(","), function(t) {
                        return !_.include(e, t)
                    });
                default:
                    return _.all(n.split(","), function(t) {
                        return _.include(e, t)
                    })
                }
                break;
            case "text":
            case "textarea":
                switch (e = i.get("answer_text"),
                this.get("operator")) {
                case "eq":
                    return this.is_equal(e, n);
                case "ne":
                    return e !== n;
                case "lt":
                    return parseFloat(e) < parseFloat(n);
                case "gt":
                    return parseFloat(e) > parseFloat(n);
                case "lte":
                    return parseFloat(e) <= parseFloat(n);
                case "gte":
                    return parseFloat(e) >= parseFloat(n);
                case "contains":
                    return 0 <= _.indexOf(e, n);
                case "blank":
                    return _.isEmpty(e);
                default:
                    return e === n
                }
                break;
            default:
                return !0
            }
        }
        ,
        e.prototype.is_equal = function(t, e) {
            return null != t && null !== t.match(/^[0-9].*/) ? parseFloat(t) === parseFloat(e) : t === e
        }
        ,
        e.prototype.conditionalQuestion = function(t) {
            var e;
            return null != (e = this.findQuestionInSection(t)) ? e : this.findQuestionInRequest(t.collection.request)
        }
        ,
        e.prototype.findQuestionInSection = function(t) {
            return t.findQuestion(this.get("field"))
        }
        ,
        e.prototype.findQuestionInRequest = function(t) {
            return t.findQuestion(this.get("field"))
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.ConditionGroup = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.initialize = function() {
            return this.condition_groups = new App.Collections.ConditionGroups(this.get("condition_groups")),
            this.conditions = new App.Collections.Conditions(this.get("conditions"))
        }
        ,
        e.prototype.match = function(e) {
            return "any" === this.get("match") ? this.condition_groups.any(function(t) {
                return t.match(e)
            }) || this.conditions.any(function(t) {
                return t.match(e)
            }) : this.condition_groups.all(function(t) {
                return t.match(e)
            }) && this.conditions.all(function(t) {
                return t.match(e)
            })
        }
        ,
        e.prototype.conditionalQuestions = function(e) {
            return _.union(this.condition_groups.map(function(t) {
                return t.conditionalQuestions(e)
            }), this.conditions.map(function(t) {
                return t.conditionalQuestion(e)
            }))
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.EligibilityResult = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.url = function() {
            return "/api/requests/" + this.collection.request.id + "/eligibility_results/" + this.id
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.EligibilitySource = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.EnrollmentConversionProgram = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.url = function() {
            return this.getUrl()
        }
        ,
        e.prototype.getUrl = function() {
            return this.get("portalServicesUrl") + "/requests/" + this.get("requestId") + "/enrollments?ddid=" + this.get("ddid")
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.EnrollmentNavigator = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.url = function() {
            var t;
            return (t = this.get("model")).get("portal_services_url") + "/requests/" + t.get("id") + "/enrollment_navigator"
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.Filter = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.Group = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.urlRoot = "/api/groups",
        e.prototype.initialize = function() {
            return this.memberships = new App.Collections.Memberships
        }
        ,
        e.prototype.parse = function(t) {
            return this.memberships = new App.Collections.Memberships(t.memberships),
            t
        }
        ,
        e.prototype.setErrors = function(t) {
            return this.errors = _(t ? JSON.parse(t).errors : {}),
            this.trigger("errors")
        }
        ,
        e.prototype.editable = function() {
            return this.isNew() || this.get("editable")
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.History = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.url = function() {
            return "/api/requests/" + this.get("request_id") + "/history"
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.HubEnrollment = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.url = function() {
            var t;
            return (t = this.get("model")).get("portal_services_url") + "/requests/" + t.get("id") + "/hub_services_cases/" + this.get("case_key") + "/enrollment"
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.Membership = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.urlRoot = "/api/memberships",
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.MultiplePromptFollowups = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.initialize = function(t) {
            return this.request_id = t.request_id,
            this.portal_services_url = t.portal_services_url
        }
        ,
        e.prototype.url = function() {
            return this.portal_services_url + "/requests/" + this.request_id + "/prompts/multiple_followups"
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.Note = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.urlRoot = "/api/notes",
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.PaNavigator = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.url = function() {
            var t;
            return (t = this.get("model")).get("portal_services_url") + "/requests/" + t.get("id") + "/pa_navigator?ddid=" + t.get("ddid")
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.Person = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.name = function() {
            return _.compact([this.get("first_name"), this.get("last_name")]).join(" ")
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.PrescriberNPIVerification = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.initialize = function() {
            return this.set({
                shouldSendVerificationFax: !1
            })
        }
        ,
        e.prototype.findPrescriberByNpi = function(t) {
            var e, i, n, s;
            if (null != this.verified_npis)
                for (e = 0,
                i = (n = this.verified_npis).length; e < i; e++)
                    if (t === (s = n[e]).npi)
                        return s
        }
        ,
        e.prototype.loadVerifiedNpis = function(t, e) {
            var i;
            return i = this.setVerifiedNpis.bind(this),
            $.ajax({
                type: "GET",
                url: "/api/verifications",
                data: {
                    request_key: e
                }
            }).done(function(t) {
                return i(t)
            }).fail(function() {
                return i(null)
            })
        }
        ,
        e.prototype.searchNonVerifiedNpis = function(t, e, i, n, s) {
            return $.ajax({
                type: "GET",
                url: "/api/nppes_providers/" + t + "/" + e + "/" + i
            }).done(function(t) {
                return n(t)
            }).fail(function() {
                return s(t)
            })
        }
        ,
        e.prototype.sendVerificationFax = function(t) {
            var e;
            return null != (e = this.searchPendingVerifications(t)) ? $.ajax({
                type: "PUT",
                url: "/api/verifications/" + e.contact_path_verification_id,
                data: {
                    npi: t.findQuestionAnswerText("provider_npi"),
                    fax_number: t.findQuestionAnswerText("provider_fax"),
                    request_key: t.id,
                    date_initiated: e.date_initiated,
                    contact_path_verification_id: e.contact_path_verification_id,
                    contact_path_verification_updated_at: e.contact_path_verification_updated_at
                }
            }).fail(function() {
                return {}
            }) : $.post("/api/verifications", {
                npi: t.findQuestionAnswerText("provider_npi"),
                fax_number: t.findQuestionAnswerText("provider_fax"),
                request_key: t.id
            }).fail(function() {
                return {}
            })
        }
        ,
        e.prototype.setVerifiedNpis = function(t) {
            return this.verified_npis = t.completed,
            this.initiated_npis = t.initiated
        }
        ,
        e.prototype.searchPendingVerifications = function(t) {
            var e, i, n, s;
            for (e = 0,
            i = (s = this.initiated_npis).length; e < i; e++)
                if ((n = s[e]).npi === t.findQuestionAnswerText("provider_npi"))
                    return n
        }
        ,
        e.prototype.getUpdatedAtTime = function(t) {
            var e, i, n, s;
            for (e = 0,
            i = (s = this.initiated_npis).length; e < i; e++)
                if ((n = s[e]).npi === t)
                    return n
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.PromptFollowup = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.initialize = function(t) {
            return this.request_id = t.request_id,
            this.portal_services_url = t.portal_services_url
        }
        ,
        e.prototype.url = function() {
            return this.portal_services_url + "/requests/" + this.request_id + "/prompts/followup"
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var e = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.Question = function(t) {
        function i() {
            return this.setFileUpdating = e(this.setFileUpdating, this),
            this.validationFailureReason = e(this.validationFailureReason, this),
            this.isSpecialQuestion = e(this.isSpecialQuestion, this),
            this.getAnswer = e(this.getAnswer, this),
            i.__super__.constructor.apply(this, arguments)
        }
        return n(i, t),
        i.prototype.initialize = function() {
            return this.attributes.answer_text && "text" === this.attributes.type && (this.attributes.answer_text = this.attributes.answer_text.toString()),
            this.choices = new App.Collections.Choices(this.get("choices")),
            this.condition_groups = new App.Collections.ConditionGroups(this.get("condition_groups")),
            this.type = this.get("type")
        }
        ,
        i.prototype.MAXIMUM_NCPDP_FIELD_LENGTH = 2e3,
        i.prototype.ASCII_ONLY_FREETEXT_VALIDATION_REGEX = /^[\x00-\x7F]+$/,
        i.prototype.disable = function() {
            return this.set({
                disabled: !0
            })
        }
        ,
        i.prototype.clearEnabledAnswers = function() {
            if (!this.get("disabled") && "dropdown" !== this.get("type"))
                return this.set({
                    answer: null,
                    answer_text: null
                })
        }
        ,
        i.prototype.clearErrors = function() {
            return this.set({
                error: " "
            })
        }
        ,
        i.prototype.clearHiddenEnabledAnswers = function() {
            if (!this.get("disabled") && !this.visible())
                return this.set({
                    answer: null,
                    answer_text: null
                })
        }
        ,
        i.prototype.hasDatasource = function() {
            return _.include(["manual", "automatic"], this.get("datasource_type"))
        }
        ,
        i.prototype.hasAutomaticDatasource = function() {
            return "automatic" === this.get("datasource_type")
        }
        ,
        i.prototype.datasourceUrl = function() {
            var t;
            return "custom" === (t = this.get("datasource_preset")) ? this.get("datasource_url") : -1 < t.indexOf("diagnoses") ? App.PortalServicesUrl : "/api/datasources/" + t
        }
        ,
        i.prototype.defaults = {
            visible: !0,
            disabled: !1
        },
        i.prototype.toJSON = function(t) {
            var e;
            return e = i.__super__.toJSON.call(this, t),
            this.sanitizeAnswerText(e)
        }
        ,
        i.prototype.sanitizeAnswerText = function(t) {
            return null != t.answer_text && ("null" === t.answer_text ? t.answer_text = null : null == t.type || "text" !== t.type || this.hasDatasource() || (t.answer_text = t.answer_text.replace(/[^\S ]+/g, " "))),
            t
        }
        ,
        i.prototype.required = function() {
            var t, e, i;
            return !!this.visible() && (!(this.get("disabled") && !App.User.get("central")) && (e = this.get("type"),
            _.include(["dropdown", "radio", "checkbox", "signature"], e) ? this.get("required") && _.isEmpty(this.get("answer")) : "textarea" === e ? this.get("required") && _.isEmpty(this.get("answer_text")) : "file" === e ? this.get("required") && _.isEmpty(this.get("answer_text")) : "date" === e ? (t = String(this.get("answer_text")),
            this.get("required") && !(t.match(/^(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\/((19|20)\d\d)$/) && moment(t, "MM/DD/YYYY").isValid())) : "text" !== e || (i = this.get("validation"),
            _.isEmpty(i)) ? void 0 : this.hasDatasource() && "drugs" !== this.get("datasource_preset") ? !(this.get("answer") || "").match(i) : !(this.get("answer_text") || "").match(i)))
        }
        ,
        i.prototype.isValid = function() {
            var t, e;
            return t = this.get("answer_text"),
            e = this.get("type"),
            this.set({
                error: " "
            }),
            (this.get("required") || "text" === e) && this.answerIsBlankAndCannotBe(t) ? (this.setEmptyDataError(),
            !1) : this.answerIsTooLong(t) ? (this.setAnswerTooLongError(),
            !1) : this.answerContainsInvalidCharacters(t) ? (this.setInvalidCharacterError(),
            !1) : this.dateIsInvalid(t) ? (this.setInvalidDateError(),
            !1) : this.isPhoneField() ? this.validatePhone(t) : !this.answerIsOtherwiseInvalid(t) || (this.setInvalidResponseError(),
            !1)
        }
        ,
        i.prototype.getAnswer = function() {
            return (this.isSpecialQuestion() ? this.get("answer") : this.get("answer_text")) || ""
        }
        ,
        i.prototype.isSpecialQuestion = function() {
            return _.include(["dropdown", "radio", "checkbox", "signature"], this.type) || "text" === this.type && this.hasDatasource()
        }
        ,
        i.prototype.validatePhone = function(t) {
            var e, i;
            return e = "phone_optional" === this.get("validation_preset"),
            i = String(t),
            !(!e || !this.answerIsBlank(i)) || (!this.maskedPhoneInvalid(i) || (this.setInvalidPhoneError(),
            !1))
        }
        ,
        i.prototype.isPhoneField = function() {
            return "text" === this.get("type") && _.include(["phone_optional", "phone_required"], this.get("validation_preset"))
        }
        ,
        i.prototype.answerIsBlank = function(t) {
            return _.isEmpty(t) || this.get("mask") && this.translateMaskedAnswer() === t
        }
        ,
        i.prototype.answerIsBlankAndCannotBe = function(t) {
            return this.answerIsBlank(t) && (this.get("required") || !this.questionCanBeLeftBlank(this.get("validation")))
        }
        ,
        i.prototype.questionCanBeLeftBlank = function(t) {
            if ("text" === this.get("type"))
                return "".match(t)
        }
        ,
        i.prototype.getError = function() {
            return this.error
        }
        ,
        i.prototype.translateMaskedAnswer = function() {
            return this.get("mask").replace(/9/g, "_").replace(/\?/g, "").trim()
        }
        ,
        i.prototype.setEmptyDataError = function() {
            return this.set({
                error: "Cannot be blank"
            })
        }
        ,
        i.prototype.answerIsTooLong = function(t) {
            return !_.isEmpty(t) && (null != t ? t.length : void 0) > this.MAXIMUM_NCPDP_FIELD_LENGTH
        }
        ,
        i.prototype.setAnswerTooLongError = function() {
            return this.set({
                error: "Answer too long (maximum 2000 characters)"
            })
        }
        ,
        i.prototype.answerContainsInvalidCharacters = function(t) {
            return !_.isEmpty(t) && !t.match(/^[\x00-\x7F]+$/)
        }
        ,
        i.prototype.setInvalidCharacterError = function() {
            return this.set({
                error: "Invalid character"
            })
        }
        ,
        i.prototype.dateIsInvalid = function(t) {
            var e, i;
            if (i = this.get("type"),
            e = String(t),
            "date" === i && !_.isEmpty(e))
                return !_.isEmpty(this.get("validation")) && !e.match(this.get("validation")) || !(!_.isEmpty(this.get("validation")) || e.match(/^(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\/((19|20)\d\d)$/))
        }
        ,
        i.prototype.maskedPhoneInvalid = function(t) {
            return _.isEmpty(this.get("mask")) || (t = t.replace(/^_+/, "").replace(/\sx_+$/, "").replace(/_+$/, "")),
            !this.answerIsBlank(t) && !_.isEmpty(this.get("validation")) && !t.match(this.get("validation"))
        }
        ,
        i.prototype.setNeedsReviewError = function() {
            return this.set({
                error: "Please review"
            })
        }
        ,
        i.prototype.setInvalidDateError = function() {
            return this.set({
                error: "Invalid date"
            })
        }
        ,
        i.prototype.setInvalidPhoneError = function() {
            return this.set({
                error: "Invalid phone number"
            })
        }
        ,
        i.prototype.answerIsOtherwiseInvalid = function(t) {
            return _.isEmpty(this.get("mask")) || (t = t.replace(/^_+/, "").replace(/_+$/, "")),
            !_.isEmpty(t) && !_.isEmpty(this.get("validation")) && !t.match(this.get("validation"))
        }
        ,
        i.prototype.setInvalidResponseError = function() {
            return this.set({
                error: "Invalid response"
            })
        }
        ,
        i.prototype.important = function() {
            var t;
            return !(this.get("disabled") || !this.visible()) && (t = this.get("type"),
            _.include(["dropdown", "radio", "checkbox", "signature"], t) ? this.get("important") && _.isEmpty(this.get("answer")) : _.include(["textarea", "file"], t) ? this.get("important") && _.isEmpty(this.get("answer_text")) : "text" === t ? this.hasDatasource() ? this.get("important") && _.isEmpty(this.get("answer")) : this.get("important") && _.isEmpty(this.get("answer_text")) : void 0)
        }
        ,
        i.prototype.visible = function() {
            return this.get("visible")
        }
        ,
        i.prototype.setVisibility = function(e) {
            return this.collection.row.visible() ? this.set({
                visible: this.condition_groups.all(function(t) {
                    return t.match(e)
                })
            }) : this.set({
                visible: !1
            })
        }
        ,
        i.prototype.validationFailureReason = function() {
            return _.isEmpty(this.get("answer_text") || this.get("answer")) ? "empty answer" : "validation failure"
        }
        ,
        i.prototype.setFileUpdating = function(t) {
            return this.set("fileUpdating", t)
        }
        ,
        i
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.ReferenceMaterial = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.url = function() {
            return this.get("portal_services_url") + "/requests/" + this.get("request_id") + "/reference_materials"
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.Reminder = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.urlRoot = function() {
            return "/api/reminders"
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var s = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , r = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            o.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , o = {}.hasOwnProperty
      , a = [].slice;
    App.Models.Request = function(t) {
        function n() {
            return this.singleQuestionSetReceived = s(this.singleQuestionSetReceived, this),
            this.areFilesUpdating = s(this.areFilesUpdating, this),
            this.resetQuestions = s(this.resetQuestions, this),
            this.updateSections = s(this.updateSections, this),
            this.updateEligibilityResults = s(this.updateEligibilityResults, this),
            n.__super__.constructor.apply(this, arguments)
        }
        var e, i;
        return r(n, t),
        e = "PA Response",
        i = "Question Response",
        n.prototype.urlRoot = "/api/requests",
        n.prototype.url = function() {
            return this.isNew() ? this.urlRoot : this.urlRoot + "/" + encodeURIComponent(this.id)
        }
        ,
        n.prototype.initialize = function() {
            return this.status_dialog_loading = new App.Models.StatusDialog,
            this.status_dialog_sending = new App.Models.StatusDialog,
            this.sections = new App.Collections.Sections,
            (this.sections.request = this).sections.on("change", this.updateSections),
            this.sections.on("reset", this.resetQuestions),
            this.eligibility_source = new App.Models.EligibilitySource,
            this.eligibility_results = new App.Collections.EligibilityResults,
            (this.eligibility_results.request = this).eligibility_results.on("change reset", this.updateEligibilityResults),
            this.rendered = !1,
            this.form_started_filled = !1,
            this.attachment_required_questions = []
        }
        ,
        n.prototype.defaults = {
            patient_fname: "",
            patient_lname: "",
            prescriber_name: ""
        },
        n.prototype.save = function(t, e, i) {
            return n.__super__.save.call(this, t, e, i),
            this.clearClientSideStateAttributes()
        }
        ,
        n.prototype.parse = function(t) {
            return t.sections && (t.status_dialog_loading ? this.status_dialog_loading.set(t.status_dialog_loading) : this.status_dialog_loading.clear(),
            t.status_dialog_sending ? this.status_dialog_sending.set(t.status_dialog_sending) : this.status_dialog_sending.clear(),
            t.eligibility_source ? this.eligibility_source.set(t.eligibility_source) : this.eligibility_source.clear(),
            this.sections.reset(t.sections),
            this.sending && $("#pharmacy-search-section").hide(),
            this.eligibility_results.reset(t.eligibility_results)),
            t
        }
        ,
        n.prototype.renew = function(t) {
            var e, i;
            return null == t && (t = !1),
            i = new App.Views.Shared.ModalBackground,
            $("body").prepend(i),
            e = {
                renew: !0,
                dismiss_renew_dialog: t,
                saveable: this.saveable()
            },
            this.save(e, {
                success: function(t, e) {
                    return window.location.href = e.location
                },
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "There was an error renewing your request. Please try again."
                    }),
                    $(".modal-background").remove()
                }
            })
        }
        ,
        n.prototype.changeForm = function() {
            var t;
            return t = {
                change_form: !0,
                saveable: this.saveable()
            },
            this.save(t, {
                success: function(t, e) {
                    return window.location.href = e.location
                },
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "There was an error changing form for your request. Please try again."
                    }),
                    $(".modal-background").remove()
                }
            })
        }
        ,
        n.prototype.formChangeable = function() {
            return "Question Response" === this.status() && "N/A" === this.outcome()
        }
        ,
        n.prototype.formNumber = function() {
            return this.get("form_name").match(/_(\d+)$/)[1]
        }
        ,
        n.prototype.formImage = function() {
            return this.get("form_image")
        }
        ,
        n.prototype.expiringSection = function() {
            return _.last(this.sections.filter(function(t) {
                return _.include(["questions", "appeal"], t.get("name")) && !t.get("sent")
            }))
        }
        ,
        n.prototype.expiringSectionType = function() {
            var t;
            return "questions" === (null != (t = this.expiringSection()) ? t.get("name") : void 0) ? "Question Set" : "Appeal"
        }
        ,
        n.prototype.expirationDate = function() {
            var t;
            return null != (t = this.expiringSection()) ? t.expirationDate() : void 0
        }
        ,
        n.prototype.authorizationSection = function() {
            return _.last(this.sections.filter(function(t) {
                return t.get("authorization_expiration")
            }))
        }
        ,
        n.prototype.authorizationExpiration = function() {
            var t;
            return null != (t = this.authorizationSection()) ? t.get("authorization_expiration") : void 0
        }
        ,
        n.prototype.setVisibility = function() {
            return this.sections.invoke("setVisibility")
        }
        ,
        n.prototype.allQuestions = function() {
            var t;
            return t = this.sections.map(function(t) {
                return t.allQuestions()
            }),
            _.extend.apply(_, [{}].concat(a.call(t)))
        }
        ,
        n.prototype.active = function() {
            return !this.inactive()
        }
        ,
        n.prototype.inactive = function() {
            return this.expired() || this.approved() || this.cancelled() || this.deleted() || this.failed_from_ehr()
        }
        ,
        n.prototype.searchingEligibility = function() {
            return "searching" === this.get("eligibility_status")
        }
        ,
        n.prototype.getFirstUploadQuestion = function() {
            var e;
            if (e = [],
            this.sections.each(function(t) {
                return t.rows.each(function(t) {
                    return t.questions.each(function(t) {
                        if ("file" === t.get("type"))
                            return e.push(t)
                    })
                })
            }),
            null != e[0])
                return e[0]
        }
        ,
        n.prototype.updateEligibilityResults = function() {
            return this.set({
                eligibility_results: this.eligibility_results.toJSON()
            })
        }
        ,
        n.prototype.updateSections = function() {
            return this.set({
                sections: this.sections.toJSON()
            })
        }
        ,
        n.prototype.required = function() {
            return !App.User.get("central") && this.incomplete()
        }
        ,
        n.prototype.incomplete = function() {
            return this.sections.any((e = this,
            function(t) {
                return t.required(e)
            }
            ));
            var e
        }
        ,
        n.prototype.important = function() {
            return this.sections.any(function(t) {
                return t.important()
            })
        }
        ,
        n.prototype.patientName = function() {
            return _.compact([this.get("patient_fname"), this.get("patient_lname")]).join(" ")
        }
        ,
        n.prototype.nickname = function() {
            return this.patientName() || "Untitled Request"
        }
        ,
        n.prototype.reference = function() {
            return this.id
        }
        ,
        n.prototype.custom_ref = function() {
            return this.get("custom_ref")
        }
        ,
        n.prototype.rx_number = function() {
            return this.get("rx_number")
        }
        ,
        n.prototype.is_ehr = function() {
            return this.get("is_ehr")
        }
        ,
        n.prototype.resetQuestions = function() {
            return this.all_questions = null
        }
        ,
        n.prototype.questions = function() {
            return this.all_questions || (this.all_questions = this.allQuestions())
        }
        ,
        n.prototype.findQuestion = function(t) {
            return this.questions()[t]
        }
        ,
        n.prototype.findQuestionAnswer = function(t) {
            var e;
            return null != (e = this.questions()[t]) ? e.get("answer") : void 0
        }
        ,
        n.prototype.findQuestionAnswerText = function(t) {
            var e;
            return null != (e = this.questions()[t]) ? e.get("answer_text") : void 0
        }
        ,
        n.prototype.questionSetName = function() {
            var t;
            return null != (t = this.sections.find(function(t) {
                return "questions" === t.get("name")
            })) ? t.get("text") : void 0
        }
        ,
        n.prototype.form = function() {
            return _.compact([this.get("form_description"), this.questionSetName()]).join(" - ")
        }
        ,
        n.prototype.form_id = function() {
            return this.get("form_id")
        }
        ,
        n.prototype.status = function() {
            return this.get("ePA_Status")
        }
        ,
        n.prototype.type = function() {
            return this.get("ePA_type_name")
        }
        ,
        n.prototype.drugDDID = function() {
            return this.get("ddid")
        }
        ,
        n.prototype.drugDescription = function() {
            return this.get("drug_description")
        }
        ,
        n.prototype.formName = function() {
            return this.get("form_description")
        }
        ,
        n.prototype.is_enrollment = function() {
            return this.get("is_enrollment")
        }
        ,
        n.prototype.statusDescription = function() {
            return this.get("ePA_Status_description")
        }
        ,
        n.prototype.outcome = function() {
            return this.get("request_outcome")
        }
        ,
        n.prototype.archiveReason = function() {
            return this.get("archive_reason")
        }
        ,
        n.prototype.claimApiClientOrganizationName = function() {
            return this.get("claim_api_client_organization_name")
        }
        ,
        n.prototype.staleRequestArchivable = function() {
            return this.get("stale_request_archivable")
        }
        ,
        n.prototype.fullStatus = function() {
            return _.compact([this.status(), this.outcome()]).join(" - ")
        }
        ,
        n.prototype.phoneNumber = function() {
            var t;
            return null != (t = this.sections.find(function(t) {
                return "questions" === t.get("name")
            })) ? t.get("phone_number") : void 0
        }
        ,
        n.prototype.expired = function() {
            return "Expired" === this.status()
        }
        ,
        n.prototype.approved = function() {
            return "Favorable" === this.outcome()
        }
        ,
        n.prototype.cancelled = function() {
            return "Cancelled" === this.outcome()
        }
        ,
        n.prototype.denied = function() {
            return "Unfavorable" === this.outcome()
        }
        ,
        n.prototype.failed = function() {
            return "Failure" === this.status()
        }
        ,
        n.prototype.failed_from_ehr = function() {
            return this.failed() && !this.outcome() && this.is_ehr()
        }
        ,
        n.prototype.deleted = function() {
            return this.get("deleted")
        }
        ,
        n.prototype.archived = function() {
            return this.get("archived")
        }
        ,
        n.prototype.archivable = function() {
            return this.get("archivable")
        }
        ,
        n.prototype.terminated = function() {
            return ("PA Response" === this.status() || "Appeal Response" === this.status()) && !this.saveable()
        }
        ,
        n.prototype.saveable = function() {
            return this.active() && this.anySectionsSendable() && !this.searchingEligibility()
        }
        ,
        n.prototype.anySectionsSendable = function() {
            return this.sections.any(function(t) {
                return t.sendable()
            })
        }
        ,
        n.prototype.sendable = function() {
            return !this.required() && this.saveable() && this.get("sendable") && this.renewalVerified() && this.submitToPayerAuthorized() && !this.areFilesUpdating()
        }
        ,
        n.prototype.sendControlIsEnabled = function() {
            return this.has("send_control") && !!this.get("send_control").enabled
        }
        ,
        n.prototype.sendControlToken = function() {
            return this.send_control_token || (this.send_control_token = new App.Models.SendControlToken(this.get("send_control").context))
        }
        ,
        n.prototype.downloadOnly = function() {
            return this.get("download_only")
        }
        ,
        n.prototype.deleteable = function() {
            return this.get("deleteable") && !this.terminated()
        }
        ,
        n.prototype.isHubexRequest = function() {
            return this.get("is_hubex_request")
        }
        ,
        n.prototype.received_question_set_count = function() {
            return this.get("received_question_set_count")
        }
        ,
        n.prototype.shareable = function() {
            var t;
            return !!this.get("shareable") && (!!this.renewalVerified() && (!!this.findQuestionAnswerText("patient_last_name") && (!!this.findQuestionAnswerText("patient_first_name") && !(!(t = this.findQuestionAnswerText("patient_date_of_birth")) || -1 !== t.indexOf("_") || !moment(t, "MM/DD/YYYY").isValid()))))
        }
        ,
        n.prototype.renewalVerified = function() {
            return !this.sections.renewalVerificationsRequired()
        }
        ,
        n.prototype.isSpecialtyForm = function() {
            return "SPE" === this.get("form_request_type")
        }
        ,
        n.prototype.isBvForm = function() {
            return "BV" === this.get("form_request_type")
        }
        ,
        n.prototype.lastSectionDescription = function() {
            return this.sections.last().get("description")
        }
        ,
        n.prototype.sending = function() {
            return this.sections.all(function(t) {
                return t.get("sent")
            })
        }
        ,
        n.prototype.isSent = function() {
            if (this.statusDescription())
                return -1 < this.statusDescription().toLowerCase().indexOf("- sent to plan")
        }
        ,
        n.prototype.isNotSent = function() {
            if (this.statusDescription())
                return -1 < this.statusDescription().toLowerCase().indexOf("not sent to plan")
        }
        ,
        n.prototype.accessType = function() {
            return this.get("access_type")
        }
        ,
        n.prototype.masqueraded = function() {
            return 0 < this.get("masquerading_user_id")
        }
        ,
        n.prototype.isAppeal = function() {
            return this.get("is_appeal")
        }
        ,
        n.prototype.hasEnabledQuestion = function() {
            return this.get("has_enabled_question")
        }
        ,
        n.prototype.hasEnabledQuestionSet = function() {
            return this.sections.some((e = this,
            function(t) {
                return e.isSendableQuestionSetSection(t)
            }
            ));
            var e
        }
        ,
        n.prototype.getEnabledQuestionsFromPlan = function() {
            var t, e, i, n;
            return t = this.sections.find((n = this,
            function(t) {
                return n.isSendableQuestionSetSection(t)
            }
            )),
            e = _.flatten(t.rows.map(function(t) {
                return t.questions.map(function(t) {
                    return t
                })
            })),
            i = {},
            _.each(e, function(t) {
                if (void 0 !== t.get("name") && !t.get("disabled"))
                    return i[t.get("name")] = t
            }),
            i
        }
        ,
        n.prototype.isSendableQuestionSetSection = function(t) {
            return t.isQuestionSetSection() && t.sendable()
        }
        ,
        n.prototype.areFilesUpdating = function() {
            return Object.keys(this.questions()).map((e = this,
            function(t) {
                return e.questions()[t]
            }
            )).some(function(t) {
                return "file" === t.get("type") && t.get("fileUpdating")
            });
            var e
        }
        ,
        n.prototype.renewable = function() {
            var t, e, i;
            return e = $("input[name=patient_first_name]"),
            i = $("input[name=patient_last_name]"),
            t = $("input[name=patient_date_of_birth]"),
            (!e.length || 0 !== e.val().length) && ((!i.length || 0 !== i.val().length) && ((!t.length || 0 !== t.val().length) && !this.sections.renewalVerificationsRequired()))
        }
        ,
        n.prototype.getFullStatusDescription = function() {
            var t;
            return this.outcome() && !this.is_enrollment() ? t = this.status() : "Appeal Request" === this.status() ? (t = this.statusDescription(),
            this.appealDate() && (t += " on " + this.appealDate())) : t = this.isSent() && this.sentDate() ? this.statusDescription() + " on " + this.sentDate() : this.statusDescription(),
            _.compact([t, this.outcome()]).join(" - ")
        }
        ,
        n.prototype.getDisplayName = function() {
            return null != this.findQuestionAnswerText("prescriber_last_name") ? _.compact([this.findQuestionAnswerText("prescriber_first_name"), this.findQuestionAnswerText("prescriber_last_name")]).join(" ") : _.compact([this.findQuestionAnswerText("provider_first_name"), this.findQuestionAnswerText("provider_last_name")]).join(" ")
        }
        ,
        n.prototype.npiVerification = function() {
            return this.get("npi_verification")
        }
        ,
        n.prototype.isAmpDrug = function() {
            return this.get("is_amp_drug")
        }
        ,
        n.prototype.stubFormRequiresAttachment = function() {
            return this.sections.any(function(t) {
                return t.get("stub_form_attachment_required")
            })
        }
        ,
        n.prototype.setLegacyAttributes = function() {
            var t, e, i, n;
            return this.set({
                patient_fname: this.findQuestionAnswerText("patient_first_name"),
                patient_lname: this.findQuestionAnswerText("patient_last_name"),
                patient_address_street: this.findQuestionAnswerText("patient_address1"),
                patient_address_city: this.findQuestionAnswerText("patient_city"),
                patient_address_state: this.findQuestionAnswer("patient_state"),
                patient_address_zip: this.findQuestionAnswerText("patient_zip"),
                patient_dob: this.findQuestionAnswerText("patient_date_of_birth"),
                patient_sex: null != (t = this.findQuestionAnswer("patient_gender")) ? t.charAt(0).toLowerCase() : void 0,
                custom_ref: this.findQuestionAnswerText("patient_vendor_patient_id"),
                patient_phone: null != (e = this.findQuestionAnswerText("patient_phone")) ? e.replace(/[\s-]/g, "") : void 0,
                patient_member_number: this.findQuestionAnswerText("patient_member_id") || this.findQuestionAnswerText("patient_id_number"),
                patient_person_number: this.findQuestionAnswerText("patient_person_number"),
                bin: this.findQuestionAnswerText("patient_bin_number"),
                drug_quantity: this.findQuestionAnswerText("drug_quantity"),
                drug_quantity_unit_of_measure: this.findQuestionAnswerText("drug_quantity_unit_of_measure"),
                days_supply: this.findQuestionAnswerText("drug_days_supply"),
                icd9: this.findQuestionAnswer("drug_primary_diagnosis_code") || this.findQuestionAnswer("icd9"),
                icd9_text: this.findQuestionAnswerText("drug_primary_diagnosis_code") || this.findQuestionAnswerText("icd9"),
                icd10: this.findQuestionAnswer("icd10"),
                icd10_text: this.findQuestionAnswerText("icd10"),
                pharmacy_ncpdp: this.findQuestionAnswerText("pharmacy_ncpdp_id"),
                request_priority: this.findQuestionAnswer("request_priority"),
                npi: this.findQuestionAnswerText("provider_npi"),
                display_name: this.getDisplayName(),
                prescriber_firstname: this.findQuestionAnswerText("prescriber_first_name") || this.findQuestionAnswerText("provider_first_name"),
                prescriber_lastname: this.findQuestionAnswerText("prescriber_last_name") || this.findQuestionAnswerText("provider_last_name"),
                prescriber_street: this.findQuestionAnswerText("provider_address1"),
                prescriber_city: this.findQuestionAnswerText("provider_city"),
                prescriber_state: this.findQuestionAnswer("provider_state"),
                prescriber_zip: this.findQuestionAnswerText("provider_zip"),
                office_phone: null != (i = this.findQuestionAnswerText("provider_phone")) ? i.replace(/[\s-]/g, "") : void 0,
                office_fax: null != (n = this.findQuestionAnswerText("provider_fax")) ? n.replace(/[\s-]/g, "") : void 0,
                permission_to_call_patient: this.attributes.permission_to_call_patient ? 1 : 0,
                pharmacy_sent_rx: this.attributes.pharmacy_sent_rx ? 1 : 0
            })
        }
        ,
        n.prototype.clearClientSideStateAttributes = function() {
            return this.set({
                completed: !1,
                download: !1,
                renew: !1,
                send_to_plan: !1,
                send_to_prescriber: !1
            })
        }
        ,
        n.prototype.created_by_name = function() {
            var t;
            return t = this.get("created_by_name"),
            this.masqueraded() && (t = "CoverMyMeds Support for " + t),
            t
        }
        ,
        n.prototype.created = function() {
            var t, e;
            return e = this.get("created").match(/\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d/),
            t = Date.parseExact(e[0], "yyyy-MM-ddTHH:mm:ss"),
            (Date.today().toString("M/d/yyyy") === t.toString("M/d/yyyy") ? "today" : Date.today().add(-1).day().toString("M/d/yyyy") === t.toString("M/d/yyyy") ? "yesterday" : "on " + t.toString("M/d/yyyy")) + " at " + t.toString("h:mmtt")
        }
        ,
        n.prototype.actionDate = function() {
            var t, e;
            if (this.get("action_date"))
                return e = this.get("action_date").match(/\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d/),
                t = Date.parseExact(e[0], "yyyy-MM-ddTHH:mm:ss"),
                (Date.today().toString("M/d/yyyy") === t.toString("M/d/yyyy") ? "today" : Date.today().add(-1).day().toString("M/d/yyyy") === t.toString("M/d/yyyy") ? "yesterday" : t.toString("M/d/yyyy")) + " at " + t.toString("h:mmtt")
        }
        ,
        n.prototype.eligibilityChecked = function() {
            var t;
            return "searched" === (t = this.get("eligibility_status")) || "error" === t
        }
        ,
        n.prototype.eligibilitySelected = function() {
            return this.eligibility_results.isSelected()
        }
        ,
        n.prototype.followupDate = function() {
            var t, e;
            if (this.get("followup_date"))
                return e = this.get("followup_date").match(/\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d/),
                t = Date.parseExact(e[0], "yyyy-MM-ddTHH:mm:ss"),
                Date.today().toString("M/d/yyyy") === t.toString("M/d/yyyy") ? "due today" : Date.today().add(-1).day().toString("M/d/yyyy") === t.toString("M/d/yyyy") ? "due yesterday" : Date.today().add(1).day().toString("M/d/yyyy") === t.toString("M/d/yyyy") ? "due tomorrow" : "due " + t.toString("M/d/yyyy")
        }
        ,
        n.prototype.sentDate = function() {
            var t, e;
            return !!this.get("sent") && (e = this.get("sent").match(/\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d/),
            (t = Date.parseExact(e[0], "yyyy-MM-ddTHH:mm:ss")).toString("MMMM d") + t.getOrdinal() + t.toString(", yyyy"))
        }
        ,
        n.prototype.appealDate = function() {
            var t, e;
            return !!this.get("appeal_date") && (e = this.get("appeal_date").match(/\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d/),
            (t = Date.parseExact(e[0], "yyyy-MM-ddTHH:mm:ss")).toString("MMMM d") + t.getOrdinal() + t.toString(", yyyy"))
        }
        ,
        n.prototype.submitToPayerAuthorized = function() {
            return null == this.findQuestion("pharmacy_direct_authorized") || !this.pharmacy_user() || this.pharmacyUserAccepted()
        }
        ,
        n.prototype.pharmacyUserAccepted = function() {
            return "Yes" === this.findQuestionAnswer("pharmacy_direct_authorized")
        }
        ,
        n.prototype.pharmacy_user = function() {
            return App.User.get("pharmacy_user")
        }
        ,
        n.prototype.attachmentsCount = function() {
            var t;
            return t = _.map(this.questions(), function(t) {
                if ("file" === t.get("type") && t.get("answer_text"))
                    return t
            }),
            _.compact(t).length
        }
        ,
        n.prototype.unansweredRequiredQuestions = function() {
            var t;
            return t = _.map(this.questions(), function(t) {
                if (t.required())
                    return t
            }),
            _.compact(t)
        }
        ,
        n.prototype.singleQuestionSetReceived = function() {
            return this.isInQuestionResponse() && 1 === this.received_question_set_count()
        }
        ,
        n.prototype.isInPaResponse = function() {
            return this.status() === e
        }
        ,
        n.prototype.isInQuestionResponse = function() {
            return this.status() === i
        }
        ,
        n.prototype.isPaDenied = function() {
            return this.isInPaResponse() && this.denied()
        }
        ,
        n
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.RequestAction = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.url = function() {
            return "/api/requests/" + this.get("request_id") + "/request_actions"
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.RequestTouch = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.url = function() {
            var e, t;
            return e = {
                outcome: this.get("outcome"),
                reason: this.get("reason"),
                archive: this.get("archive")
            },
            t = Object.keys(e).map(function(t) {
                if (e[t])
                    return t + "=" + e[t]
            }).join("&"),
            App.PortalServicesUrl + "/requests/" + this.get("request_id") + "/touches?" + t
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.Row = function(t) {
        function e() {
            return this.replace = i(this.replace, this),
            this.updateQuestions = i(this.updateQuestions, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.initialize = function() {
            return this.questions = new App.Collections.Questions(this.get("questions")),
            (this.questions.row = this).condition_groups = new App.Collections.ConditionGroups(this.get("condition_groups")),
            this.questions.on("change", this.updateQuestions),
            this.on("change", this.updateAnswerText)
        }
        ,
        e.prototype.defaults = {
            visible: !0
        },
        e.prototype.updateQuestions = function() {
            return this.set({
                questions: this.questions.toJSON()
            })
        }
        ,
        e.prototype.required = function() {
            return this.visible && this.questions.any(function(t) {
                return t.required()
            })
        }
        ,
        e.prototype.important = function() {
            return this.visible && this.questions.any(function(t) {
                return t.important()
            })
        }
        ,
        e.prototype.disable = function() {
            return this.set({
                disabled: !0
            }),
            this.questions.invoke("disable")
        }
        ,
        e.prototype.clearEnabledAnswers = function() {
            return this.questions.invoke("clearEnabledAnswers")
        }
        ,
        e.prototype.clearErrors = function() {
            return this.questions.invoke("clearErrors")
        }
        ,
        e.prototype.clearHiddenEnabledAnswers = function() {
            return this.questions.invoke("clearHiddenEnabledAnswers")
        }
        ,
        e.prototype.updateAnswerText = function() {
            var t;
            if (t = this.get("composition"))
                return this.set({
                    answer_text: this.decompose(t)
                })
        }
        ,
        e.prototype.decompose = function(t) {
            return t.replace(/%(\w+)/g, this.replace)
        }
        ,
        e.prototype.replace = function(t, e) {
            var i;
            return null != (i = this.questions.find(function(t) {
                return t.get("name") === e
            })) ? i.get("answer_text") : void 0
        }
        ,
        e.prototype.visible = function() {
            return this.get("visible")
        }
        ,
        e.prototype.invisible_to_user = function() {
            return this.get("invisible_to_user")
        }
        ,
        e.prototype.setVisibility = function(e) {
            return this.set({
                visible: this.condition_groups.all(function(t) {
                    return t.match(e)
                })
            }),
            _.defer((t = this,
            function() {
                return t.questions.invoke("setVisibility", e)
            }
            ));
            var t
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.ScriptHeroNotifier = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.url = function() {
            var t;
            return (t = this.get("model")).get("portal_services_url") + "/requests/" + t.get("id") + "/sh_notifier?ddid=" + t.get("ddid")
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.Section = function(t) {
        function e() {
            return this.hidePharmacyDirect = i(this.hidePharmacyDirect, this),
            this.renewalVerificationText = i(this.renewalVerificationText, this),
            this.renewalVerificationRequired = i(this.renewalVerificationRequired, this),
            this.addressbookQuestionNamePrefix = i(this.addressbookQuestionNamePrefix, this),
            this.match = i(this.match, this),
            this.replace = i(this.replace, this),
            this.updateRows = i(this.updateRows, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.initialize = function() {
            return this.rows = new App.Collections.Rows(this.get("rows")),
            (this.rows.section = this).rows.on("change add remove", this.updateRows),
            this.get("repeatable") && (this.row = new App.Models.Row(this.get("row"))),
            this.on("change", this.updateAnswerText),
            this.renewalVerified = this.get("renewal_verified"),
            this.hidePharmacyDirect(),
            this.hidden = this.get("hidden")
        }
        ,
        e.prototype.expirationDate = function() {
            var t;
            return null != (t = Date.parse(this.get("expiration_date"))) ? t.toString("M/d/yyyy") : void 0
        }
        ,
        e.prototype.expired = function() {
            return this.expirationDate() && Date.parse(this.expirationDate()) < new Date
        }
        ,
        e.prototype.defaults = {
            eligibility_required: !1,
            eligibility_selection_required: !1
        },
        e.prototype.anonymous = function() {
            return App.User.get("anonymous")
        }
        ,
        e.prototype.updateRows = function() {
            return this.set({
                rows: this.rows.toJSON()
            })
        }
        ,
        e.prototype.required = function(t) {
            return this.visible() && (this.eligibilityRequired(t) || this.rows.any(function(t) {
                return t.required()
            }))
        }
        ,
        e.prototype.important = function() {
            return this.rows.any(function(t) {
                return t.important()
            })
        }
        ,
        e.prototype.sendable = function() {
            return !0 !== this.get("sent") && 0 < this.rows.length && !this.rows.any(function(t) {
                return t.get("disabled")
            })
        }
        ,
        e.prototype.visible = function() {
            return this.get("visible")
        }
        ,
        e.prototype.setVisibility = function() {
            return this.set({
                visible: !this.hidden
            }),
            _.defer((t = this,
            function() {
                return t.rows.invoke("setVisibility", t)
            }
            ));
            var t
        }
        ,
        e.prototype.sent = function() {
            if (!this.get("sent"))
                return this.set({
                    sent: !0,
                    collapsed: !0
                }),
                this.clearHiddenEnabledAnswers(),
                this.disable()
        }
        ,
        e.prototype.eligibilityRequired = function(t) {
            return this.get("eligibility_required") && !this.anonymous() && (!t.eligibilityChecked() || this.get("eligibility_selection_required") && !t.eligibilitySelected())
        }
        ,
        e.prototype.disable = function() {
            return this.rows.invoke("disable")
        }
        ,
        e.prototype.clearEnabledAnswers = function() {
            return this.rows.invoke("clearEnabledAnswers")
        }
        ,
        e.prototype.clearErrors = function() {
            return this.rows.invoke("clearErrors")
        }
        ,
        e.prototype.clearHiddenEnabledAnswers = function() {
            return this.rows.invoke("clearHiddenEnabledAnswers")
        }
        ,
        e.prototype.updateAnswerText = function() {
            var t;
            if (t = this.get("composition"))
                return this.set({
                    answer_text: this.decompose(t).replace(/\(\)/g, "")
                })
        }
        ,
        e.prototype.decompose = function(t) {
            return t.replace(/%(\w+)/g, this.replace)
        }
        ,
        e.prototype.replace = function(t, e) {
            return null != (t = this.match(e)) ? t.get("answer_text") : void 0
        }
        ,
        e.prototype.match = function(e) {
            var t, i;
            return (i = this.rows.find(function(t) {
                return t.get("name") === e || t.questions.any(function(t) {
                    return t.get("name") === e
                })
            })) && (t = i.questions.find(function(t) {
                return t.get("name") === e
            })),
            t || (i || void 0)
        }
        ,
        e.prototype.nextRowNumber = function() {
            return null != this.get("row_counter") ? this.set({
                row_counter: this.get("row_counter") + 1
            }) : this.set({
                row_counter: 0
            }),
            this.get("row_counter")
        }
        ,
        e.prototype.addressbookQuestionNamePrefix = function() {
            switch (this.get("addressbook")) {
            case "patient":
                return "patient";
            case "prescriber":
                return "provider"
            }
        }
        ,
        e.prototype.renewalVerificationRequired = function() {
            return this.get("renewal_verification_required") && !this.get("renewal_verified")
        }
        ,
        e.prototype.setRenewalVerified = function(t) {
            return this.set("renewal_verified", t)
        }
        ,
        e.prototype.getRenewalVerified = function() {
            return this.get("renewal_verified")
        }
        ,
        e.prototype.renewalVerificationText = function() {
            return "I have reviewed and updated this section"
        }
        ,
        e.prototype.isProviderSection = function() {
            return null != this.match("provider_npi")
        }
        ,
        e.prototype.isQuestionSetSection = function() {
            return "questions-from-plan" === this.get("name")
        }
        ,
        e.prototype.hidePharmacyDirect = function() {
            if ("pharmacy_direct_section" === this.get("name"))
                return this.set("hidden", !App.User.get("pharmacy_user"))
        }
        ,
        e.prototype.allQuestions = function() {
            var e, t;
            return this.all_questions ? this.all_questions : (t = _.flatten(this.rows.map(function(t) {
                return t.questions.map(function(t) {
                    return t
                })
            })),
            e = {},
            _.each(t, function(t) {
                return e[t.get("name")] = t
            }),
            this.all_questions = e)
        }
        ,
        e.prototype.findQuestion = function(t) {
            return this.allQuestions()[t]
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var e = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty
      , r = [].indexOf || function(t) {
        for (var e = 0, i = this.length; e < i; e++)
            if (e in this && this[e] === t)
                return e;
        return -1
    }
    ;
    App.Models.SendControlToken = function(t) {
        function n() {
            return n.__super__.constructor.apply(this, arguments)
        }
        return e(n, t),
        n.prototype.urlRoot = function() {
            return App.PortalServicesUrl + "/requests/" + this.get("request").id + "/send_control_tokens"
        }
        ,
        n.prototype.isApproved = function() {
            return "approved" === this.get("status")
        }
        ,
        n.prototype.unassertedQuestions = function() {
            return this.questions().filter((i = this,
            function(t) {
                var e;
                return e = t.key,
                r.call(i.assertedKeys(), e) < 0
            }
            ));
            var i
        }
        ,
        n.prototype.questions = function() {
            return this.get("questions") || []
        }
        ,
        n.prototype.assertions = function() {
            return this.get("assertions") || []
        }
        ,
        n.prototype.assertedKeys = function() {
            return this.assertions().map(function(t) {
                return t.key
            })
        }
        ,
        n.prototype.hasMessaging = function() {
            return !!this.get("messaging") && 0 < Object.keys(this.get("messaging")).length
        }
        ,
        n.prototype.saveAssertions = function(t) {
            return this.save({
                assertions: t
            }, {
                patch: !0
            })
        }
        ,
        n.prototype.sync = function(t, e, i) {
            return i.xhrFields || (i.xhrFields = {}),
            i.xhrFields.withCredentials = !0,
            n.__super__.sync.call(this, t, e, i)
        }
        ,
        n
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.Signature = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.SponsoredDrugs = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.url = function() {
            var t;
            return (t = this.get("model")).get("portal_services_url") + "/requests/" + t.id + "/sponsored_drugs?service=" + this.get("service")
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.StatusDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.hasBehavior = function() {
            return this.get("text")
        }
        ,
        e.prototype.text = function(t) {
            var e;
            return null != (e = this.get("text")) ? e.replace(/{{outcome}}/g, t.get("request_outcome")) : void 0
        }
        ,
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Models.User = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.urlRoot = "/api/users",
        e
    }(Backbone.Model)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.Collection = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.scoperUrl = function() {
            return this.baseUrl + "/scoper"
        }
        ,
        e.prototype.url = function() {
            return this.baseUrl + "?" + $.param({
                filter: this.filter,
                sorter: this.sorter,
                page: this.page,
                search: this.search,
                scope: this.scope
            })
        }
        ,
        e.prototype.initialize = function(t) {
            if (this.page = t.page,
            this.filters = new App.Collections.Filters,
            (this.filters.parent = this).filter = t.filter,
            this.sorter = t.sorter,
            t.scope && (this.scope = t.scope.split("/")),
            t.search)
                return this.search = t.search.split("/")
        }
        ,
        e.prototype.fetch = function(t) {
            return this.trigger("fetching"),
            e.__super__.fetch.apply(this, arguments)
        }
        ,
        e.prototype.parse = function(t) {
            var e;
            return (t.filters[0].count || 0 === this.filters.length) && this.filters.reset(t.filters),
            this.filter = t.filter,
            this.sorters = t.sorters,
            this.sorter = t.sorter,
            this.page = t.page,
            this.per_page = t.per_page,
            this.scope_info = t.scope,
            this.scope = _.pluck(this.scope_info, "id"),
            this.page && (e = this.resourceName + "/filter/" + this.filter + "/sort/" + this.sorter + "/page/" + this.page,
            null != this.scope_info && (e = e + "/scope/" + this.scope.join("/")),
            null != this.search && (e = e + "/search/" + this.search.join("/")),
            App.Cookies.set(this.resourceName, e),
            Backbone.history.navigate(e)),
            "function" == typeof this.after_parse && this.after_parse(t),
            t.models
        }
        ,
        e.prototype.changeScope = function(t) {
            return this.scope = t,
            this.page = 1,
            this.fetch(),
            this.syncFilters()
        }
        ,
        e.prototype.totalEntries = function() {
            var t;
            return null != (t = _.first(this.filters.where({
                selector: this.filter
            }))) ? t.get("count") : void 0
        }
        ,
        e.prototype.totalPages = function() {
            return Math.ceil(parseFloat(this.totalEntries()) / this.per_page)
        }
        ,
        e.prototype.pageInfo = function() {
            return {
                page: this.page,
                per_page: this.per_page,
                total_entries: this.totalEntries(),
                total_pages: this.totalPages(),
                prev: 1 < this.page && this.page - 1,
                next: this.page < this.totalPages() && this.page + 1,
                range: [(this.page - 1) * this.per_page + 1, Math.min(this.totalEntries(), this.page * this.per_page)]
            }
        }
        ,
        e.prototype.changeFilter = function(t) {
            var e;
            if (e = "archived" === t || "archived" === this.filter,
            this.filter = t,
            this.page = 1,
            this.fetch(),
            e)
                return this.syncFilters()
        }
        ,
        e.prototype.changeSorter = function(t) {
            return this.sorter = t,
            this.page = 1,
            this.fetch()
        }
        ,
        e.prototype.currentFilterString = function() {
            return _.first(this.filters.where({
                selector: this.filter
            })).get("name")
        }
        ,
        e.prototype.currentSearchString = function() {
            return this.search ? this.search.join(" ") : ""
        }
        ,
        e.prototype.searchFilter = function(t) {
            return this.search = _.isEmpty(t) ? void 0 : t.split(" "),
            this.page = 1,
            this.fetch(),
            this.syncFilters()
        }
        ,
        e.prototype.previousPage = function() {
            return this.page -= 1,
            this.fetch()
        }
        ,
        e.prototype.nextPage = function() {
            return this.page += 1,
            this.fetch()
        }
        ,
        e.prototype.syncFilters = function() {
            if ("requests" === this.resourceName)
                return this.trigger("syncFilters")
        }
        ,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.Actions = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.Action,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.Choices = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.Choice,
        e.prototype.comparator = function(t) {
            return t.get("order")
        }
        ,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.ConditionGroups = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.ConditionGroup,
        e.prototype.conditionalQuestions = function(e) {
            return _(_.uniq(_.flatten(this.map(function(t) {
                return t.conditionalQuestions(e)
            }))))
        }
        ,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.Conditions = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.Condition,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.EligibilityResults = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.EligibilityResult,
        e.prototype.url = function() {
            return "/api/requests/" + this.request.id + "/eligibility_results?" + jQuery.param({
                person: this.person,
                provider: this.provider
            })
        }
        ,
        e.prototype.select = function(t) {
            return this.each(function(t) {
                return t.set({
                    selected: !1
                })
            }),
            t.set({
                selected: !0
            }),
            t.save()
        }
        ,
        e.prototype.isSelected = function() {
            return this.any(function(t) {
                return t.get("selected")
            })
        }
        ,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.Filters = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.Filter,
        e.prototype.url = function() {
            return this.parent.baseUrl + "/filters?" + $.param({
                filter: this.parent.filter,
                search: this.parent.search,
                scope: this.parent.scope
            })
        }
        ,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.Groups = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.Group,
        e.prototype.resourceName = "groups",
        e.prototype.baseUrl = "/api/groups",
        e.prototype.after_parse = function(t) {
            return this.can_create = t.can_create
        }
        ,
        e
    }(App.Collections.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.History = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.History,
        e.prototype.initialize = function(t) {
            return this.request_id = t.request_id
        }
        ,
        e.prototype.url = function() {
            return "/api/requests/" + this.request_id + "/history"
        }
        ,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.Memberships = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.Membership,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.People = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.Person,
        e.prototype.url = function() {
            return "/api/people?" + jQuery.param({
                addressbook: this.addressbook
            })
        }
        ,
        e.prototype.initialize = function(t) {
            if (null == t && (t = {}),
            null != t)
                return this.addressbook = t.addressbook,
                this.person = t.selectedPerson
        }
        ,
        e.prototype.search = function(e) {
            return $.ajax({
                type: "GET",
                url: "/api/people/search?" + jQuery.param({
                    addressbook: this.addressbook,
                    person: this.person
                }),
                dataType: "json"
            }).done(function(t) {
                return e(t)
            })
        }
        ,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.Questions = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.Question,
        e.prototype.comparator = function(t) {
            return t.get("order")
        }
        ,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.Reminders = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.Reminder,
        e.prototype.initialize = function(t) {
            return this.request_id = t.request_id
        }
        ,
        e.prototype.url = function() {
            return "/api/requests/" + this.request_id + "/reminders"
        }
        ,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.RequestActions = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.RequestAction,
        e.prototype.initialize = function(t) {
            return this.request_id = t.request_id
        }
        ,
        e.prototype.url = function() {
            return "/api/requests/" + this.request_id + "/request_actions"
        }
        ,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.RequestTouches = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.RequestTouch,
        e.prototype.initialize = function(t) {
            return this.request_id = t.request_id
        }
        ,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.Requests = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.Request,
        e.prototype.resourceName = "requests",
        e.prototype.baseUrl = "/api/requests",
        e.prototype.after_parse = function(t) {
            if (this.dashboard = t.dashboard,
            this.actions = new App.Collections.Actions(t.actions),
            t.last_request)
                return this.last_request = new App.Models.Request(t.last_request)
        }
        ,
        e
    }(App.Collections.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.Rows = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.Row,
        e.prototype.comparator = function(t) {
            return t.get("order")
        }
        ,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.Sections = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.Section,
        e.prototype.comparator = function(t) {
            return t.get("order")
        }
        ,
        e.prototype.renewalVerificationsRequired = function() {
            return this.some(function(t) {
                return t.renewalVerificationRequired()
            })
        }
        ,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.Signatures = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.Signature,
        e.prototype.initialize = function(t) {
            return this.portal_services_url = t.portal_services_url,
            this.request_id = t.request_id
        }
        ,
        e.prototype.url = function() {
            return this.portal_services_url + "/requests/" + this.request_id + "/signatures"
        }
        ,
        e
    }(Backbone.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Collections.Users = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.model = App.Models.User,
        e.prototype.resourceName = "users",
        e.prototype.baseUrl = "/api/users",
        e
    }(App.Collections.Collection)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Routers.SwappingRouter = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.swap = function(t) {
            var e;
            return null != (e = App.currentView) && "function" == typeof e.leave && e.leave(),
            App.currentView = t,
            App.currentView.render()
        }
        ,
        e
    }(Backbone.Router)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Routers.Groups = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.routes = {
            groups: "index",
            "groups/filter/:filter/sort/:sort/page/:page/search/*search": "index",
            "groups/filter/:filter/sort/:sort/page/:page": "index",
            "groups/new": "newGroup",
            "groups/:id": "edit"
        },
        e.prototype.index = function(t, e, i, n) {
            var s, r;
            return t || App.Cookies.get("groups").constructor !== String ? (s = new App.Collections.Groups({
                filter: t,
                sorter: e,
                page: i,
                search: n
            })).fetch({
                success: (r = this,
                function() {
                    return r.swap(new App.Views.Groups.Index.Main({
                        collection: s
                    }))
                }
                ),
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "Could not load the groups"
                    })
                }
            }) : Backbone.history.navigate(App.Cookies.get("groups"), !0)
        }
        ,
        e.prototype.newGroup = function() {
            var t;
            return t = new App.Models.Group,
            this.swap(new App.Views.Groups.Edit.Main({
                model: t
            }))
        }
        ,
        e.prototype.edit = function(t) {
            var e;
            return new App.Models.Group({
                id: t
            }).fetch({
                success: (e = this,
                function(t) {
                    return e.swap(new App.Views.Groups.Edit.Main({
                        model: t
                    }))
                }
                ),
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "Could not load the group."
                    })
                }
            })
        }
        ,
        e
    }(App.Routers.SwappingRouter)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Routers.Requests = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.routes = {
            "": "index",
            requests: "index",
            "requests/filter/:filter/sort/:sort/page/:page/scope/*scope/search/*search": "index",
            "requests/filter/:filter/sort/:sort/page/:page/scope/*scope": "index",
            "requests/new": "newRequest",
            "requests/key": "enterKey",
            "requests/key/:id": "enterKey",
            "requests/:id": "edit",
            "requests/:id/invite_declined": "invite_declined",
            "requests/:id(/:action)": "edit"
        },
        e.prototype.index = function(t, e, i, n, s) {
            var r, o;
            return t || App.Cookies.get("requests").constructor !== String ? (r = new App.Collections.Requests({
                filter: t,
                sorter: e,
                page: i,
                scope: n,
                search: s
            })).fetch({
                success: (o = this,
                function() {
                    if ("group" === r.dashboard)
                        return r.filters.fetch(),
                        o.swap(new App.Views.Requests.GroupIndex.Main({
                            collection: r
                        }))
                }
                ),
                error: function(t, e) {
                    return 406 === e.status ? window.location = e.responseText : new App.Views.Shared.Error({
                        message: "Could not load the requests"
                    })
                }
            }) : Backbone.history.navigate(App.Cookies.get("requests"), !0)
        }
        ,
        e.prototype.newRequest = function() {
            return window.location = "/api/requests/new"
        }
        ,
        e.prototype.enterKey = function(t) {
            return window.location = t ? "/api/requests/enter_key/?request=" + t : "/api/requests/enter_key"
        }
        ,
        e.prototype.invite_declined = function(t) {
            return window.location = "/api/requests/" + t + "/invite_declined"
        }
        ,
        e.prototype.edit = function(n, e) {
            var t, i;
            return t = new App.Models.Request({
                id: n
            }),
            (window.currentRequest = t).fetch({
                cache: !1,
                success: (i = this,
                function(t) {
                    return i.swap(new App.Views.Requests.Edit.Main({
                        model: t,
                        action: e
                    }))
                }
                ),
                error: function(t, e) {
                    var i;
                    return 406 === e.status ? (Backbone.history.navigate("requests"),
                    window.location = e.responseText) : (i = 403 === e.status ? window.location = "/requests/key/" + n : "Could not load the request.",
                    new App.Views.Shared.Error({
                        message: i
                    }))
                }
            })
        }
        ,
        e
    }(App.Routers.SwappingRouter)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Routers.Users = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.routes = {
            users: "index",
            "users/filter/:filter/sort/:sort/page/:page/search/*search": "index",
            "users/filter/:filter/sort/:sort/page/:page": "index"
        },
        e.prototype.index = function(t, e, i, n) {
            var s, r;
            return t || App.Cookies.get("users").constructor !== String ? (s = new App.Collections.Users({
                filter: t,
                sorter: e,
                page: i,
                search: n
            })).fetch({
                success: (r = this,
                function() {
                    return r.swap(new App.Views.Users.Index.Main({
                        collection: s
                    }))
                }
                ),
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "Could not load the users"
                    })
                }
            }) : (Backbone.history.navigate(App.Cookies.get("users"), !0),
            {
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "Could not load the user."
                    })
                }
            })
        }
        ,
        e
    }(App.Routers.SwappingRouter)
}
.call(this),
function() {
    App.Services.MetricService = function() {
        function t(t) {
            this.request = t,
            this.startTime = moment()
        }
        return t.prototype.logCompletion = function() {
            return this.post(moment.duration(moment().diff(this.startTime)), "completed")
        }
        ,
        t.prototype.logClose = function() {
            return this.post(moment.duration(moment().diff(this.startTime)), "closed")
        }
        ,
        t.prototype.post = function(t, e) {
            return $.post("/api/requests/" + this.request.get("id") + "/dialog_views", {
                dialog_view: {
                    duration: t.asMilliseconds(),
                    result: e
                }
            })
        }
        ,
        t
    }()
}
.call(this),
function() {
    var e = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    };
    App.Services.PromptRequestBuilder = function() {
        function t(t) {
            this.enabledAndVisible = e(this.enabledAndVisible, this),
            this.build = e(this.build, this),
            this.request = t
        }
        return t.prototype.build = function() {
            var t, e, i, n, s, r, o, a, l, u;
            for (s in r = {
                questions: {}
            },
            i = (u = new App.Services.TriedAndFailedExperiment(this.request)).drugInExperiment(),
            o = this.request.questions())
                n = o[s],
                this.enabledAndVisible(n) && (t = n.get("answer_text"),
                r[e = i ? u.setQuestionIdentifier(s, n) : s] = t,
                r.questions[e] = {
                    name: e,
                    text: n.get("text") || (null != (a = n.collection) && null != (l = a.models[0]) ? l.get("text") : void 0),
                    answer: t
                });
            return r.attachment_count = this.request.attachmentsCount().toString(),
            r.questions.attachment_count = {
                name: "attachment_count",
                text: null,
                answer: this.request.attachmentsCount().toString()
            },
            r
        }
        ,
        t.prototype.enabledAndVisible = function(t) {
            return !t.get("disabled") && t.get("visible")
        }
        ,
        t
    }()
}
.call(this),
function() {
    var e = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    };
    App.Services.TriedAndFailedExperiment = function() {
        function t(t) {
            this.drugInExperiment = e(this.drugInExperiment, this),
            this.request = t,
            this.experimentDdids = ["204257", "205269", "206884", "209275", "209276", "152498", "178629", "183204", "183205", "200755", "200759", "209911", "207960", "207961", "207962", "185810", "185813", "212084", "212085", "191069"]
        }
        return t.prototype.drugInExperiment = function() {
            return this.experimentDdids.some((e = this,
            function(t) {
                return t === e.request.drugDDID()
            }
            ));
            var e
        }
        ,
        t.prototype.setQuestionIdentifier = function(t, e) {
            var i, n, s, r;
            return i = ["Has the patient had trial and failure (after a trial of at least two months), contraindication, or intolerance to TWO of the following prophylactic therapies: Amitriptyline (Elavil), One of the following beta-blockers: atenolol, metoprolol, nadolol, propranolol, or timolol, Divalproex sodium (Depakote/Depakote ER), OnabotulinumtoxinA or Botox, Topiramate (Topamax), Venlafaxine (Effexor/Effexor XR)?", "Does the patient have ONE of the following: History of failure (after at least a two month trial) or intolerance to Elavil (amitriptyline) or Effexor (venlafaxine) OR Patient has a contraindication to both Elavil (amitriptyline) and Effexor (venlafaxine)?", "Does the patient have ONE of the following: History of failure (after at least a two month trial) or intolerance to Depakote/Depakote ER (divalproex sodium) or Topamax (topiramate) OR Patient has a contraindication to both Depakote/Depakote ER (divalproex sodium) and Topamax (topiramate)?", "Does the patient have ONE of the following: History of failure (after at least a two month trial) or intolerance to one of the following beta blockers: atenolol; propranolol; nadolol; timolol; or metoprolol OR Patient has a contraindication to all of the following beta blockers: atenolol; propranolol; nadolol; timolol; or metoprolol?", "Does the patient have a contraindication to, intolerability to, or has failed a 2-month trial of Nurtec ODT?", "Does the patient have a history of failure, contraindication or intolerance to TWO of the following: Antispasmodic agent [for example, Bentyl (dicyclomine)], antidiarrheal agent (for example, loperamide), tricyclic antidepressant (for example, amitriptyline)?", "Has the patient had a failure, intolerance, or contraindication to at least one tricyclic antidepressant (that is, to relieve abdominal pain) (for example, amitriptyline, desipramine, doxepin, imipramine, nortriptyline, protriptyline)?", "Does the patient have a trial and failure, contraindication, or intolerance to lactulose?", "Does the patient have a trial and failure, contraindication or intolerance to an anti-diarrheal agent (for example, loperamide)?", "Has the member tried and failed or experienced adverse events (side effects or allergic reactions) to Aimovig?", "Select the medications the patient has a failure, contraindication, or intolerance to:", "Has the covered formulary alternative, Synjardy, been tried and failed, is likely to cause adverse reaction or be ineffective?", "Has the member tried and failed or experienced adverse events <BR>(side effects or allergic reactions) to Farxiga AND Jardiance?", "Select the medications the patient has a failure, contraindication, or intolerance:", "Does the patient have a history of suboptimal response, contraindication or intolerance to metformin (generic Glucophage, Glucophage XR)?", "Does the patient have a history of trial and failure, intolerance or contraindication to ONE of the following generics: Glipizide-metformin, Glyburide-metformin, Metformin, Metformin ER, or Pioglitazone-metformin?", "Has the patient had an inadequate response with Bydureon/Bydureon BCise?", "Does the patient have a history of suboptimal response, contraindication or intolerance to metformin (generic Glucophage, Glucophage XR)?", "Has the patient had a trial (medication samples/coupons/discount cards are excluded from consideration as a trial) and inadequate response or intolerance to one preferred GLP-1 receptor agonist, Ozempic or Victoza?", "Does the patient have a history of suboptimal response, contraindication or intolerance to metformin (generic Glucophage, Glucophage XR)?"],
            n = null != (s = e.collection) && null != (r = s.models[0]) ? r.get("text") : void 0,
            function() {
                switch (!1) {
                case n !== i[0]:
                    return "tried_and_failed_q_1";
                case n !== i[1]:
                    return "tried_and_failed_q_2";
                case n !== i[2]:
                    return "tried_and_failed_q_3";
                case n !== i[3]:
                    return "tried_and_failed_q_4";
                case n !== i[4]:
                    return "reyvow_tf_1";
                case n !== i[5]:
                    return "xifaxan_tf_1";
                case n !== i[6]:
                    return "xifaxan_tf_2";
                case n !== i[7]:
                    return "xifaxan_tf_3";
                case n !== i[8]:
                    return "xifaxan_tf_4";
                case n !== i[9]:
                    return "emgality_tf_1";
                case n !== i[10]:
                    return "invokana_tf_1";
                case n !== i[11]:
                    return "invokana_tf_2";
                case n !== i[12]:
                    return "invokana_tf_3";
                case n !== i[13]:
                    return "otezla_tf_1";
                case n !== i[14]:
                    return "ozempic_tf_1";
                case n !== i[15]:
                    return "ozempic_tf_2";
                case n !== i[16]:
                    return "ozempic_tf_3";
                case n !== i[17]:
                    return "rybelsus_tf_1";
                case n !== i[18]:
                    return "trulicity_tf_1";
                case n !== i[19]:
                    return "trulicity_tf_2";
                default:
                    return t
                }
            }()
        }
        ,
        t
    }()
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.CompositeView = function(t) {
        function e() {
            this.removeChild = i(this.removeChild, this),
            this.removeFromParent = i(this.removeFromParent, this),
            this.leaveChildren = i(this.leaveChildren, this),
            this.openDialog = i(this.openDialog, this),
            this.appendChildInto = i(this.appendChildInto, this),
            this.prependChildInto = i(this.prependChildInto, this),
            this.renderChildInto = i(this.renderChildInto, this),
            this.appendChild = i(this.appendChild, this),
            this.prependChild = i(this.prependChild, this),
            this.renderChild = i(this.renderChild, this),
            this.addChild = i(this.addChild, this),
            this.leave = i(this.leave, this),
            this.children = _([]),
            this.bindings = _([]),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.leave = function() {
            return this.unbind(),
            this.unbindFromAll(),
            this.remove(),
            this.leaveChildren(),
            this.removeFromParent()
        }
        ,
        e.prototype.bindTo = function(t, e, i) {
            return t.bind(e, i, this),
            this.bindings.push({
                source: t,
                event: e,
                callback: i
            })
        }
        ,
        e.prototype.unbindFromAll = function() {
            return this.bindings.each(function(t) {
                return t.source.unbind(t.event, t.callback)
            }),
            this.bindings = _([])
        }
        ,
        e.prototype.addChild = function(t) {
            return this.children.push(t),
            t.parent = this
        }
        ,
        e.prototype.renderChild = function(t) {
            return t.render(),
            this.addChild(t)
        }
        ,
        e.prototype.prependChild = function(t) {
            return this.prependChildInto(this.el, t)
        }
        ,
        e.prototype.appendChild = function(t) {
            return this.appendChildInto(this.el, t)
        }
        ,
        e.prototype.renderChildInto = function(t, e) {
            return this.renderChild(e),
            $(t).html(e.el)
        }
        ,
        e.prototype.prependChildInto = function(t, e) {
            return this.renderChild(e),
            $(t).prepend(e.el)
        }
        ,
        e.prototype.appendChildInto = function(t, e) {
            return this.renderChild(e),
            $(t).append(e.el)
        }
        ,
        e.prototype.openDialog = function(t) {
            return this.renderChild(t),
            $("body").append(t.el)
        }
        ,
        e.prototype.leaveChildren = function() {
            return this.children.each(function(t) {
                if (t.leave)
                    return t.leave()
            })
        }
        ,
        e.prototype.removeFromParent = function() {
            var t;
            return null != (t = this.parent) ? t.removeChild(this) : void 0
        }
        ,
        e.prototype.removeChild = function(t) {
            return this.children = _(this.children.without(t))
        }
        ,
        e
    }(Backbone.View)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Groups.Edit.Details = function(t) {
        function e() {
            return this.showErrors = i(this.showErrors, this),
            this.save = i(this.save, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["groups/edit/details"],
        e.prototype.events = {
            "keyup input[name=name]": "updateName"
        },
        e.prototype.initialize = function() {
            return this.bindTo(this.model, "save", this.save),
            this.bindTo(this.model, "errors", this.showErrors)
        }
        ,
        e.prototype.render = function() {
            var e;
            return $(this.el).html(this.template({
                name: this.model.get("name")
            })),
            this.model.memberships.each((e = this,
            function(t) {
                return e.appendChildInto(e.$("#memberships"), new App.Views.Groups.Edit.Membership({
                    model: t,
                    group: e.model
                }))
            }
            )),
            this
        }
        ,
        e.prototype.updateName = function(t) {
            var e;
            return e = $(t.target).val(),
            _.isEmpty(e) && this.model.isNew() && (e = "New Group"),
            _.isEmpty(e) && !this.model.isNew() && (e = "Edit Group"),
            this.$("header").html(e)
        }
        ,
        e.prototype.save = function() {
            var e, i;
            return i = this.model.isNew() ? "Group has been created." : "Group has been saved.",
            e = this.model.isNew(),
            this.model.set({
                name: this.$("input[name=name]").val()
            }),
            this.model.save(this.model.toJSON(), {
                success: function(t) {
                    return new App.Views.Shared.Notice({
                        message: i
                    }),
                    Backbone.history.navigate("groups/" + t.id, e),
                    t.setErrors()
                },
                error: function(t, e) {
                    return new App.Views.Shared.Error({
                        message: "Group could not be saved."
                    }),
                    t.setErrors(e.responseText)
                }
            })
        }
        ,
        e.prototype.showErrors = function() {
            return this.$(".error").remove(),
            this.model.errors.each((i = this,
            function(t, e) {
                return i.$("input[name=" + e + "]").after($("<p>").addClass("error").text(t.join(", ")))
            }
            ));
            var i
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Groups.Edit.Main = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.render = function() {
            var t;
            return t = "Groups | CoverMyMeds",
            this.model.get("name") && (t = this.model.get("name") + " | " + t),
            document.title = t,
            $("#header a.home").show(),
            $("#header #signpost").removeClass().addClass("signpost-groups"),
            this.renderChildInto("#sidebar", new App.Views.Groups.Edit.Sidebar({
                model: this.model
            })),
            this.renderChildInto("#app", new App.Views.Groups.Edit.Details({
                model: this.model
            })),
            this
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Groups.Edit.Membership = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["groups/edit/membership"],
        e.prototype.events = {
            "change input": "update"
        },
        e.prototype.className = "row",
        e.prototype.initialize = function() {
            return this.group = this.options.group
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                name: this.model.get("name"),
                roles: this.model.get("roles"),
                editable: this.group.get("editable")
            })),
            this
        }
        ,
        e.prototype.update = function(t) {
            var e;
            return e = this.$(t.currentTarget),
            this.model.save({
                group_id: this.group.id,
                role: e.val(),
                value: e.is(":checked")
            })
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Groups.Edit.Sidebar = function(t) {
        function e() {
            return this.render = i(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["groups/edit/sidebar"],
        e.prototype.events = {
            "click a.save": "save",
            "click a.delete": "delete"
        },
        e.prototype.initialize = function() {
            return this.bindTo(this.model, "change", this.render)
        }
        ,
        e.prototype.render = function() {
            if ($(this.el).html(this.template({
                id: this.model.id,
                isNew: this.model.isNew()
            })),
            !this.model.editable())
                return this.$("a.button").addClass("disabled")
        }
        ,
        e.prototype.save = function() {
            return this.model.editable() && this.model.trigger("save"),
            !1
        }
        ,
        e.prototype["delete"] = function() {
            return this.model.editable() && this.model.destroy({
                success: function() {
                    return new App.Views.Shared.Notice({
                        message: "Group has been deleted."
                    }),
                    window.location = "#groups"
                },
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "Group could not be deleted."
                    })
                }
            }),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Groups.Index.Buttons = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["groups/index/buttons"],
        e.prototype.render = function() {
            return $(this.el).html(this.template)
        }
        ,
        e.prototype.events = {
            "click .new-group": "newGroup"
        },
        e.prototype.newGroup = function() {
            return Backbone.history.navigate("groups/new", !0),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Groups.Index.Group = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["groups/index/group"],
        e.prototype.events = {
            "click a": "edit"
        },
        e.prototype.tagName = "li",
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                id: this.model.id,
                name: this.model.get("name"),
                account_name: this.model.get("account_name"),
                updated_at: this.model.get("updated_at"),
                created_at: this.model.get("created_at")
            })),
            this
        }
        ,
        e.prototype.edit = function() {
            return Backbone.history.navigate("groups/" + this.model.id, !0),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Groups.Index.Main = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.render = function() {
            return document.title = "Groups | CoverMyMeds",
            $("#header a.home").show(),
            $("#header #signpost").removeClass().addClass("signpost-groups"),
            $("#app").html("<div id='index'></div>"),
            this.collection.can_create && this.renderChildInto("#sidebar", new App.Views.Groups.Index.Buttons({
                collection: this.collection
            })),
            this.appendChildInto("#sidebar", new App.Views.Shared.Index.Filters({
                collection: this.collection
            })),
            this.appendChildInto("#sidebar", new App.Views.Shared.Index.Sorters({
                collection: this.collection
            })),
            this.appendChildInto("#sidebar", new App.Views.Shared.Index.Searcher({
                collection: this.collection
            })),
            this.renderChildInto("#index", new App.Views.Shared.Index.Collection({
                collection: this.collection,
                child_view: App.Views.Groups.Index.Group,
                name: "group"
            })),
            this.appendChildInto("#index", new App.Views.Shared.Index.Pagination({
                collection: this.collection
            })),
            this
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.CopayPatientEmail = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/copay_patient_email_modal"],
        e.prototype.successTemplate = JST["requests/edit/copay_patient_email_modal_success"],
        e.prototype.el = "#copay-collect-patient-email",
        e.prototype.events = {
            "click .collect-patient-email-dismiss-button": "dismissModal",
            "click .collect-patient-email-submit-button": "submitAddress",
            "input #copay-collect-patient-email .collect-patient-email-input": "patientEmailChange"
        },
        e.prototype.initialize = function(t) {
            return this.element = t.element,
            this.requestId = t.request_id
        }
        ,
        e.prototype.submitAddress = function() {
            return this.patientEmail = document.querySelector(".collect-patient-email-input"),
            this.patientEmail.checkValidity() ? ($.post("/api/copay_enrollment_requests", {
                request_id: this.requestId,
                patient_email: this.patientEmail.value
            }).fail(function() {
                return {}
            }),
            this.renderSuccess()) : this.patientEmail.reportValidity()
        }
        ,
        e.prototype.dismissModal = function() {
            return $("#copay-collect-patient-email").hide(),
            $("#copay_experiment").show(),
            $(".modal-background").show(),
            $(".status-dialog").show()
        }
        ,
        e.prototype.render = function() {
            return this.$el.append(this.template)
        }
        ,
        e.prototype.renderSuccess = function() {
            return $(this.el).html(this.successTemplate({
                patient_email: this.patientEmail.value
            }))
        }
        ,
        e.prototype.patientEmailChange = function() {
            return $(".collect-patient-email-input").val() ? this.$(".collect-patient-email-submit-button").removeClass("ui-state-disabled") : this.$(".collect-patient-email-submit-button").addClass("ui-state-disabled")
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.Addressbook = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/addressbook"],
        e.prototype.className = "addressbook",
        e.prototype.events = {
            "click .addressbook-clear": "clearSection",
            "click .addressbook-button": "toggleEntries",
            "blur .addressbook-button": "hideEntries",
            "mouseenter li": "startPreview",
            "mouseleave li": "endPreview",
            "mousedown li": "selectEntry",
            "mousedown .entry-del": "promptDelete"
        },
        e.prototype.MAX_CONTACTS_LENGTH = 1e3,
        e.prototype.initialize = function() {
            var i;
            return this.section = this.options.section,
            this.selectedPerson = null,
            this.addressbook = this.section.addressbookQuestionNamePrefix(),
            this.displayed = !1,
            _.each(["first_name", "last_name"], (i = this,
            function(t) {
                var e;
                if (e = i.model.findQuestion(i.addressbook + "_" + t))
                    return i.bindTo(e, "change:answer change:answer_text", _.debounce(i.updateDisplayed, 500))
            }
            )),
            this.getContactsForAddressbook(),
            this.bindTo(this.model, "addressbook:deleted", this.removeContactFromCollection)
        }
        ,
        e.prototype.render = function() {
            return this.display = this.hasMatchingContacts ? this.firstMatch() + "?" : "",
            $(this.el).html(this.template({
                addressbook: this.addressbook,
                contactsToDisplay: this.contactsToDisplay,
                display: this.display,
                hasMatchingContacts: this.hasMatchingContacts,
                displayed: this.displayed
            }))
        }
        ,
        e.prototype.getContactsForAddressbook = function() {
            return this.contacts = new App.Collections.People({
                addressbook: this.addressbook
            }),
            this.contacts.fetch({
                success: (t = this,
                function() {
                    return t.updateDisplayed()
                }
                )
            });
            var t
        }
        ,
        e.prototype.updateDisplayed = function() {
            return this.oldSelectedPerson = this.selectedPerson,
            this.selectedPerson = {
                first_name: this.model.findQuestionAnswerText(this.addressbook + "_first_name"),
                last_name: this.model.findQuestionAnswerText(this.addressbook + "_last_name")
            },
            this.setContactsToDisplay(),
            this.render()
        }
        ,
        e.prototype.clearSection = function() {
            return $(".npi-not-found-text").remove(),
            $(".pending-npi-text").remove(),
            this.hideEntries(),
            this.section.clearEnabledAnswers(),
            this.section.clearErrors(),
            this.section.trigger("clear:npiFields"),
            this.updateDisplayed()
        }
        ,
        e.prototype.hasPerson = function() {
            var t, e;
            return !_.isEmpty(null != (t = this.selectedPerson) ? t.first_name : void 0) || !_.isEmpty(null != (e = this.selectedPerson) ? e.last_name : void 0)
        }
        ,
        e.prototype.setContactsToDisplay = function() {
            if (this.hasMatchingContacts = !1,
            this.contactsToDisplay = this.contacts,
            this.hasPerson())
                return this.contactsToDisplay.length < this.MAX_CONTACTS_LENGTH ? this.checkMasterContactListForMatches() : this.searchForMatchingContacts()
        }
        ,
        e.prototype.checkMasterContactListForMatches = function() {
            if (this.selectedPerson.first_name && this.checkForMatchingContacts("first_name"),
            this.selectedPerson.last_name && this.checkForMatchingContacts("last_name"),
            0 < this.contactsToDisplay.length)
                return this.hasMatchingContacts = !0
        }
        ,
        e.prototype.checkForMatchingContacts = function(i) {
            var t, e, n;
            return n = "first_name" === i ? null != (t = this.selectedPerson.first_name) ? t.toLowerCase() : void 0 : null != (e = this.selectedPerson.last_name) ? e.toLowerCase() : void 0,
            this.contactsToDisplay = new App.Collections.People(this.contactsToDisplay.filter(function(t) {
                var e;
                return -1 !== (null != (e = t.get(i)) ? e.toLowerCase().indexOf(n) : void 0)
            }))
        }
        ,
        e.prototype.searchForMatchingContacts = function() {
            if (!this.searchingForSamePerson())
                return new App.Collections.People({
                    addressbook: this.addressbook,
                    selectedPerson: this.selectedPerson
                }).search(this.setSearchResultsToDisplay.bind(this))
        }
        ,
        e.prototype.searchingForSamePerson = function() {
            var t, e;
            return (null != (t = this.oldSelectedPerson) ? t.last_name : void 0) === this.selectedPerson.last_name && (null != (e = this.oldSelectedPerson) ? e.first_name : void 0) === this.selectedPerson.first_name
        }
        ,
        e.prototype.setSearchResultsToDisplay = function(t) {
            if (this.contactsToDisplay = new App.Collections.People(t),
            0 < this.contactsToDisplay.length)
                return this.hasMatchingContacts = !0,
                this.render()
        }
        ,
        e.prototype.firstMatch = function() {
            var t;
            return (t = this.contactsToDisplay.first()).get("first_name") + " " + t.get("last_name")
        }
        ,
        e.prototype.toggleEntries = function() {
            return this.displayed ? this.hideEntries() : this.showEntries(),
            !1
        }
        ,
        e.prototype.hideEntries = function() {
            return $(".delete-addressbook-dialog").is(":visible") ? this.$(".addressbook-button").focus() : (this.displayed = !1,
            this.$(".addressbook-entries").hide()),
            !1
        }
        ,
        e.prototype.showEntries = function() {
            if (0 < this.contactsToDisplay.length)
                return this.displayed = !0,
                this.render(),
                this.$(".addressbook-entries").show(),
                this.$(".addressbook-button").focus()
        }
        ,
        e.prototype.startPreview = function(t) {
            var e, i, n, s, r;
            for (e in s = [],
            n = this.getContactFromDom(t.currentTarget))
                r = n[e],
                i = this.model.findQuestion(this.addressbook + "_" + e),
                s.push(null != i ? i.trigger("previewAnswer", r) : void 0);
            return s
        }
        ,
        e.prototype.endPreview = function(t) {
            var e, i, n, s;
            for (e in s = [],
            n = this.getContactFromDom(t.currentTarget))
                n[e],
                i = this.model.findQuestion(this.addressbook + "_" + e),
                s.push(null != i ? i.trigger("endPreview") : void 0);
            return s
        }
        ,
        e.prototype.promptDelete = function(t) {
            var e, i;
            return i = t.target.parentElement,
            $(i).addClass("selected"),
            (e = this.getContactFromDom(i)).type = this.section.addressbookQuestionNamePrefix(),
            this.delete_addressbook = new App.Views.Requests.Edit.DeleteAddressbook({
                model: e,
                addressbook: this.model
            }),
            this.openDialog(this.delete_addressbook),
            !1
        }
        ,
        e.prototype.selectEntry = function(t) {
            var e, i, n, s;
            for (e in n = this.getContactFromDom(t.currentTarget))
                s = n[e],
                null != (i = this.model.findQuestion(this.addressbook + "_" + e)) && i.trigger("endPreview"),
                null != i && i.trigger("setAnswer", s, {
                    disable: !1
                }),
                null != i && i.trigger("blurAnswer");
            return this.section.trigger("addressBook:selection"),
            this.hideEntries()
        }
        ,
        e.prototype.getContactFromDom = function(t) {
            var e;
            return e = $($(t)).data("person-id"),
            this.contactsToDisplay.get(e).toJSON()
        }
        ,
        e.prototype.removeContactFromCollection = function(t) {
            return this.contacts.remove(t)
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.AmpCase = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/amp_case_view"],
        e.prototype.tagName = "section",
        e.prototype.initialize = function(t) {
            return this.providers_url = t.providers_url
        }
        ,
        e.prototype.render = function() {
            return $("#case_view_link_content").html(this.template({
                providers_url: this.providers_url
            }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.AmpProgramInfo = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/amp_program_info"],
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                amp_program_id: this.model.get("amp_program_id")
            }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.AttachmentErrorDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        var i;
        return n(e, t),
        e.prototype.template = JST["requests/edit/attachment_error_dialog"],
        e.prototype.className = "dialog",
        e.prototype.events = {
            "click .close": "leave"
        },
        e.prototype.initialize = function() {
            return this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        i = function(t) {
            return Array.isArray(t) ? t.join(", ") : Array.isArray(t.errors) ? t.errors[0].message : "Unexpected error.  Please try again later"
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                errors: i(this.options.errors)
            }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.BasicHeader = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/basic_header"],
        e.prototype.tagName = "section",
        e.prototype.initialize = function(t) {
            return this.request = t.model
        }
        ,
        e.prototype.render = function() {
            return $("#request-page-header").html(this.template({
                epa_image: this.request.formImage(),
                drug: this.request.get("drug"),
                form: this.request.form(),
                archive_reason: this.request.archiveReason(),
                full_status_description: this.request.getFullStatusDescription(),
                notsent: this.request.isNotSent(),
                expiration_date: this.request.expirationDate(),
                expiration_type: this.request.expiringSectionType(),
                authorization_expiration: this.request.authorizationExpiration(),
                phone_number: this.request.phoneNumber()
            }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.BridgePrograms = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.baseTemplate = JST["requests/edit/bridge_conversion_programs"],
        e.prototype.el = "#bridge_dialog_content",
        e.prototype.initialize = function(t) {
            var e;
            return e = t.enrollmentPrograms,
            this.displayablePrograms = [].concat(e).filter(function(t) {
                return null != t ? t.prompt : void 0
            })
        }
        ,
        e.prototype.render = function() {
            if (0 < this.displayablePrograms.length)
                return this.$el.append(this.baseTemplate)
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.ChangeFormDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/change_form_dialog"],
        e.prototype.className = "dialog change-form-dialog",
        e.prototype.events = {
            "click .close": "leave",
            "click button.change-form": "changeForm"
        },
        e.prototype.initialize = function() {
            return this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template)
        }
        ,
        e.prototype.changeForm = function() {
            return this.model.changeForm(),
            this.leave(),
            this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.ConflictDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/conflict_dialog"],
        e.prototype.className = "dialog conflict-dialog",
        e.prototype.events = {
            "click .close": "leave",
            "click .reload": "reload"
        },
        e.prototype.initialize = function() {
            return this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                nickname: this.model.nickname(),
                reference: this.model.reference()
            }))
        }
        ,
        e.prototype.reload = function() {
            return this.model.fetch({
                success: (t = this,
                function() {
                    return t.leave(),
                    t.model.trigger("refresh")
                }
                )
            });
            var t
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.DefaultPromptDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/default_prompt_dialog"],
        e.prototype.className = "dialog prompt-dialog default-prompt",
        e.prototype.events = {
            'click [data-action="send_to_plan"]': "sendToPlan",
            'click [data-action="return_to_pa"]': "returnToPa"
        },
        e.prototype.initialize = function(t) {
            return this.request = t.request,
            this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template)
        }
        ,
        e.prototype.returnToPa = function() {
            return this.leave()
        }
        ,
        e.prototype.sendToPlan = function() {
            return this.leave(),
            this.request.trigger("save", {
                send: !0
            })
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.DeleteAddressbook = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/delete_addressbook"],
        e.prototype.className = "dialog delete-addressbook-dialog",
        e.prototype.events = {
            "click .close": "leave",
            "click button.delete": "delete"
        },
        e.prototype.initialize = function() {
            return this.prependChildInto("body", new App.Views.Shared.ModalBackground),
            this.addressbook = this.options.addressbook
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                name: (this.model.first_name || "") + " " + (this.model.middle_name || "") + " " + (this.model.last_name || ""),
                address: this.model.address1,
                city_state_zip: (this.model.city ? this.model.city + "," : "") + " " + (this.model.state || "") + " " + (this.model.zip || ""),
                dob: this.model.date_of_birth,
                phone: this.model.phone,
                fax: this.model.fax,
                npi: this.model.npi,
                gender: this.model.gender
            }))
        }
        ,
        e.prototype["delete"] = function() {
            return this.showSpinner(),
            $.ajax({
                type: "DELETE",
                url: App.PortalServicesUrl + "/addresses/" + this.model.id,
                xhrFields: {
                    withCredentials: !0
                },
                dataType: "json",
                success: (e = this,
                function() {
                    var t;
                    return e.leave(),
                    e.addressbook.trigger("addressbook:deleted", e.model.id),
                    (t = $("li[data-person-id='" + e.model.id + "']")).slideUp("400", function() {
                        t.remove()
                    })
                }
                ),
                error: function() {
                    return $(".error-message").show()
                },
                complete: (t = this,
                function() {
                    return t.hideSpinner()
                }
                )
            });
            var t, e
        }
        ,
        e.prototype.leave = function() {
            return e.__super__.leave.apply(this, arguments),
            $(".addressbook-entries > .selected").removeClass("selected"),
            !1
        }
        ,
        e.prototype.hideSpinner = function() {
            return $("#delete-addressbook-spinner").hide()
        }
        ,
        e.prototype.showSpinner = function() {
            return $("#delete-addressbook-spinner").show()
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.DeleteDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/delete_dialog"],
        e.prototype.className = "dialog delete-dialog",
        e.prototype.events = {
            "click .close": "leave",
            "click button.delete": "delete"
        },
        e.prototype.initialize = function() {
            return this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                nickname: this.model.nickname(),
                reference: this.model.reference()
            }))
        }
        ,
        e.prototype["delete"] = function() {
            return this.model.save({
                "delete": !0,
                deletion_note: this.$("textarea").val()
            }, {
                success: function() {
                    return new App.Views.Shared.Notice({
                        message: "Your request has been deleted."
                    }),
                    Backbone.history.navigate("requests", !0)
                },
                error: (t = this,
                function() {
                    return new App.Views.Shared.Error({
                        message: "There was an error deleting your request."
                    }),
                    t.leave()
                }
                )
            });
            var t
        }
        ,
        e.prototype.leave = function() {
            return e.__super__.leave.apply(this, arguments),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var n = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , o = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.Details = function(t) {
        function e() {
            return this.autoSave = n(this.autoSave, this),
            this.logChanges = n(this.logChanges, this),
            this.startUserInactivityTimer = n(this.startUserInactivityTimer, this),
            this.stopUserInactivityTimer = n(this.stopUserInactivityTimer, this),
            this.stopBackButtonListener = n(this.stopBackButtonListener, this),
            this.stopUserExitListener = n(this.stopUserExitListener, this),
            this.stopUserInputListener = n(this.stopUserInputListener, this),
            this.saveOnExit = n(this.saveOnExit, this),
            this.saveOnBackButton = n(this.saveOnBackButton, this),
            this.startBackButtonListener = n(this.startBackButtonListener, this),
            this.startUserExitListener = n(this.startUserExitListener, this),
            this.startUserInputListener = n(this.startUserInputListener, this),
            this.stopAutoSaveListeners = n(this.stopAutoSaveListeners, this),
            this.startAutoSaveListeners = n(this.startAutoSaveListeners, this),
            this.setLastSavedAnswersForPlan = n(this.setLastSavedAnswersForPlan, this),
            this.refreshAutoSaveListeners = n(this.refreshAutoSaveListeners, this),
            this.autoSaveEnabled = n(this.autoSaveEnabled, this),
            this.save = n(this.save, this),
            this.render = n(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        var s, r, i;
        return o(e, t),
        e.prototype.template = JST["requests/edit/details"],
        i = 6e5,
        s = [],
        r = ["097105"],
        e.prototype.initialize = function() {
            if (this.ampDrugs = new App.Models.SponsoredDrugs({
                model: this.model,
                service: "specialty_redirect_to_case_view"
            }),
            this.determineIfAmpDrug(),
            this.bindTo(this.model, "save", this.save),
            this.bindTo(this.model, "refresh", this.render),
            this.bindTo(this.model, "prescriber_fax_event", this.render),
            !0 === this.model.get("use_npi_verifications"))
                return this.model.set("npi_verification", new App.Models.PrescriberNPIVerification)
        }
        ,
        e.prototype.determineIfAmpDrug = function() {
            return this.ampDrugs.fetch({
                xhrFields: {
                    withCredentials: !0
                },
                success: this.ampDrugDeterminerSuccessHandler.bind(this),
                error: this.ampDrugDeterminerErrorHandler.bind(this)
            })
        }
        ,
        e.prototype.ampDrugDeterminerSuccessHandler = function() {
            var t;
            return this.model.set("is_amp_drug", -1 < (null != (t = this.ampDrugs.get("ddids")) ? t.indexOf(this.model.get("ddid")) : void 0)),
            this.model.trigger("update")
        }
        ,
        e.prototype.ampDrugDeterminerErrorHandler = function() {
            return this.model.set("is_amp_drug", !1)
        }
        ,
        e.prototype.nextActionButton = function() {
            return this.model.downloadOnly() ? new App.Views.Requests.Edit.DownloadButton({
                model: this.model
            }) : new App.Views.Requests.Edit.SendToPlanButton({
                model: this.model,
                className: "send-to-plan-bottom"
            })
        }
        ,
        e.prototype.renderReviewButton = function() {
            if ("New" === this.model.status())
                return this.model.archived() || this.prependChildInto(this.$(".footer_controls section"), new App.Views.Requests.Edit.ReviewButton({
                    model: this.model,
                    className: "review-plan-bottom"
                })),
                this.$(".review_responses").attr("id", "review-plan-button-id"),
                this.$(".footer_controls section").addClass("showTwoButtons")
        }
        ,
        e.prototype.render = function() {
            var e, i, n, t;
            if (this.model.setVisibility(),
            $(this.el).html(this.template),
            window.showTwoButtons = s.some((e = this,
            function(t) {
                return t === e.model.drugDDID()
            }
            )),
            window.showMultiplePrompts = r.some((i = this,
            function(t) {
                return t === i.model.drugDDID()
            }
            )),
            this.insertDrugDisclaimerMessage(),
            this.appendChildInto(this.$("#pa-header"), new App.Views.Requests.Edit.V2LinkSection({
                model: this.model
            })),
            this.appendChildInto(this.$("#pa-header"), new App.Views.Requests.Edit.PaHeader({
                model: this.model
            })),
            this.model.sections.each((n = this,
            function(t) {
                if (n.appendChildInto(n.$("#sections"), new App.Views.Requests.Edit.Section({
                    model: t,
                    request: n.model
                })),
                n.shouldInsertPharmacySearch(t) ? n.appendChildInto(n.$("#sections"), new App.Views.Requests.Edit.PharmacySearch({
                    model: n.model
                })) : n.shouldInsertPharmacySearchV2(t) && n.appendChildInto(n.$("#sections"), new App.Views.Requests.Edit.PharmacySearchV2({
                    model: n.model
                })),
                n.shouldInsertJohnsonAndJohnsonDisclosure(t))
                    return n.appendChildInto(n.$("#sections"), new App.Views.Requests.Edit.JohnsonAndJohnsonDisclosure({
                        model: n.model
                    }))
            }
            )),
            this.shouldInsertHubEnrollmentPatientConsentOptIn(this.model) && this.appendChildInto(this.$("#sections"), new App.Views.Requests.Edit.HubEnrollmentEmailConsentOptIn({
                request_id: this.model.id,
                model: this.model
            })),
            window.showTwoButtons && this.renderReviewButton(),
            this.model.archived() || this.prependChildInto(this.$(".footer_controls section"), this.nextActionButton()),
            this.model.sections.renewalVerificationsRequired() ? this.$("#renewal-header").show() : this.$("#renewal-header").hide(),
            _.defer((t = this,
            function() {
                return t.model.rendered = !0,
                t.getReferenceMaterials(),
                !0 === t.model.get("archived") && (t.disableRequestFormInputs(),
                t.toggleRenewButton()),
                t.model.singleQuestionSetReceived() && t.addPriorAuthSubmissionTracking(),
                t.refreshAutoSaveListeners()
            }
            )),
            !this.model.stubFormRequiresAttachment())
                return this.attachmentRequiredOnLoad()
        }
        ,
        e.prototype.getReferenceMaterials = function() {
            return this.reference_material = new App.Models.ReferenceMaterial({
                request_id: this.model.id,
                portal_services_url: this.model.get("portal_services_url")
            }),
            this.reference_material.fetch({
                success: this.insertReferenceMaterials.bind(this),
                xhrFields: {
                    withCredentials: !0
                },
                data: $.param({
                    epa_type: this.model.type(),
                    epa_stage: this.model.status(),
                    ddid: this.model.drugDDID()
                })
            })
        }
        ,
        e.prototype.attachmentRequiredOnLoad = function() {
            var i, n;
            return n = this.model.getFirstUploadQuestion(),
            i = this.model.attachment_required_questions,
            this.model.sections.each(function(t) {
                return t.rows.each(function(t) {
                    var e;
                    return "function" == typeof (e = t.questions).any ? e.any(function(t) {
                        if (t.visible() && t.get("requires_attachment"))
                            return i.push(t.get("name")),
                            n.set("required", !0),
                            n.required()
                    }) : void 0
                })
            })
        }
        ,
        e.prototype.openStatusDialog = function(t) {
            var e;
            return e = this.model.get("update_with_web_sockets") ? App.Views.Requests.Edit.StatusDialog : App.Views.Requests.Edit.PollingStatusDialog,
            this.openDialog(new e({
                model: this.model,
                status_dialog: t
            }))
        }
        ,
        e.prototype.save = function(i) {
            var t, e, n, s;
            if (null == i && (i = {}),
            this.stopAutoSaveListeners(),
            this.model.setLegacyAttributes(),
            i.send) {
                if (this.model.sendControlIsEnabled() && !this.model.sendControlToken().isApproved()) {
                    try {
                        this.openDialog(new App.Views.Requests.Edit.SendControlDialog({
                            request: this.model
                        }))
                    } catch (e) {
                        t = e,
                        console.log(t)
                    }
                    return
                }
                this.model.set({
                    completed: !this.model.incomplete()
                }),
                this.model.set({
                    send_to_plan: !0
                }),
                App.User.get("anonymous") && !App.User.get("api_user") || this.model.sections.invoke("sent", this.model),
                !this.model.status_dialog_sending.hasBehavior() || App.User.get("anonymous") && !App.User.get("api_user") || this.openStatusDialog(this.model.status_dialog_sending)
            } else
                i.send_prescriber ? this.model.set({
                    send_to_prescriber: !0
                }) : i.download ? this.model.set({
                    download: !0
                }) : i.email && this.model.set({
                    email: !0
                });
            return this.model.save(this.model.toJSON(), {
                success: (s = this,
                function(t) {
                    var e;
                    if (!i.send && (window.showMultiplePrompts && (e = s.newRedisplayInlinePromptsView()),
                    t.trigger("refresh"),
                    new App.Views.Shared.Notice({
                        message: "Request has been saved."
                    }),
                    null != e ? e.applicable() : void 0))
                        return e.showPrompts()
                }
                ),
                error: (n = this,
                function(t, e) {
                    return 406 === e.status ? window.location = e.responseText : 409 === e.status ? ("undefined" != typeof dialog && null !== dialog && dialog.leave(),
                    n.openDialog(new App.Views.Requests.Edit.ConflictDialog({
                        model: n.model
                    }))) : i.send ? ("undefined" != typeof dialog && null !== dialog && dialog.leave(),
                    new App.Views.Shared.Error({
                        message: "Request could not be sent."
                    })) : (t.rendered = !0,
                    new App.Views.Shared.Error({
                        message: "Request could not be saved."
                    }))
                }
                )
            })
        }
        ,
        e.prototype.newRedisplayInlinePromptsView = function() {
            return new App.Views.Requests.Edit.RedisplayInlinePrompts({
                request: this.model,
                prompts: window.prompts
            })
        }
        ,
        e.prototype.shouldInsertPharmacySearch = function(t) {
            return this.model.get("pharmacy_search_enabled") && this.model.get("pharmacy_info") && this.baseSectionInsertCheck(t)
        }
        ,
        e.prototype.shouldInsertPharmacySearchV2 = function(t) {
            return this.model.get("pharmacy_search_enabled") && this.baseSectionInsertCheck(t)
        }
        ,
        e.prototype.shouldInsertJohnsonAndJohnsonDisclosure = function(t) {
            return this.model.get("johnson_and_johnson_disclosure") && this.baseSectionInsertCheck(t)
        }
        ,
        e.prototype.shouldInsertHubEnrollmentPatientConsentOptIn = function() {
            return this.model.get("enrollment_consent_opt_in_experiment") && this.model.incomplete() && !this.model.isInQuestionResponse()
        }
        ,
        e.prototype.insertDrugDisclaimerMessage = function() {
            return this.model.get("sponsored_ndc") ? this.appendChildInto(this.$("#disclaimer-message"), new App.Views.Requests.Edit.DisclaimerMessage({
                model: this.model
            })) : (this.sponsoredDrugs = new App.Models.SponsoredDrugs({
                model: this.model,
                service: "sponsored_drug"
            }),
            this.sponsoredDrugs.fetch({
                xhrFields: {
                    withCredentials: !0
                },
                success: this.sponsoredDrugSuccessHandler.bind(this)
            }))
        }
        ,
        e.prototype.sponsoredDrugSuccessHandler = function() {
            var t;
            if (-1 < (null != (t = this.sponsoredDrugs.get("ddids")) ? t.indexOf(this.model.get("ddid")) : void 0))
                return this.appendChildInto(this.$("#disclaimer-message"), new App.Views.Requests.Edit.DisclaimerMessage({
                    model: this.model
                }))
        }
        ,
        e.prototype.baseSectionInsertCheck = function(t) {
            var e;
            return !this.model.sending() && ("patient" === (e = t.get("text").toLowerCase()) || "patient details" === e || "member information" === e || "member details" === e || "patient information" === e)
        }
        ,
        e.prototype.toggleRenewButton = function() {
            return $("#sidebar #action_renew").toggleClass("disabled", !this.model.renewable())
        }
        ,
        e.prototype.disableRequestFormInputs = function() {
            return $("#sections :input").attr("disabled", !0),
            $(".addressbook").hide(),
            $("#note_reminder_form").hide(),
            this.disableAutocompleteFields(),
            this.disableEligibilityCheck(),
            this.removeImportantAndRequiredFlags()
        }
        ,
        e.prototype.disableAutocompleteFields = function() {
            return $(".um_headcontent").hide(),
            $("input.ui-autocomplete-input").each(function() {
                if ("Begin typing diagnosis code or description and select from list" === $(this).prop("placeholder"))
                    return $(this).prop("placeholder", "")
            })
        }
        ,
        e.prototype.disableEligibilityCheck = function() {
            return $(".button.clear").hide(),
            $(".button.check").hide()
        }
        ,
        e.prototype.removeImportantAndRequiredFlags = function() {
            return $(".important").removeClass("important"),
            $(".required").removeClass("required")
        }
        ,
        e.prototype.insertReferenceMaterials = function() {
            var t, e, i;
            if (null != this.reference_material) {
                if (this.insertQuestionsTargeted(),
                t = this.reference_material.get("body"),
                e = this.reference_material.get("position"),
                i = new App.Views.Requests.Edit.ReferenceMaterial({
                    body: t
                }),
                "top" === e)
                    return $("#sections").before(i.render());
                if ("bottom" === e)
                    return $("#sections").after(i.render())
            }
        }
        ,
        e.prototype.insertQuestionsTargeted = function() {
            var t, e, i, n, s;
            if (0 < (null != (i = this.reference_material.get("question_targeted")) ? i.length : void 0)) {
                for (t in n = [],
                i)
                    e = i[t],
                    s = new App.Views.Requests.Edit.QuestionTarget({
                        question: e
                    }),
                    e.question_name,
                    n.push($("[name=" + e.question_name + "]").after(s.render()));
                return n
            }
        }
        ,
        e.prototype.addPriorAuthSubmissionTracking = function() {
            return $("a.send_plan").addClass("send-pa-request-to-plan")
        }
        ,
        e.prototype.autoSaveEnabled = function() {
            return this.model.isInQuestionResponse() && this.model.hasEnabledQuestionSet() && !this.model.masqueraded() && !this.model.sending()
        }
        ,
        e.prototype.refreshAutoSaveListeners = function() {
            if (this.stopAutoSaveListeners(),
            this.autoSaveEnabled())
                return this.questionsFromPlan = this.model.getEnabledQuestionsFromPlan(),
                this.setLastSavedAnswersForPlan(),
                this.startAutoSaveListeners()
        }
        ,
        e.prototype.setLastSavedAnswersForPlan = function() {
            var t, e;
            for (t in this.lastSavedAnswersForPlan = {},
            e = [],
            this.questionsFromPlan)
                e.push(this.lastSavedAnswersForPlan[t] = this.questionsFromPlan[t].getAnswer());
            return e
        }
        ,
        e.prototype.startAutoSaveListeners = function() {
            return this.startUserInputListener(),
            this.startUserExitListener(),
            this.startBackButtonListener()
        }
        ,
        e.prototype.stopAutoSaveListeners = function() {
            return this.stopUserInactivityTimer(),
            this.stopUserInputListener(),
            this.stopUserExitListener(),
            this.stopBackButtonListener()
        }
        ,
        e.prototype.startUserInputListener = function() {
            var t, e, i, n;
            for (t in n = [],
            i = this.questionsFromPlan)
                e = i[t],
                n.push(e.on("change:answer_text", function(t) {
                    return function() {
                        return t.stopUserInactivityTimer(),
                        t.startUserInactivityTimer()
                    }
                }(this)));
            return n
        }
        ,
        e.prototype.startUserExitListener = function() {
            return window.addEventListener("beforeunload", this.saveOnExit)
        }
        ,
        e.prototype.startBackButtonListener = function() {
            return Backbone.history.on("route", this.saveOnBackButton)
        }
        ,
        e.prototype.saveOnBackButton = function() {
            return this.stopAutoSaveListeners(),
            this.logChanges("User has hit the back button on Question Response")
        }
        ,
        e.prototype.saveOnExit = function() {
            return this.stopAutoSaveListeners(),
            this.logChanges("User has exited on Question Response")
        }
        ,
        e.prototype.stopUserInputListener = function() {
            var t, e, i, n;
            if (this.questionsFromPlan) {
                for (t in n = [],
                i = this.questionsFromPlan)
                    e = i[t],
                    n.push(e.off("change:answer_text"));
                return n
            }
        }
        ,
        e.prototype.stopUserExitListener = function() {
            return window.removeEventListener("beforeunload", this.saveOnExit)
        }
        ,
        e.prototype.stopBackButtonListener = function() {
            return Backbone.history.off("route", this.saveOnBackButton)
        }
        ,
        e.prototype.stopUserInactivityTimer = function() {
            if (this.timeoutId)
                return clearTimeout(this.timeoutId)
        }
        ,
        e.prototype.startUserInactivityTimer = function() {
            return this.timeoutId = setTimeout((t = this,
            function() {
                return t.logChanges("User has been inactive for 10 minutes"),
                t.refreshAutoSaveListeners()
            }
            ), i);
            var t
        }
        ,
        e.prototype.logChanges = function(t) {
            var e, i, n;
            for (i in this.position = 0,
            n = [],
            this.questionsFromPlan)
                e = this.questionsFromPlan[i],
                this.lastSavedAnswer = this.lastSavedAnswersForPlan[i],
                this.currentAnswer = e.getAnswer(),
                this.position += 1,
                this.currentAnswer !== this.lastSavedAnswer && e.isValid() ? (this.changedQuestionName = i,
                n.push(this.autoSave(t))) : n.push(void 0);
            return n
        }
        ,
        e.prototype.autoSave = function(t) {
            return ahoy.track(t, {
                request_id: this.model.id,
                previousAnswer: this.lastSavedAnswer,
                changedAnswer: this.currentAnswer,
                changedQuestionName: this.changedQuestionName,
                changedQuestionIndex: this.position,
                time: (new Date).toISOString()
            })
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.DisclaimerMessage = function(t) {
        function e() {
            return this.render = i(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/disclaimer_message"],
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                isEnrollment: this.model.is_enrollment()
            }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.DownloadButton = function(t) {
        function e() {
            return this.toggleDownload = i(this.toggleDownload, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/download_button"],
        e.prototype.events = {
            "click .download": "download"
        },
        e.prototype.initialize = function() {
            return this.bindTo(this.model, "change", this.toggleDownload),
            this.bindTo(this.model.sections, "change reset", this.toggleDownload),
            this.bindTo(this.model, "change:eligibility_status", this.toggleDownload),
            this.bindTo(this.model, "change:permission_to_call_patient", this.toggleDownload),
            this.bindTo(this.model, "change:pharmacy_info", this.toggleDownload),
            this.bindTo(this.model, "change:pharmacy_sent_rx", this.toggleDownload),
            this.bindTo(this.model, "change:pharmacy_info_v2", this.toggleDownload)
        }
        ,
        e.prototype.toggleDownload = function() {
            return this.$("a.download").toggleClass("disabled", !this.model.shareable())
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template),
            this.toggleDownload()
        }
        ,
        e.prototype.download = function() {
            return this.model.shareable() && (this.model.saveable() ? this.model.trigger("save", {
                download: !0
            }) : window.location = "/api/requests/" + this.model.id + "/download"),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.Eligibility = function(t) {
        function e() {
            return this.toggleButtons = i(this.toggleButtons, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/eligibility"],
        e.prototype.events = {
            "click a.check": "checkEligibility",
            "click a.clear": "clearEligibility"
        },
        e.prototype.initialize = function() {
            return this.section = this.options.section,
            this.eligibility_source = this.model.eligibility_source,
            this.eligibility_results = this.model.eligibility_results,
            this.bindTo(this.section, "change", this.toggleButtons),
            this.bindTo(this.model, "change:eligibility_status", this.render),
            this.bindTo(this.eligibility_results, "change", this.render),
            this.fetchEligibility = _.throttle(this.fetchEligibility, 6e3)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                status: this.model.get("eligibility_status"),
                count: this.eligibility_results.length,
                searching_message: this.eligibility_source.get("searching_message"),
                error_message: this.eligibility_source.get("error_message"),
                cleared_message: this.eligibility_source.get("cleared_message"),
                results_found_message: this.eligibility_source.get("results_found_message"),
                no_results_found_message: this.eligibility_source.get("no_results_found_message"),
                eligibility_required: this.section.eligibilityRequired(this.model),
                eligibility_status: this.model.get("eligibility_status")
            })),
            this.toggleButtons()
        }
        ,
        e.prototype.toggleButtons = function() {
            return this.$("a.check").toggleClass("disabled", "searching" === this.model.get("eligibility_status") || 0 < this.eligibility_results.length),
            this.$("a.clear").toggleClass("disabled", 0 === this.eligibility_results.length)
        }
        ,
        e.prototype.fetchEligibility = function() {
            var t, e;
            return this.eligibility_results.person = this.originalMember(),
            this.eligibility_results.provider = this.provider(),
            this.eligibility_results.fetch({
                success: (e = this,
                function() {
                    return e.model.set({
                        eligibility_status: "searched"
                    }),
                    e.eligibility_results.trigger("searched"),
                    e.eligibilityModal()
                }
                ),
                error: (t = this,
                function() {
                    return t.model.set({
                        eligibility_status: "error"
                    })
                }
                )
            }),
            !1
        }
        ,
        e.prototype.checkEligibility = function() {
            return !(this.section.required(this.model) && !this.section.eligibilityRequired(this.model) || 0 < this.eligibility_results.length) && (this.model.set({
                eligibility_status: "searching",
                eligibility_original_patient: this.originalMember()
            }),
            this.fetchEligibility())
        }
        ,
        e.prototype.eligibilityModal = function() {
            var t;
            return 0 < this.eligibility_results.length && (t = new App.Views.Requests.Edit.EligibilityResultDialog({
                model: this.model,
                collection: this.eligibility_results,
                original_member: this.model.get("eligibility_original_patient")
            }),
            this.openDialog(t)),
            !1
        }
        ,
        e.prototype.originalMember = function() {
            return {
                first_name: this.model.findQuestionAnswerText("patient_first_name") || "",
                middle_name: this.model.findQuestionAnswerText("patient_middle_name") || "",
                last_name: this.model.findQuestionAnswerText("patient_last_name") || "",
                suffix: this.model.findQuestionAnswerText("patient_suffix") || "",
                address1: this.model.findQuestionAnswerText("patient_address1") || "",
                address2: this.model.findQuestionAnswerText("patient_address2") || "",
                city: this.model.findQuestionAnswerText("patient_city") || "",
                state: this.model.findQuestionAnswer("patient_state") || "",
                zip: this.model.findQuestionAnswerText("patient_zip") || "",
                date_of_birth: this.model.findQuestionAnswerText("patient_date_of_birth") || "",
                gender: this.model.findQuestionAnswer("patient_gender") || "",
                id_number: this.model.findQuestionAnswerText("patient_id_number") || "",
                group_id: this.model.findQuestionAnswerText("patient_group_id") || "",
                formulary_name: this.model.findQuestionAnswerText("patient_formulary_name") || "",
                formulary_id: this.model.findQuestionAnswerText("patient_formulary_id") || "",
                dos: this.model.findQuestionAnswerText("dos") || "",
                bin: this.model.findQuestionAnswer("patient_bin_number") || "",
                patient_person_number: this.model.findQuestionAnswerText("patient_person_number") || ""
            }
        }
        ,
        e.prototype.provider = function() {
            return {
                first_name: this.model.findQuestionAnswerText("servicing_provider_first_name") || "",
                middle_name: this.model.findQuestionAnswerText("servicing_provider_middle_name") || "",
                last_name: this.model.findQuestionAnswerText("servicing_provider_last_name") || "",
                npi: this.model.findQuestionAnswerText("servicing_provider_npi") || "",
                type: this.model.findQuestionAnswerText("provider_npi_type") || "",
                organization_name: this.model.findQuestionAnswerText("facility_name") || ""
            }
        }
        ,
        e.prototype.clearEligibility = function() {
            var t, e, i, n;
            if ("searched" !== this.model.get("eligibility_status"))
                return !1;
            for (t in i = this.model.get("eligibility_original_patient"))
                n = i[t],
                null != (e = this.model.findQuestion("patient_" + t)) && e.trigger("setAnswer", n, {
                    disable: !1,
                    include_disabled: !0
                });
            return this.eligibility_results.reset(),
            this.model.set({
                eligibility_status: "cleared",
                eligibility_original_patient: null
            }),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.EligibilityResultDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/eligibility_result_dialog"],
        e.prototype.className = "dialog eligibility-result-dialog",
        e.prototype.events = {
            "click .close": "leave",
            "click li": "selectEntry"
        },
        e.prototype.initialize = function() {
            return this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                collection: this.collection,
                original_member: this.options.original_member
            }))
        }
        ,
        e.prototype.selectEntry = function(t) {
            var e, i, n, s, r, o;
            for (i in e = $($(t.currentTarget)).data("eligibility-id"),
            r = this.collection.get(e),
            this.collection.select(r),
            n = r.get("member"))
                o = n[i],
                this.setQuestion(i, o);
            for (i in s = r.get("coverage"))
                o = s[i],
                this.setQuestion(i, o);
            return this.leave(),
            !1
        }
        ,
        e.prototype.setQuestion = function(t, e) {
            var i;
            return null != (i = this.model.findQuestion("patient_" + t)) ? i.trigger("setAnswer", e, {
                disable: !0,
                include_disabled: !0
            }) : void 0
        }
        ,
        e.prototype.leave = function() {
            return e.__super__.leave.apply(this, arguments),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.EnrollmentNavigator = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/enrollment_navigator"],
        e.prototype.tagName = "section",
        e.prototype.initialize = function(t) {
            return this.enrollmentNavigatorBody = t.enrollmentNavigatorBody
        }
        ,
        e.prototype.render = function() {
            return $("#request-page-header").html(this.template({
                enrollment_navigator_body: this.enrollmentNavigatorBody
            }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.EnrollmentProgramRow = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/enrollment_conversion_program_row"],
        e.prototype.el = ".enrollment-programs",
        e.prototype.initialize = function(t) {
            return this.enrollmentProgram = t.enrollmentProgram,
            this.requestId = t.requestId
        }
        ,
        e.prototype.render = function() {
            return this.$el.append(this.template({
                requestId: this.requestId,
                prompt: this.enrollmentProgram.prompt,
                formName: this.enrollmentProgram.form.name,
                formId: this.enrollmentProgram.form.id,
                formIntent: this.enrollmentProgram.form.intent
            }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.EnrollmentPrograms = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.baseTemplate = JST["requests/edit/enrollment_conversion_programs"],
        e.prototype.contactPatientForCopay = JST["requests/edit/contact_patient_for_copay"],
        e.prototype.el = "#enrollment_dialog_content",
        e.prototype.events = {
            "click .start-copay-experiment": "displayPatientEmailModal"
        },
        e.prototype.initialize = function(t) {
            var e;
            return e = t.enrollmentPrograms,
            this.displayablePrograms = [].concat(e).filter(function(t) {
                return null != t ? t.prompt : void 0
            }),
            this.requestId = t.requestId,
            this.userId = t.userId,
            this.copayEnabled = t.copayExperimentEnabled
        }
        ,
        e.prototype.hideStatusDialog = function() {
            return $(".modal-background").hide(),
            $(".status-dialog").hide()
        }
        ,
        e.prototype.showStatusDialog = function() {
            return $("#copay_experiment").show(),
            $(".modal-background").show(),
            $(".status-dialog").show()
        }
        ,
        e.prototype.toggleCopayEmailModel = function() {
            return 0 === $("div.collect-patient-details").length ? this.openDialog(new App.Views.Requests.Edit.CopayPatientEmail({
                element: this.$("#copay-collect-patient-email"),
                request_id: this.requestId
            })) : $("#copay-collect-patient-email").show()
        }
        ,
        e.prototype.displayPatientEmailModal = function() {
            return this.hideStatusDialog(),
            this.toggleCopayEmailModel()
        }
        ,
        e.prototype.render = function() {
            var t, e, i, n, s, r;
            if (0 < this.displayablePrograms.length) {
                for (this.copayEnabled ? this.$el.append(this.contactPatientForCopay) : this.$el.append(this.baseTemplate),
                r = [],
                e = 0,
                i = (s = this.displayablePrograms).length; e < i; e++)
                    t = s[e],
                    n = new App.Views.Requests.Edit.EnrollmentProgramRow({
                        enrollmentProgram: t,
                        requestId: this.requestId
                    }),
                    r.push(n.render());
                return r
            }
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.FaxDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/fax_dialog"],
        e.prototype.className = "dialog fax-dialog",
        e.prototype.events = {
            "click .close": "leave",
            "click button.fax": "fax"
        },
        e.prototype.initialize = function() {
            return this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                fax_number: this.model.findQuestionAnswerText("provider_fax")
            })),
            this.$("input").mask("999-999-9999")
        }
        ,
        e.prototype.fax = function() {
            return this.model.setLegacyAttributes(),
            this.model.save(this.model.toJSON(), {
                success: (t = this,
                function() {
                    return $.ajax({
                        type: "POST",
                        url: "/api/requests/" + t.model.id + "/fax",
                        data: {
                            fax_number: t.$("input").val()
                        },
                        success: function() {
                            return new App.Views.Shared.Notice({
                                message: "Fax has been sent."
                            }),
                            t.leave(),
                            t.model.trigger("prescriber_fax_event")
                        },
                        error: function() {
                            return new App.Views.Shared.Error({
                                message: "There was an error sending your fax. Please try again."
                            }),
                            t.leave(),
                            t.model.trigger("prescriber_fax_event")
                        }
                    })
                }
                ),
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "There was an error sending your fax. Please try again."
                    }),
                    this.model.trigger("prescriber_fax_event")
                }
            });
            var t
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.History = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/history"],
        e.prototype.id = "history",
        e.prototype.events = {
            "click #reminders_tab": "showReminders",
            "click #notes_tab": "showNotes"
        },
        e.prototype.initialize = function() {
            return this.notes = new App.Collections.History({
                request_id: this.model.id
            }),
            this.reminders = new App.Collections.Reminders({
                request_id: this.model.id
            }),
            this.bindTo(this.reminders, "sync destroy", this.toggleTabs)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template),
            this.appendElements()
        }
        ,
        e.prototype.appendElements = function() {
            return this.appendChild(new App.Views.Requests.Edit.Reminder({
                model: this.model,
                collection: this.reminders
            })),
            this.appendChild(new App.Views.Requests.Edit.Note({
                model: this.model,
                collection: this.notes
            })),
            this.appendChild(new App.Views.Requests.Edit.NoteReminderForm({
                model: this.model,
                reminders: this.reminders,
                notes: this.notes
            }))
        }
        ,
        e.prototype.toggleTabs = function() {
            return 0 < this.reminders.length ? this.showReminders() : this.showNotes(),
            0 === this.reminders.length ? this.$("#reminders_tab").hide() : this.$("#reminders_tab").show()
        }
        ,
        e.prototype.showReminders = function() {
            return this.$("#notes_view").hide(),
            this.$("#reminders_view").show(),
            this.$("#reminders_tab").addClass("active"),
            this.$("#notes_tab").removeClass("active")
        }
        ,
        e.prototype.showNotes = function() {
            return this.$("#reminders_view").hide(),
            this.$("#notes_view").show(),
            this.$("#notes_tab").addClass("active"),
            this.$("#reminders_tab").removeClass("active")
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.HubEnrollmentEmailConsentOptIn = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/hub_enrollment_email_consent_opt_in"],
        e.prototype.successTemplate = JST["requests/edit/hub_enrollment_email_consent_opt_in_success"],
        e.prototype.tagName = "section",
        e.prototype.events = {
            "click #collect_consent_opt_in_patient_email .opt-in-consent-email-submit-button": "submitAddress",
            "input #collect_consent_opt_in_patient_email .collect-patient-email-input": "emailContentChange"
        },
        e.prototype.initialize = function(t) {
            return this.requestId = t.request_id,
            this.render()
        }
        ,
        e.prototype.submitAddress = function() {
            return this.patient_email = document.querySelector(".opt-in-consent-email-input"),
            this.patient_email.checkValidity() ? ($.post("/api/hub_enrollment_email_consent_opt_in", {
                request_id: this.requestId,
                patient_email: this.patient_email.value
            }).fail(function() {
                return {}
            }),
            this.renderSuccess()) : this.patient_email.reportValidity()
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template)
        }
        ,
        e.prototype.renderSuccess = function() {
            return $(this.el).html(this.successTemplate({
                patient_email: this.patient_email.value
            }))
        }
        ,
        e.prototype.emailContentChange = function() {
            return $(".opt-in-consent-email-input").val() ? this.$(".opt-in-consent-email-submit-button").removeClass("ui-state-disabled") : this.$(".opt-in-consent-email-submit-button").addClass("ui-state-disabled")
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.InlinePromptDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.PROMPT_BACKGROUND_CLASS = "inline-prompt-background",
        e.PROMPT_INLINE_CLASS = "inline-prompt",
        e.prototype.template = JST["requests/edit/inline_prompt_dialog"],
        e.prototype.className = "dialog prompt-dialog prompt-dialog-inline",
        e.prototype.initialize = function(t) {
            return this.request = t.request,
            this.prompts = t.prompts
        }
        ,
        e.prototype.showPrompts = function(t) {
            var e, i, n, s, r, o, a;
            for (null == t && (t = !0),
            this.clearReviewErrors(),
            r = [],
            e = 0,
            i = (o = this.prompts).length; e < i; e++)
                n = (s = o[e]).messages[0],
                r.push(this.questionElement(n.trigger_data[0])),
                this.showPrompt(s, n, n.trigger_data);
            if (t)
                return a = this.topmostQuestionElement(r),
                this.scrollAndFocus(a)
        }
        ,
        e.prototype.showPrompt = function(t, e, i) {
            var n, s, r, o, a, l, u, c;
            for (l = !1,
            u = [],
            r = 0,
            o = i.length; r < o; r++)
                a = "prompt_dialog_" + (c = i[r]).trigger_name,
                (n = this.questionElement(c).closest("div.content")).addClass(this.constructor.PROMPT_BACKGROUND_CLASS),
                l || (s = "prompt_caret_button_" + c.trigger_name,
                n.prepend("<div id=" + a + ">"),
                $("#" + a).html(this.template({
                    title: e.title,
                    body: e.body,
                    promptLogId: t.log_id,
                    id: s
                })),
                this.togglePromptContentOnClick(s)),
                l = !0,
                u.push(this.setNeedsReviewError(c.question_name));
            return u
        }
        ,
        e.prototype.questionElement = function(t) {
            switch (!1) {
            case "question_id" !== t.trigger_type:
                return this.findElementByName(t.question_name);
            case "question_text" !== t.trigger_type:
                return this.findElementByText(t.question_text);
            case "file_upload" !== t.trigger_type:
                return this.findFileUploadElement()
            }
        }
        ,
        e.prototype.findElementByName = function(t) {
            return $('[name="' + t + '"] ')
        }
        ,
        e.prototype.findElementByText = function(t) {
            return $('span:contains("' + t + '")')
        }
        ,
        e.prototype.findFileUploadElement = function() {
            return $('input[type="file"][name="upload"]')
        }
        ,
        e.prototype.topmostQuestionElement = function(t) {
            var e, i, n, s, r, o;
            for (o = (r = t[0]).offset().top,
            i = 0,
            n = t.length; i < n; i++)
                (s = (e = t[i]).offset().top) < o && (o = s,
                r = e);
            return r
        }
        ,
        e.prototype.scrollAndFocus = function() {
            var t;
            return t = $("." + this.constructor.PROMPT_INLINE_CLASS).first().offset().top - $("nav")[0].offsetHeight - 30,
            window.scrollTo({
                top: t
            })
        }
        ,
        e.prototype.setNeedsReviewError = function(t) {
            var e;
            if (null != (e = this.request.all_questions[t]))
                return e.setNeedsReviewError()
        }
        ,
        e.prototype.clearReviewErrors = function() {
            return this.request.sections.each(function(t) {
                return t.clearErrors()
            })
        }
        ,
        e.prototype.togglePromptContentOnClick = function(t) {
            return $("#" + t)[0].addEventListener("click", this.togglePromptContent)
        }
        ,
        e.prototype.togglePromptContent = function() {
            var t;
            return t = $(this.nextElementSibling),
            "true" === this.getAttribute("aria-expanded") ? (t.removeClass("expanded-content"),
            t.addClass("collapsed-content"),
            t.hide(),
            this.setAttribute("aria-expanded", "false"),
            this.style.transform = "scaleY(-1)") : (t.removeClass("collapsed-content"),
            t.addClass("expanded-content"),
            t.show(),
            this.setAttribute("aria-expanded", "true"),
            this.style.transform = "scaleY(1)")
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.JohnsonAndJohnsonDisclosure = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/johnson_and_johnson_disclosure"],
        e.prototype.tagName = "section",
        e.prototype.initialize = function() {
            return this.render()
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template)
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty
      , r = [].indexOf || function(t) {
        for (var e = 0, i = this.length; e < i; e++)
            if (e in this && this[e] === t)
                return e;
        return -1
    }
    ;
    App.Views.Requests.Edit.Main = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        var i;
        return n(e, t),
        e.prototype.render = function() {
            return this.setPageTitle(),
            $("#header a.home").show(),
            $("#header #signpost").removeClass().addClass("request"),
            $("#app").html("<div id='index'></div>"),
            $("body").removeClass("copc_pilot"),
            this.renderChildInto("#sidebar", new App.Views.Requests.Edit.Sidebar({
                model: this.model
            })),
            App.User.get("central") || this.appendChildInto("#sidebar", new App.Views.Requests.Edit.History({
                model: this.model
            })),
            this.renderChildInto("#app", new App.Views.Requests.Edit.Details({
                model: this.model
            })),
            this.renderChildInto("#amp_program_info", new App.Views.Requests.Edit.AmpProgramInfo({
                model: this.model
            })),
            this.model.get("pa_nav_experiment") || this.displayStatusDialog(),
            this.fetchHubDialog(),
            2 === this.model.get("access_type") && this.showSharingDialog(),
            "fax" === this.options.action && this.model.shareable() && this.openDialog(new App.Views.Requests.Edit.FaxDialog({
                model: this.model
            })),
            this.getPendoData()
        }
        ,
        i = [178629, 178630, 185621, 185622, 199762, 212427, 168531],
        e.prototype.inHubExExperiment = function() {
            var t;
            return t = parseInt(this.model.drugDDID()),
            0 <= r.call(i, t)
        }
        ,
        e.prototype.fetchHubDialog = function() {
            return $.ajax({
                type: "GET",
                url: this.model.get("portal_services_url") + "/requests/" + this.model.id + "/hub_notification",
                xhrFields: {
                    withCredentials: !0
                },
                data: $.param({
                    ddid: this.model.drugDDID()
                }),
                success: (e = this,
                function(t) {
                    if (t.id)
                        return e.inHubExExperiment() ? e.openDialog(new App.Views.Requests.Shared.IhtHubExperimentDialog({
                            model: new App.Models.RequestTouch,
                            request: e.model
                        })) : e.openDialog(new App.Views.Requests.Shared.HubDialog({
                            model: new App.Models.RequestTouch,
                            dialog_details: t,
                            request: e.model
                        }))
                }
                )
            });
            var e
        }
        ,
        e.prototype.openStatusDialog = function(t) {
            var e;
            return e = this.model.get("update_with_web_sockets") ? App.Views.Requests.Edit.StatusDialog : App.Views.Requests.Edit.PollingStatusDialog,
            this.openDialog(new e({
                model: this.model,
                status_dialog: t
            }))
        }
        ,
        e.prototype.displayStatusDialog = function() {
            return this.model.status_dialog_sending.hasBehavior() && this.model.sending() ? this.openStatusDialog(this.model.status_dialog_sending) : this.model.status_dialog_loading.hasBehavior() ? this.openStatusDialog(this.model.status_dialog_loading) : void 0
        }
        ,
        e.prototype.showSharingDialog = function() {
            return this.openDialog(new App.Views.Requests.Shared.SharingDialog({
                request: this.model
            })),
            !1
        }
        ,
        e.prototype.setPageTitle = function() {
            var t;
            return t = [this.model.get("id"), this.model.get("patient_lname"), "CoverMyMeds"],
            document.title = _.compact(t, _.identity).join(" | ")
        }
        ,
        e.prototype.getPendoData = function() {
            return this.paPlusDrugs = new App.Models.SponsoredDrugs({
                model: this.model,
                service: "pharmacy_messaging"
            }),
            this.paPlusDrugs.fetch({
                xhrFields: {
                    withCredentials: !0
                },
                success: (i = this,
                function() {
                    var t;
                    return i.isPaPlusRequest = -1 < (null != (t = i.paPlusDrugs.get("ddids")) ? t.indexOf(i.model.get("ddid")) : void 0)
                }
                ),
                error: (e = this,
                function() {
                    return e.isPaPlusRequest = !1
                }
                ),
                complete: (t = this,
                function() {
                    return t.renderPendo()
                }
                )
            });
            var t, e, i
        }
        ,
        e.prototype.renderPendo = function() {
            return this.renderChildInto("#pendo", new App.Views.Requests.Edit.Pendo({
                model: this.model,
                isPaPlusRequest: this.isPaPlusRequest
            }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.MasqueradingSendToPlanDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/masquerading_send_to_plan_dialog"],
        e.prototype.className = "dialog masquerading-send-to-plan-dialog",
        e.prototype.events = {
            "click .close": "leave",
            "click .cancel": "leave",
            "click .confirm": "confirm"
        },
        e.prototype.initialize = function(t) {
            return this.model = t.model,
            this.sendToPlanButton = t.sendToPlanButton,
            this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                nickname: this.model.nickname(),
                reference: this.model.reference()
            }))
        }
        ,
        e.prototype.confirm = function() {
            return this.leave(),
            this.sendToPlanButton.doSendPlanActions()
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.NewSignatureDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/new_signature_dialog"],
        e.prototype.className = "dialog",
        e.prototype.events = {
            "click button.save": "save",
            "click .close": "leave",
            "click a.reset": "clearSignature",
            "mousedown canvas": "penDown",
            "touchstart canvas": "penDown",
            "mousemove canvas": "penMove",
            "touchmove canvas": "penMove",
            "mouseup canvas": "penUp",
            "touchend canvas": "penUp"
        },
        e.prototype.initialize = function() {
            return this.stream = [],
            this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            var t;
            if ($(this.el).html(this.template),
            _.defer((t = this,
            function() {
                return t.setupContext()
            }
            )),
            !this.isEhr())
                return this.disableSaveButton()
        }
        ,
        e.prototype.isEhr = function() {
            return this.options.is_ehr
        }
        ,
        e.prototype.save = function() {
            return this.model = this.collection.create({
                physician_name: this.$("input").val(),
                question_name: this.options.question_name,
                sigpath: JSON.stringify(this.stream)
            }, {
                wait: !0,
                xhrFields: {
                    withCredentials: !0
                }
            }),
            this.leave()
        }
        ,
        e.prototype.setupContext = function() {
            var t;
            return t = this.$("canvas")[0],
            "undefined" != typeof window.G_vmlCanvasManager && (t = window.G_vmlCanvasManager.initElement(t)),
            this.context = t.getContext("2d"),
            this.context.strokeStyle = "#008",
            this.context.lineWidth = 1
        }
        ,
        e.prototype.penDown = function(t) {
            var e;
            return this.drawing = !0,
            this.context.beginPath(),
            e = this.getPosition(t),
            this.context.moveTo(e.x, e.y),
            this.rememberPenstroke(1, e),
            !1
        }
        ,
        e.prototype.penMove = function(t) {
            var e;
            return e = this.getPosition(t),
            this.drawing ? (this.context.lineTo(e.x, e.y),
            this.context.stroke(),
            this.rememberPenstroke(0, e)) : this.context.moveTo(e.x, e.y),
            !1
        }
        ,
        e.prototype.penUp = function() {
            return this.drawing = !1
        }
        ,
        e.prototype.clearSignature = function() {
            return this.clearSignatureElement(),
            this.stream = [],
            this.isEhr() || this.disableSaveButton(),
            !1
        }
        ,
        e.prototype.clearSignatureElement = function() {
            return this.context.clearRect(0, 0, 500, 500)
        }
        ,
        e.prototype.getCrossPlatformEvent = function(t) {
            var e, i;
            return (null != (e = t.originalEvent) && null != (i = e.touches) ? i[0] : void 0) || t
        }
        ,
        e.prototype.getPosition = function(t) {
            return this.getCrossPlatformEvent(t),
            "undefined" != typeof t.offsetX ? {
                x: t.offsetX,
                y: t.offsetY
            } : {
                x: t.originalEvent.layerX,
                y: t.originalEvent.layerY
            }
        }
        ,
        e.prototype.rememberPenstroke = function(t, e) {
            if (this.stream.push([t, e.x, e.y]),
            0 !== this.stream.length && !this.isEhr())
                return this.enableSaveButton()
        }
        ,
        e.prototype.enableSaveButton = function() {
            return this.$("button.save").attr("disabled", !1),
            this.$("button.save").removeAttr("title")
        }
        ,
        e.prototype.disableSaveButton = function() {
            return this.$("button.save").attr("disabled", !0),
            this.$("button.save").attr("title", "Please sign using the signature pad.")
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.NonVerifiedNpiDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/non_verified_npi_dialog"],
        e.prototype.className = "dialog non-verified-dialog",
        e.prototype.events = {
            "click #fax_my_code": "sendFax",
            "click #go_back": "goBack",
            "click .dialog_fax_radio": "update",
            "click #fax_my_code.no_fax": "continue",
            "click #no_fax": "showNoFaxNumberTextField",
            "keyup #no_fax_number_text": "update"
        },
        e.prototype.initialize = function(t) {
            return this.non_verified_npi = t.non_verified_npi,
            this.request = t.request,
            this.fax_numbers = this.non_verified_npi.fax_numbers,
            this.question = this.request.findQuestion("provider_fax"),
            this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                fax_numbers: this.non_verified_npi.fax_numbers,
                first_name: this.non_verified_npi.first_name,
                last_name: this.non_verified_npi.last_name,
                npi: this.non_verified_npi.npi
            }))
        }
        ,
        e.prototype.update = function() {
            var t;
            if (null != (t = $("input:radio[name='dialog_fax_radio']:checked").val()) && "" !== t)
                return "none" === t ? this.faxNumberUnknown() : this.selectedFaxNumber(t)
        }
        ,
        e.prototype.selectedFaxNumber = function(t) {
            return this.enableFaxButton(),
            this.request.npiVerification().set("shouldSendVerificationFax", !0),
            this.question.set({
                answer_text: t
            })
        }
        ,
        e.prototype.enableFaxButton = function() {
            return $("#no_fax_number_text").css("display", "none"),
            $("#fax_my_code").prop("disabled", !1).val("FAX MY CODE").css({
                "background-color": "#EA0350",
                color: "white"
            })
        }
        ,
        e.prototype.faxNumberUnknown = function() {
            var t, e;
            return this.request.npiVerification().set("shouldSendVerificationFax", !1),
            e = $("#no_fax_number_text").val(),
            t = this.question.get("validation"),
            e.match(t) ? ($("#fax_my_code.no_fax").prop("disabled", !1).css({
                "background-color": "#EA0350",
                color: "white"
            }),
            this.question.set({
                answer_text: e
            })) : $("#fax_my_code.no_fax").prop("disabled", !0).css({
                "background-color": "lightgray",
                color: "gray"
            })
        }
        ,
        e.prototype.showNoFaxNumberTextField = function() {
            return $("#no_fax_number_text").css("display", "block"),
            $("#no_fax_number_text").mask(this.question.attributes.mask),
            $("#no_fax_number_text").focus(),
            $("#fax_my_code").val("CONTINUE").addClass("no_fax")
        }
        ,
        e.prototype.updateFaxNumberDisplays = function() {
            var t, e, i, n, s, r;
            for (r = [],
            i = e = 0,
            n = (s = this.fax_numbers).length; e < n; i = ++e)
                s[i],
                $("#hidden_fax_number_" + i).mask(this.question.attributes.mask),
                t = $("#hidden_fax_number_" + i).val(),
                $("#fax_number_" + i).val(t),
                $("label[for='fax_number_" + i + "']").html(t),
                t === this.question.get("answer_text") ? r.push($("#fax_number_" + i).prop("checked", !0)) : r.push(void 0);
            return r
        }
        ,
        e.prototype.sendFax = function() {
            return this.leave(),
            this.fillProviderfields(),
            this.shouldSendVerificationFax() && this.request.npiVerification().sendVerificationFax(this.request),
            this.request.npiVerification().set("shouldSendVerificationFax", !1),
            this.openDialog(new App.Views.Requests.Edit.NpiConfirmationDialog)
        }
        ,
        e.prototype.shouldSendVerificationFax = function() {
            var t;
            return !0 === this.request.get("use_npi_verifications") && !0 === (null != (t = this.request.npiVerification()) ? t.get("shouldSendVerificationFax") : void 0)
        }
        ,
        e.prototype.goBack = function() {
            var t;
            return this.leave(),
            (null != (t = document.referrer) ? t.match(/formpick/) : void 0) ? window.location.href = "/formpick" : window.location.href = "/cmm_php"
        }
        ,
        e.prototype.fillProviderfields = function() {
            return this.request.findQuestion("provider_first_name").set({
                answer_text: this.non_verified_npi.first_name
            }),
            this.request.findQuestion("provider_last_name").set({
                answer_text: this.non_verified_npi.last_name
            }),
            this.request.findQuestion("provider_npi").set({
                answer_text: this.non_verified_npi.npi
            })
        }
        ,
        e.prototype["continue"] = function() {
            return this.leave(),
            this.fillProviderfields()
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.Note = function(t) {
        function e() {
            return this.fetch = i(this.fetch, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/note"],
        e.prototype.id = "notes_view",
        e.prototype.events = {
            "click #note a.newer": "showNewer",
            "click #note a.older": "showOlder"
        },
        e.prototype.initialize = function() {
            return this.bindTo(this.model, "refresh change:status", this.fetch),
            this.bindTo(this.collection, "sync", this.render),
            this.fetch()
        }
        ,
        e.prototype.fetch = function() {
            return this.index = 0,
            this.collection.fetch({
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "Could not load the history"
                    })
                }
            })
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                items: this.collection.models.slice(this.index, this.index + 5),
                has_newer: this.hasNewer(),
                has_older: this.hasOlder()
            }))
        }
        ,
        e.prototype.hasNewer = function() {
            return 0 < this.index
        }
        ,
        e.prototype.hasOlder = function() {
            return this.index + 5 < this.collection.length
        }
        ,
        e.prototype.showNewer = function() {
            return this.index -= 5,
            this.render(),
            !1
        }
        ,
        e.prototype.showOlder = function() {
            return this.index += 5,
            this.render(),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.NoteReminderForm = function(t) {
        function e() {
            return this.addNoteOrReminder = i(this.addNoteOrReminder, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/note_reminder_form"],
        e.prototype.id = "note_reminder_form",
        e.prototype.events = {
            "click #create-note": "addNoteOrReminder"
        },
        e.prototype.initialize = function() {
            return this.notes = this.options.notes,
            this.reminders = this.options.reminders
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template),
            this.$(".new-item textarea").placeholder()
        }
        ,
        e.prototype.addNoteOrReminder = function() {
            var t, e;
            return this.$("input[name=is_reminder]").is(":checked") ? (this.reminder = new App.Models.Reminder({
                note: this.$(".new-item textarea").val(),
                request_id: this.model.id,
                remind_in: this.$("select[name=remind_on]").val()
            }),
            this.reminder.save(this.reminder.toJSON(), {
                success: (e = this,
                function() {
                    return e.reminders.fetch()
                }
                ),
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "Could not save reminder"
                    })
                }
            })) : (this.note = new App.Models.Note({
                request_id: this.model.id,
                note: this.$(".new-item textarea").val()
            }),
            this.note.save(this.note.toJSON(), {
                success: (t = this,
                function() {
                    return t.notes.fetch()
                }
                ),
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "Could not save note"
                    })
                }
            })),
            this.render()
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.NpiConfirmationDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/npi_confirmation_dialog"],
        e.prototype.className = "dialog confirmation-dialog",
        e.prototype.events = {
            "click button.close": "leave"
        },
        e.prototype.render = function() {
            return $(this.el).html(this.template)
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.NpiDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/npi_dialog"],
        e.prototype.className = "dialog npi-dialog",
        e.prototype.NPI_NOT_FOUND = "We could not find a provider associated with this NPI. Please double check that the NPI number is correct or update your information in the NPPES database at https://nppes.cms.hhs.gov",
        e.prototype.PENDING_VERIFICATION = "You have a pending verification for this NPI. Please verify this NPI by clicking",
        e.prototype.events = {
            "click #back": "goBack",
            "click #next": "npiNext",
            "click button.continue-to-pa": "leave",
            "keyup input[name=npi-dialog]": "getVerifiedNpis"
        },
        e.prototype.initialize = function(t) {
            return this.request = t.model,
            this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template)
        }
        ,
        e.prototype.getVerifiedNpis = function() {
            var t, e;
            return this.inputted_npi = $("input[name='npi-dialog']").val(),
            this.request.npiVerification().set("dialog_npi", this.inputted_npi),
            e = this.request.findQuestion("provider_npi").get("validation"),
            t = 0,
            this.inputted_npi.match(e) ? (this.npi = this.request.npiVerification().getUpdatedAtTime(this.inputted_npi),
            this.cached_npi = this.request.npiVerification().findPrescriberByNpi(this.inputted_npi),
            null != this.cached_npi ? this.enableNextButton() : this.request.npiVerification().searchNonVerifiedNpis(this.inputted_npi, this.request.id, t, this.npiSuccessCallback.bind(this), this.npiFailCallback.bind(this)).always(this.enableNextButton.bind(this))) : this.disableNextButton()
        }
        ,
        e.prototype.timeToReFax = function() {
            var t, e, i, n;
            return !!_.isEmpty(this.npi) || (t = new Date(this.npi.date_initiated),
            n = new Date(this.npi.contact_path_verification_updated_at),
            e = (new Date - t) / 36e5,
            i = (new Date - n) / 36e5,
            96 < e && 24 < i)
        }
        ,
        e.prototype.disableNextButton = function() {
            return $("#next").attr("disabled", !0).css({
                "background-color": "lightgray",
                color: "gray"
            })
        }
        ,
        e.prototype.enableNextButton = function() {
            return $("#next").attr("disabled", !1).css({
                "background-color": "#EA0350",
                color: "white"
            })
        }
        ,
        e.prototype.npiFailCallback = function() {
            if (0 === $(".npi-not-found-text").length)
                return $("<div class='npi-not-found-text'> <p> " + this.NPI_NOT_FOUND + " </p> <br> </div>").insertBefore($("input[name='provider_npi']"))
        }
        ,
        e.prototype.npiSuccessCallback = function(t) {
            return this.non_verified_npi = t
        }
        ,
        e.prototype.npiNext = function() {
            var t, e;
            return this.leave(),
            null != this.cached_npi ? this.openDialog(new App.Views.Requests.Edit.VerifiedNpiDialog({
                cached_npi: this.cached_npi,
                request: this.request
            })) : null != this.non_verified_npi && this.timeToReFax() ? (e = new App.Views.Requests.Edit.NonVerifiedNpiDialog({
                non_verified_npi: this.non_verified_npi,
                request: this.request
            }),
            this.openDialog(e),
            e.updateFaxNumberDisplays()) : (this.fillInNpi(),
            this.timeToReFax() || ($("<div class='pending-npi-text'> <p> You have a pending verification for this NPI. Please verify this NPI by clicking <a href='/prescribers'> verify prescribers. <a/></p> <br> </div>").insertBefore($("input[name='provider_npi']")),
            this.fillProviderData(),
            "fax" !== (null != (t = this.npi.contact_method) ? t.toLowerCase() : void 0)) ? void 0 : this.fillFaxNumber())
        }
        ,
        e.prototype.fillInNpi = function() {
            return this.request.findQuestion("provider_npi").set({
                answer_text: this.inputted_npi
            })
        }
        ,
        e.prototype.fillProviderData = function() {
            return this.request.findQuestion("provider_first_name").set({
                answer_text: this.npi.first_name
            }),
            this.request.findQuestion("provider_last_name").set({
                answer_text: this.npi.last_name
            })
        }
        ,
        e.prototype.fillFaxNumber = function() {
            var t;
            return (t = this.request.findQuestion("provider_fax")).set({
                answer_text: this.npi.fax_number
            }),
            $("input[name='provider_fax']").mask(t.attributes.mask)
        }
        ,
        e.prototype.goBack = function() {
            var t;
            return this.leave(),
            (null != (t = document.referrer) ? t.match(/formpick/) : void 0) ? window.location.href = "/formpick" : window.location.href = "/cmm_php"
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.PaHeader = function(t) {
        function e() {
            return this.showWindbreaker = i(this.showWindbreaker, this),
            this.getWindbreakerPath = i(this.getWindbreakerPath, this),
            this.getWindbreaker = i(this.getWindbreaker, this),
            this.fetchRedactedRequest = i(this.fetchRedactedRequest, this),
            this.tryWindbreaker = i(this.tryWindbreaker, this),
            this.showBasicHeader = i(this.showBasicHeader, this),
            this.showScriptHeroNotifier = i(this.showScriptHeroNotifier, this),
            this.showPaNavigator = i(this.showPaNavigator, this),
            this.getScriptHeroNotifier = i(this.getScriptHeroNotifier, this),
            this.getPaNavigator = i(this.getPaNavigator, this),
            this.showEnrollmentNavigator = i(this.showEnrollmentNavigator, this),
            this.getEnrollmentNavigator = i(this.getEnrollmentNavigator, this),
            this.initializeHeader = i(this.initializeHeader, this),
            this.render = i(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/pa_header"],
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                nickname: this.model.nickname(),
                reference: this.model.reference(),
                custom_ref: this.model.custom_ref(),
                rx_number: this.model.rx_number(),
                ddid: this.model.drugDDID()
            })),
            _.defer((t = this,
            function() {
                return t.initializeHeader()
            }
            ));
            var t
        }
        ,
        e.prototype.initializeHeader = function() {
            return this.canShowPaNavigator() ? (this.getPaNavigator(),
            this.canBrowserSupportScriptheroNotifier() ? this.getScriptHeroNotifier() : void 0) : this.canShowEnrollmentNavigator() ? this.getEnrollmentNavigator() : this.canShowWindbreaker() ? this.tryWindbreaker() : this.showBasicHeader()
        }
        ,
        e.prototype.getEnrollmentNavigator = function() {
            var t, e, i;
            return (t = new App.Models.EnrollmentNavigator({
                model: this.model
            })).fetch({
                xhrFields: {
                    withCredentials: !0
                },
                success: (i = this,
                function() {
                    return i.showEnrollmentNavigator(t.get("body"))
                }
                ),
                error: (e = this,
                function() {
                    return e.showBasicHeader()
                }
                )
            })
        }
        ,
        e.prototype.showEnrollmentNavigator = function(t) {
            return this.$("#title").hide(),
            new App.Views.Requests.Edit.EnrollmentNavigator({
                enrollmentNavigatorBody: t
            }).render()
        }
        ,
        e.prototype.getPaNavigator = function() {
            var t, e, i;
            return (t = new App.Models.PaNavigator({
                model: this.model
            })).fetch({
                xhrFields: {
                    withCredentials: !0
                },
                success: (i = this,
                function() {
                    return i.showPaNavigator(t.get("body"))
                }
                ),
                error: (e = this,
                function() {
                    return e.canShowWindbreaker() ? e.tryWindbreaker() : e.showBasicHeader()
                }
                )
            })
        }
        ,
        e.prototype.getScriptHeroNotifier = function() {
            var t, e;
            return (t = new App.Models.ScriptHeroNotifier({
                model: this.model
            })).fetch({
                xhrFields: {
                    withCredentials: !0
                },
                success: (e = this,
                function() {
                    return e.showScriptHeroNotifier(t.get("body"))
                }
                ),
                error: function() {}
            })
        }
        ,
        e.prototype.showPaNavigator = function(t) {
            return this.$("#title").hide(),
            new App.Views.Requests.Edit.PaNavigator({
                paNavigatorBody: t
            }).render()
        }
        ,
        e.prototype.showScriptHeroNotifier = function(t) {
            return new App.Views.Requests.Edit.ScriptHeroNotifier({
                shNotifierBody: t
            }).render()
        }
        ,
        e.prototype.showBasicHeader = function() {
            return new App.Views.Requests.Edit.BasicHeader({
                model: this.model
            }).render()
        }
        ,
        e.prototype.tryWindbreaker = function() {
            return this.fetchRedactedRequest()
        }
        ,
        e.prototype.fetchRedactedRequest = function() {
            return $.ajax({
                url: this.model.get("portal_services_url") + "/requests/" + this.model.id + "/redacted",
                xhrFields: {
                    withCredentials: !0
                },
                dataType: "json",
                success: (e = this,
                function(t) {
                    return e.getWindbreaker(t)
                }
                ),
                error: (t = this,
                function() {
                    return t.showBasicHeader()
                }
                )
            });
            var t, e
        }
        ,
        e.prototype.getWindbreaker = function(e) {
            return $.ajax({
                url: this.getWindbreakerPath() + "bundle.js",
                dataType: "script",
                cache: !0,
                complete: (i = this,
                function() {
                    try {
                        return i.showWindbreaker(e)
                    } catch (t) {
                        return i.showBasicHeader()
                    }
                }
                )
            });
            var i
        }
        ,
        e.prototype.getWindbreakerPath = function() {
            return window.components["request-page-header"]
        }
        ,
        e.prototype.showWindbreaker = function(t) {
            var e;
            return e = {
                request: t,
                optional: {
                    benefit_verification_result_url: this.model.get("benefit_verification_result_url")
                },
                form: {
                    thumbnail: this.model.formImage(),
                    name: this.model.get("form_description"),
                    fax_number: null,
                    phone_number: null,
                    plan_name: this.model.get("plan_name"),
                    request_type: this.model.get("form_request_type")
                }
            },
            window.renderRequestPageHeader(e, this.getWindbreakerPath(), $("#request-page-header")[0])
        }
        ,
        e.prototype.canShowEnrollmentNavigator = function() {
            return this.model.is_enrollment() && this.canBrowserSupportNavigators() && this.canUserViewNavigators()
        }
        ,
        e.prototype.canShowPaNavigator = function() {
            return !this.model.is_enrollment() && !this.model.isSpecialtyForm() && !this.model.isBvForm() && this.canBrowserSupportNavigators() && this.canUserViewNavigators()
        }
        ,
        e.prototype.canBrowserSupportScriptheroNotifier = function() {
            return !/MSIE|Trident/.test(window.navigator.userAgent)
        }
        ,
        e.prototype.canBrowserSupportNavigators = function() {
            var t;
            return "ie9" !== (t = $("html").attr("id")) && "ie8" !== t && "ie7" !== t && "ie6" !== t
        }
        ,
        e.prototype.canUserViewNavigators = function() {
            return !App.User.get("central") && !App.User.get("anonymous") && !App.User.get("api_user")
        }
        ,
        e.prototype.canShowWindbreaker = function() {
            var t;
            return !this.model.is_enrollment() && !this.model.isNew() && App.User.get("windbreaker_header_enabled") && "ie7" !== (t = $("html").attr("id")) && "ie6" !== t
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.PaNavigator = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/pa_navigator"],
        e.prototype.tagName = "section",
        e.prototype.initialize = function(t) {
            return this.paNavigatorBody = t.paNavigatorBody
        }
        ,
        e.prototype.render = function() {
            return $("#request-page-header").html(this.template({
                pa_navigator_body: this.paNavigatorBody
            }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.Pendo = function(t) {
        function e() {
            return this.sponsorshipType = i(this.sponsorshipType, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/pendo"],
        e.prototype.initialize = function() {
            return this.isPaPlusRequest = this.options.isPaPlusRequest
        }
        ,
        e.prototype.sponsorshipType = function() {
            return this.isPaPlusRequest ? this.model.isHubexRequest() ? "HubEx" : "PaPlus" : "non-sponsored"
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                sponsorshipType: this.sponsorshipType(),
                drug_id: this.model.drugDDID(),
                request_id: this.model.id,
                form_name: this.model.formName(),
                status: this.model.status(),
                form_id: this.model.form_id(),
                drug_description: this.model.drugDescription(),
                claim_api_client_organization_name: this.model.claimApiClientOrganizationName()
            }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.PermissionToCallPatient = function(t) {
        function e() {
            return this.optoutChange = i(this.optoutChange, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/permission_to_call_patient"],
        e.prototype.events = {
            "change input[name=permission_to_call_patient]": "optoutChange"
        },
        e.prototype.initialize = function() {
            return this.render()
        }
        ,
        e.prototype.render = function() {
            return this.$el.html(this.template),
            this.$("a").attr("href", $("meta[name=php_url]").attr("content") + "/main/patientportal"),
            this.$("input[name=permission_to_call_patient]").prop("checked", this.model.get("permission_to_call_patient"))
        }
        ,
        e.prototype.optoutChange = function(t) {
            return this.model.set({
                permission_to_call_patient: t.target.checked
            })
        }
        ,
        e
    }(Backbone.View)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.PharmacySearch = function(t) {
        function e() {
            return this.optoutChange = i(this.optoutChange, this),
            this.updatePharmacyInfo = i(this.updatePharmacyInfo, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/pharmacy_search"],
        e.prototype.tagName = "section",
        e.prototype.events = {
            "change input[name=pharmacy_sent_rx]": "optoutChange"
        },
        e.prototype.initialize = function() {
            return this.model.set({
                collapsed: !this.model.get("pharmacy_search_enabled") || this.model.get("pharmacy_search_enabled") && null !== this.model.outcome()
            }),
            this.render()
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template),
            Backbone.ModelBinding.bind(this),
            $("input[name=pharmacy_info]", this.$el).pharmacySearch({
                pharmacyInfo: this.model.get("pharmacy_info"),
                pharmacySentRx: this.model.get("pharmacy_sent_rx"),
                portal_services_url: this.model.get("portal_services_url"),
                request_id: this.model.id
            }),
            this.$("input[name=pharmacy_info]").on({
                updatePharmacyInfo: this.updatePharmacyInfo
            }),
            $(this.el).attr("id", "pharmacy-search-section")
        }
        ,
        e.prototype.updatePharmacyInfo = function(t, e) {
            return this.model.set({
                pharmacy_info: e
            })
        }
        ,
        e.prototype.optoutChange = function(t) {
            return this.model.set({
                pharmacy_sent_rx: t.target.checked
            })
        }
        ,
        e.prototype.toggle = function() {
            return this.model.set({
                collapsed: !this.model.get("collapsed")
            })
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.PharmacySearchV2 = function(t) {
        function e() {
            return this.updatePharmacyInfo = i(this.updatePharmacyInfo, this),
            this.checkToClear = i(this.checkToClear, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/pharmacy_search_v2"],
        e.prototype.tagName = "section",
        e.prototype.events = {
            "keyup input[name=pharmacy_info_v2]": "checkToClear",
            "click .arrow": "toggle"
        },
        e.prototype.initialize = function() {
            return this.model.set({
                collapsed: !this.model.get("pharmacy_search_enabled") || this.model.get("pharmacy_search_enabled") && null !== this.model.outcome()
            }),
            this.render()
        }
        ,
        e.prototype.checkToClear = function() {
            if (0 < this.$("input[name=pharmacy_info_v2]").filter(function() {
                return 0 === this.value.length
            }).length)
                return $("#pharmacy-search-address").html(""),
                this.model.set({
                    pharmacy_info_v2: null
                })
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template),
            Backbone.ModelBinding.bind(this),
            $("input[name=pharmacy_info_v2]", this.$el).pharmacySearch({
                pharmacyInfo: this.model.get("pharmacy_info_v2"),
                portal_services_url: this.model.get("portal_services_url"),
                request_id: this.model.id
            }),
            this.$("input[name=pharmacy_info_v2]").on({
                updatePharmacyInfo: this.updatePharmacyInfo
            }),
            $(this.el).attr("id", "pharmacy-search-section")
        }
        ,
        e.prototype.updatePharmacyInfo = function(t, e) {
            return this.model.set({
                pharmacy_info_v2: e
            })
        }
        ,
        e.prototype.toggle = function() {
            return this.model.set({
                collapsed: !this.model.get("collapsed")
            })
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var n = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , s = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            r.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , r = {}.hasOwnProperty;
    App.Views.Requests.Edit.PollingStatusDialog = function(t) {
        function e() {
            return this.handleStatusCheck = n(this.handleStatusCheck, this),
            this.fetchRequest = n(this.fetchRequest, this),
            this.checkStatus = n(this.checkStatus, this),
            this.fetchEnrollmentConversionPrograms = n(this.fetchEnrollmentConversionPrograms, this),
            this.update = n(this.update, this),
            e.__super__.constructor.apply(this, arguments)
        }
        var i;
        return s(e, t),
        i = "Long Poll",
        e.prototype.template = JST["requests/edit/status_dialog"],
        e.prototype.className = "dialog status-dialog",
        e.prototype.metricService = null,
        e.prototype.events = {
            "click p.convert a": "convert",
            "click button.convert": "convert",
            "click .close": "manualClose",
            "click .return-to-dashboard": "returnToDashboard",
            "click .start-enrollment": "startEnrollment"
        },
        e.prototype.initialize = function() {
            return this.fetchEnrollmentConversionPrograms(),
            this.original_status = this.model.status(),
            this.status_dialog = this.options.status_dialog,
            this.originallyShowOnSend = this.status_dialog.get("show_on_send"),
            this.metricService = new App.Services.MetricService(this.model),
            this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                nickname: this.model.nickname(),
                reference: this.model.reference(),
                epa_image: this.model.formImage()
            })),
            this.update(),
            this.checkStatus()
        }
        ,
        e.prototype.update = function() {
            return this.$(".text").html(this.status_dialog.text(this.model)),
            this.status_dialog.get("include_response_message") && this.$(".response").html(this.model.lastSectionDescription()),
            this.$("p.convert").toggle(this.status_dialog.get("allow_conversion")),
            this.$("button.close").toggle(!this.status_dialog.get("force_conversion")),
            this.$("button.return-to-dashboard").toggle(!this.status_dialog.get("force_conversion")),
            this.$("button.convert").toggle(this.status_dialog.get("force_conversion")),
            this.$("#enrollment_dialog_content").toggle(this.model.get("allow_enrollment")),
            this.$("img.spinner").toggle(this.status_dialog.get("display_spinner"))
        }
        ,
        e.prototype.fetchEnrollmentConversionPrograms = function() {
            return new App.Models.EnrollmentConversionProgram({
                requestId: this.model.id,
                ddid: this.model.drugDDID(),
                portalServicesUrl: this.model.get("portal_services_url")
            }).fetch({
                xhrFields: {
                    withCredentials: !0
                },
                success: this.enrollmentProgramSuccessHandler.bind(this)
            })
        }
        ,
        e.prototype.enrollmentProgramSuccessHandler = function(t, e) {
            return (e = new App.Views.Requests.Edit.EnrollmentPrograms({
                enrollmentPrograms: e,
                requestId: this.model.id
            })).render()
        }
        ,
        e.prototype.checkStatus = function() {
            var t;
            if (t = this.status_dialog.get("refresh_rate"))
                return $.doTimeout("waiting", t, this.fetchRequest)
        }
        ,
        e.prototype.fetchRequest = function() {
            return this.model.fetch({
                success: this.handleStatusCheck,
                data: {
                    type: i
                }
            })
        }
        ,
        e.prototype.handleStatusCheck = function() {
            return this.model.sending() && this.model.status_dialog_sending.hasBehavior() && this.model.status() === this.original_status ? (this.status_dialog = this.model.status_dialog_sending,
            this.checkStatus(),
            this.update()) : this.model.status_dialog_loading.hasBehavior() && this.model.status() !== this.original_status ? (this.status_dialog = this.model.status_dialog_loading,
            this.checkStatus(),
            this.update()) : (this.originallyShowOnSend && this.metricService.logCompletion(),
            this.model.trigger("refresh"),
            this.leave())
        }
        ,
        e.prototype.manualClose = function() {
            return this.originallyShowOnSend && this.metricService.logClose(),
            this.model.trigger("refresh"),
            this.leave()
        }
        ,
        e.prototype.returnToDashboard = function() {
            return window.location = "/cmm_php"
        }
        ,
        e.prototype.convert = function() {
            return window.location = "/api/requests/" + this.model.id + "/convert"
        }
        ,
        e.prototype.startEnrollment = function(t) {
            return $(t.currentTarget).parent().submit()
        }
        ,
        e.prototype.leave = function() {
            return this.status_dialog.get("force_conversion") ? this.convert() : ($.doTimeout("waiting"),
            e.__super__.leave.apply(this, arguments),
            !1)
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.PrescriberNPIVerification = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/prescriber_npi_verification"],
        e.prototype.className = "prescriber_npi_verification",
        e.prototype.events = {
            "click #no_fax_number": "showNoFaxNumberTextField",
            "click .provider_fax_radio": "update",
            "keyup #no_fax_number_text": "update"
        },
        e.prototype.initialize = function(t) {
            return this.fax_numbers = t.npi_data.fax_numbers,
            this.request = t.request,
            this.question = this.request.findQuestion("provider_fax"),
            this.npi_verification_message_data = this.request.get("npi_verification_message_data")
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                fax_numbers: this.fax_numbers,
                npi_verification_message: this.npi_verification_message_data.message
            }))
        }
        ,
        e.prototype.update = function() {
            var t;
            if (null != (t = $("input:radio[name='provider_fax_radio']:checked").val()) && "" !== t)
                return "none" === t ? (this.request.npiVerification().set("shouldSendVerificationFax", !1),
                this.question.set({
                    answer_text: $("#no_fax_number_text").val()
                })) : (this.request.npiVerification().set("shouldSendVerificationFax", !0),
                this.question.set({
                    answer_text: t
                }),
                this.showBannerForNPIVerification())
        }
        ,
        e.prototype.updateFaxNumberDisplays = function() {
            var t, e, i, n, s;
            for (i = e = 0,
            n = (s = this.fax_numbers).length; e < n; i = ++e)
                s[i],
                $("#hidden_fax_number_" + i).mask(this.question.attributes.mask),
                t = $("#hidden_fax_number_" + i).val(),
                $("#fax_number_" + i).val(t),
                $("label[for='fax_number_" + i + "']").html(t),
                t === this.question.get("answer_text") && $("#fax_number_" + i).prop("checked", !0);
            return $("input:radio[name='provider_fax_radio']").is(":checked") || null == this.question.get("answer_text") || "" === this.question.get("answer_text") || (this.populateNoFaxNumberTextField(),
            this.showNoFaxNumberTextField()),
            this.update()
        }
        ,
        e.prototype.populateNoFaxNumberTextField = function() {
            return $("#no_fax_number").prop("checked", !0),
            $("#no_fax_number_text").val(this.question.get("answer_text")),
            $("#no_fax_number_text").trigger("blur")
        }
        ,
        e.prototype.showNoFaxNumberTextField = function() {
            return $("section.npi-banner").css("display", "none"),
            $("#no_fax_number_text").css("display", "block"),
            $("#no_fax_number_text").mask(this.question.attributes.mask),
            $("#no_fax_number_text").focus()
        }
        ,
        e.prototype.showBannerForNPIVerification = function() {
            return $(".npi-banner").hide(),
            $("#no_fax_number_text").css("display", "none"),
            $("section.npi-banner").css("display", "block"),
            $(".npi-banner").insertBefore(".npi-non-verified-numbers")
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.PromptDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/prompt_dialog"],
        e.prototype.className = "dialog prompt-dialog",
        e.prototype.events = {
            'click [data-action="send_to_plan"]': "sendToPlan",
            'click [data-action="add_attachments"]': "addAttachment",
            'click [data-action="archive"]': "archive",
            'click [data-action="return_to_pa"]': "returnToPa"
        },
        e.prototype.initialize = function(t) {
            return this.request = t.request,
            this.prependChildInto("body", new App.Views.Shared.ModalBackground),
            this.prompt = t.prompt,
            this.message = this.prompt.messages[0]
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                title: this.message.title,
                body: this.message.body,
                actions: this.message.actions
            }))
        }
        ,
        e.prototype.addAttachment = function(t) {
            return this.logPromptResult(t),
            this.leave()
        }
        ,
        e.prototype.returnToPa = function(t) {
            return this.logPromptResult(t),
            this.message.triggers && (this.highlightFirstTrigger(),
            this.setNeedsReviewErrors()),
            this.leave()
        }
        ,
        e.prototype.sendToPlan = function(t) {
            return this.logPromptResult(t),
            this.leave(),
            this.request.trigger("save", {
                send: !0
            })
        }
        ,
        e.prototype.archive = function(t) {
            var e;
            return this.logPromptResult(t),
            this.request.trigger("save"),
            (e = new App.Models.RequestTouch({
                request_id: this.request.id,
                outcome: "Unsent",
                archive: !0
            })).save(e.toJSON(), {
                xhrFields: {
                    withCredentials: !0
                },
                success: this.archiveSuccessHandler,
                error: this.archiveErrorHandler
            })
        }
        ,
        e.prototype.logPromptResult = function(t) {
            var e, i, n;
            return n = this.request.get("portal_services_url"),
            e = {
                prompt_log_id: this.prompt.log_id,
                opt_out: $(t.target).parent().find("input[name=opt_out]").is(":checked"),
                selected_action_id: $(t.target).attr("data-id")
            },
            i = {
                xhrFields: {
                    withCredentials: !0
                }
            },
            new App.Models.PromptFollowup({
                request_id: this.request.id,
                portal_services_url: n
            }).save(e, i)
        }
        ,
        e.prototype.archiveSuccessHandler = function() {
            return Backbone.history.navigate("requests", !0),
            new App.Views.Shared.Notice({
                message: "Your request was archived successfully."
            })
        }
        ,
        e.prototype.archiveErrorHandler = function() {
            return new App.Views.Shared.Error({
                message: "Your request could not be archived."
            })
        }
        ,
        e.prototype.setNeedsReviewErrors = function() {
            return _.each(this.message.triggers, (i = this,
            function(t) {
                var e;
                return null != (e = i.request.all_questions[t]) ? e.setNeedsReviewError() : void 0
            }
            ));
            var i
        }
        ,
        e.prototype.highlightFirstTrigger = function() {
            return $('[name="' + this.message.triggers[0] + '"] ').focus()
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.PromptsFoundDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/prompts_found_dialog"],
        e.prototype.className = "dialog prompt-dialog prompts-found-dialog",
        e.prototype.events = {
            'click [data-action="send_to_plan"]': "sendToPlan",
            'click [data-action="return_to_pa"]': "returnToPa"
        },
        e.prototype.initialize = function(t) {
            return this.request = t.request,
            this.prompts = t.prompts,
            this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                prompts: this.prompts
            }))
        }
        ,
        e.prototype.returnToPa = function() {
            return this.leave(),
            this.removeOldInlinePrompts(),
            this.displayNewInlinePrompts()
        }
        ,
        e.prototype.sendToPlan = function() {
            return this.leave(),
            this.request.trigger("save", {
                send: !0
            })
        }
        ,
        e.prototype.displayNewInlinePrompts = function() {
            return this.newInlinePromptsDialog().showPrompts()
        }
        ,
        e.prototype.newInlinePromptsDialog = function() {
            return new App.Views.Requests.Edit.InlinePromptDialog({
                prompts: this.prompts,
                request: this.request
            })
        }
        ,
        e.prototype.removeOldInlinePrompts = function() {
            return this.inlinePrompts = $("." + App.Views.Requests.Edit.InlinePromptDialog.PROMPT_INLINE_CLASS),
            this.inlinePrompts.remove(),
            $("." + App.Views.Requests.Edit.InlinePromptDialog.PROMPT_BACKGROUND_CLASS).removeClass(App.Views.Requests.Edit.InlinePromptDialog.PROMPT_BACKGROUND_CLASS)
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.Question = function(t) {
        function e() {
            return this.clearAnswersAndRestFlag = i(this.clearAnswersAndRestFlag, this),
            this.setAttachmentRequired = i(this.setAttachmentRequired, this),
            this.setVisibility = i(this.setVisibility, this),
            this.toggleVisibility = i(this.toggleVisibility, this),
            this.render = i(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.className = "question",
        e.prototype.initialize = function() {
            var e;
            if (this.request = this.options.request,
            this.section = this.options.section,
            this.sectionOrder = this.section.get("order"),
            this.file_upload_question = this.request.getFirstUploadQuestion(),
            this.model.condition_groups.conditionalQuestions(this.section).each((e = this,
            function(t) {
                if (t)
                    return e.bindTo(t, "change", e.setVisibility)
            }
            )),
            this.bindTo(this.model, "change:visible", this.toggleVisibility),
            !this.request.stubFormRequiresAttachment())
                return this.bindTo(this.model, "change:visible", this.setAttachmentRequired)
        }
        ,
        e.prototype.render = function() {
            switch (this.model.get("type")) {
            case "text":
                this.renderChildInto($(this.el), new App.Views.Requests.Edit.QuestionText({
                    model: this.model,
                    request: this.request
                }));
                break;
            case "textarea":
                this.renderChildInto($(this.el), new App.Views.Requests.Edit.QuestionTextarea({
                    model: this.model,
                    request: this.request
                }));
                break;
            case "date":
                this.renderChildInto($(this.el), new App.Views.Requests.Edit.QuestionDate({
                    model: this.model,
                    request: this.request
                }));
                break;
            case "dropdown":
                this.renderChildInto($(this.el), new App.Views.Requests.Edit.QuestionDropdown({
                    model: this.model,
                    request: this.request
                }));
                break;
            case "radio":
                this.renderChildInto($(this.el), new App.Views.Requests.Edit.QuestionRadio({
                    model: this.model,
                    request: this.request,
                    sectionOrder: this.sectionOrder
                }));
                break;
            case "checkbox":
                this.renderChildInto($(this.el), new App.Views.Requests.Edit.QuestionCheckbox({
                    model: this.model,
                    request: this.request
                }));
                break;
            case "file":
                this.renderChildInto($(this.el), new App.Views.Requests.Edit.QuestionFile({
                    model: this.model,
                    request: this.request
                }));
                break;
            case "statement":
                this.renderChildInto($(this.el), new App.Views.Requests.Edit.QuestionStatement({
                    model: this.model,
                    request: this.request
                }));
                break;
            case "signature":
                this.renderChildInto($(this.el), new App.Views.Requests.Edit.QuestionSignature({
                    model: this.model,
                    request: this.request
                }))
            }
            return this.model.get("width") && $(this.el).css("width", this.model.get("width")),
            this.toggleVisibility()
        }
        ,
        e.prototype.toggleVisibility = function() {
            return $(this.el).toggle(this.model.visible())
        }
        ,
        e.prototype.setVisibility = function() {
            return this.model.setVisibility(this.section)
        }
        ,
        e.prototype.setAttachmentRequired = function() {
            if (this.file_upload_question && "statement" !== this.model.get("type")) {
                if (this.model.visible() && this.model.get("requires_attachment"))
                    return this.request.attachment_required_questions.push(this.model.get("name")),
                    this.file_upload_question.set("required", !0),
                    this.file_upload_question.required();
                if (!this.model.visible() || this.model.get("requires_attachment"))
                    return !this.model.visible() && this.model.get("requires_attachment"),
                    this.clearAnswersAndRestFlag();
                if (!(0 < this.request.attachment_required_questions.length))
                    return this.file_upload_question.set("required", !1),
                    this.file_upload_question.required()
            }
        }
        ,
        e.prototype.clearAnswersAndRestFlag = function() {
            var t, e, i, n, s;
            return -1 < (i = this.request.attachment_required_questions.indexOf(this.model.get("name"))) && this.request.attachment_required_questions.splice(i, 1),
            0 < this.request.attachment_required_questions.length || (this.file_upload_question.set("required", !1),
            this.file_upload_question.required()),
            "radio" === (n = this.model.get("type")) && (t = this.model.get("answer")) && this.$('input[value="' + t + '"]').attr("checked", !1),
            "checkbox" === n && (this.model.get("answer") && (e = this.model.get("answer")),
            _.each(e, (s = this,
            function(t) {
                return s.$('input[value="' + t + '"]').attr("checked", !1)
            }
            ))),
            this.model.set({
                answer: null,
                answer_text: null
            })
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.QuestionCheckbox = function(t) {
        function e() {
            return this.selectChoices = i(this.selectChoices, this),
            this.setupChoices = i(this.setupChoices, this),
            this.choiceRequiresAttachment = i(this.choiceRequiresAttachment, this),
            this.update = i(this.update, this),
            this.render = i(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/question_checkbox"],
        e.prototype.initialize = function() {
            return this.request = this.options.request,
            this.file_upload_question = this.request.getFirstUploadQuestion()
        }
        ,
        e.prototype.events = {
            "change input": "update"
        },
        e.prototype.render = function() {
            if ($(this.el).html(this.template({
                text: this.model.get("text"),
                name: this.model.get("name"),
                datasource_type: this.model.get("datasource_type"),
                choices: this.model.choices
            })),
            this.model.hasAutomaticDatasource() ? this.setupChoices() : this.selectChoices(),
            this.model.get("disabled"))
                return this.$("input").attr("disabled", !0)
        }
        ,
        e.prototype.update = function() {
            var t, e, i, n, s;
            if (this.model.hasAutomaticDatasource() ? (i = this.$("input:checked"),
            t = _.map(i, function(t) {
                return $(t).val()
            }),
            e = _.map(choices, function(t) {
                return $(t).parent().text()
            })) : (i = this.model.choices.filter((s = this,
            function(t) {
                return s.$('input[value="' + t.get("name") + '"]').is(":checked")
            }
            )),
            this.request.stubFormRequiresAttachment() || this.choiceRequiresAttachment(i),
            t = _.map(i, function(t) {
                return t.get("name")
            }),
            e = _.map(i, function(t) {
                return t.get("text")
            })),
            this.model.set({
                answer: t,
                answer_text: e
            }),
            n = this.model.get("selection_count_written_to_question"))
                return this.request.findQuestion(n).set({
                    answer: i.length,
                    answer_text: "" + i.length
                })
        }
        ,
        e.prototype.choiceRequiresAttachment = function(t) {
            var e, i, n;
            if (this.file_upload_question && (n = this.model.get("name"),
            e = _.map(t, function(t) {
                return t.get("requires_attachment_choice")
            }),
            !this.model.get("requires_attachment")))
                if (-1 < e.indexOf(!0)) {
                    if (this.file_upload_question.set("required", !0),
                    this.file_upload_question.required(),
                    this.request.attachment_required_questions.indexOf(n) < 0)
                        return this.request.attachment_required_questions.push(n)
                } else if (-1 < (i = this.request.attachment_required_questions.indexOf(n)) && this.request.attachment_required_questions.splice(i, 1),
                !(0 < this.request.attachment_required_questions.length))
                    return this.file_upload_question.set("required", !1),
                    this.file_upload_question.required()
        }
        ,
        e.prototype.setupChoices = function() {
            return $.ajax({
                url: this.model.datasourceUrl(),
                dataType: "jsonp",
                success: (e = this,
                function(t) {
                    return _.each(t, function(t) {
                        return $("<label><input type='checkbox' name='" + e.model.get("name") + "' value='" + t.value + "' />" + t.label + "</label>").appendTo(e.$(".choices"))
                    }),
                    _.defer(function() {
                        return e.selectChoices()
                    })
                }
                )
            });
            var e
        }
        ,
        e.prototype.selectChoices = function() {
            var t, e;
            return t = this.model.get("answer"),
            _.each(t, (e = this,
            function(t) {
                return e.$('input[value="' + t + '"]').attr("checked", !0)
            }
            ))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.QuestionDate = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/question_date"],
        e.prototype.initialize = function() {
            return this.request = this.options.request,
            this.bindTo(this.model, "setAnswer", this.setAnswer),
            this.bindTo(this.model, "previewAnswer", this.previewAnswer),
            this.bindTo(this.model, "endPreview", this.endPreview),
            this.bindTo(this.model, "blurAnswer", this.blurAnswer),
            this.bindTo(this.model, "normalizeDate", this.normalizeDate)
        }
        ,
        e.prototype.events = {
            "blur input": "validate"
        },
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                error: this.model.getError()
            })),
            Backbone.ModelBinding.bind(this),
            this.normalizeDate(),
            this.maskInput()
        }
        ,
        e.prototype.normalizeDate = function() {
            var t;
            if (this.model.get("answer_text") && this.model.get("answer_text").length < 10)
                return (t = this.model.get("answer_text").split("/"))[0].length < 2 && (t[0] = "0" + t[0]),
                t[1].length < 2 && (t[1] = "0" + t[1]),
                this.$("input").val(t.join("/"))
        }
        ,
        e.prototype.maskInput = function() {
            return this.$("input").mask("99/99/9999")
        }
        ,
        e.prototype.validate = function() {
            return this.model.isValid()
        }
        ,
        e.prototype.setAnswer = function(t, e) {
            if (null == e && (e = {}),
            !this.model.get("disabled") || e.include_disabled)
                return this.model.set({
                    answer_text: t,
                    disabled: e.disable
                })
        }
        ,
        e.prototype.previewAnswer = function(t) {
            var e;
            if (!this.model.get("disabled"))
                return e = this.$("input"),
                this.old_text = this.model.get("answer_text"),
                e.addClass("preview"),
                e.val(t),
                this.previewing = !0
        }
        ,
        e.prototype.endPreview = function() {
            var t;
            if (!this.model.get("disabled") && this.previewing)
                return (t = this.$("input")).removeClass("preview"),
                t.val(this.old_text),
                this.old_text = null,
                this.previewing = !1
        }
        ,
        e.prototype.blurAnswer = function() {
            return this.$("input").blur()
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.QuestionDropdown = function(t) {
        function e() {
            return this.setOtherValueTextNode = i(this.setOtherValueTextNode, this),
            this.selectChoice = i(this.selectChoice, this),
            this.setupChoices = i(this.setupChoices, this),
            this.update = i(this.update, this),
            this.render = i(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/question_dropdown"],
        e.prototype.initialize = function() {
            return this.request = this.options.request,
            this.bindTo(this.model, "setAnswer", this.setAnswer),
            this.bindTo(this.model, "previewAnswer", this.previewAnswer),
            this.bindTo(this.model, "endPreview", this.endPreview),
            this.bindTo(this.model, "change:answer", this.selectChoice),
            this.bindTo(this.model, "change:disabled", this.disable)
        }
        ,
        e.prototype.events = {
            "change select": "update"
        },
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                text: this.model.get("text"),
                name: this.model.get("name"),
                datasource_type: this.model.get("datasource_type"),
                choices: this.model.choices
            })),
            this.model.hasAutomaticDatasource() ? this.setupChoices() : (this.selectChoice(),
            this.update()),
            this.disable()
        }
        ,
        e.prototype.disable = function() {
            return this.$("select").attr("disabled", this.model.get("disabled"))
        }
        ,
        e.prototype.update = function() {
            var t;
            return t = this.$("option:selected"),
            this.model.set({
                answer: t.val(),
                answer_text: t.text()
            })
        }
        ,
        e.prototype.setupChoices = function() {
            return $.ajax({
                url: this.model.datasourceUrl(),
                dataType: "jsonp",
                data: {
                    request_created_at: this.request.get("created_at")
                },
                success: (e = this,
                function(t) {
                    return _.each(t, function(t) {
                        return $("<option>" + t.label + "</option>").attr("value", t.value).appendTo(e.$("select"))
                    }),
                    _.defer(function() {
                        return e.selectChoice()
                    })
                }
                )
            });
            var e
        }
        ,
        e.prototype.selectChoice = function() {
            var t, e, i, n;
            return t = this.model.get("answer"),
            i = this.$("select"),
            this.containsAnswer(t) ? i.val(t) : this.containsOther() ? (e = this.model.get("name"),
            i.val("other"),
            i.change(),
            _.defer((n = this,
            function() {
                return n.setOtherValueTextNode(e, t)
            }
            ))) : void 0
        }
        ,
        e.prototype.setOtherValueTextNode = function(t, e) {
            var i;
            return (i = $("input[name='" + t + "_other']")).val(e),
            i.change()
        }
        ,
        e.prototype.containsAnswer = function(t) {
            return 0 < this.$("select option[value='" + t + "']").length
        }
        ,
        e.prototype.containsOther = function() {
            return 0 < this.$("select option[value='other']").length
        }
        ,
        e.prototype.setAnswer = function(t, e) {
            if (null == e && (e = {}),
            !this.model.get("disabled") || e.include_disabled)
                return this.$("select").val(t),
                this.model.set({
                    disabled: e.disable
                }),
                this.update()
        }
        ,
        e.prototype.previewAnswer = function(t) {
            if (!this.model.get("disabled"))
                return this.old_text = this.model.get("answer"),
                this.$("select").val(t),
                this.previewing = !0
        }
        ,
        e.prototype.endPreview = function() {
            if (!this.model.get("disabled") && this.previewing)
                return this.$("select").val(this.old_text),
                this.old_text = null,
                this.previewing = !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.QuestionFile = function(t) {
        function e() {
            return this.toggleDeleteAttachmentLink = i(this.toggleDeleteAttachmentLink, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/question_file"],
        e.prototype.initialize = function() {
            return this.request = this.options.request,
            this.model.on("change:disabled", this.toggleDeleteAttachmentLink),
            this.setFileUpdatingOnQuestion(!1)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                attachment_name: this.model.get("answer_text"),
                classname: this.model.get("name")
            })),
            Backbone.ModelBinding.bind(this),
            _.defer((t = this,
            function() {
                return t.toggleDeleteAttachmentLink()
            }
            ));
            var t
        }
        ,
        e.prototype.events = {
            "change input": "update",
            "click .open": "open",
            "click .delete": "delete"
        },
        e.prototype.toggleDeleteAttachmentLink = function() {
            var t;
            return t = !this.model.get("disabled"),
            this.$(".delete delete-attachment").toggle(t)
        }
        ,
        e.prototype.update = function() {
            return this.setFileUpdatingOnQuestion(!0),
            $.ajax({
                url: "/api/requests/" + this.request.id + "/attachments/" + this.model.get("name"),
                files: this.$("input"),
                iframe: !0,
                dataType: "json",
                complete: (r = this,
                function(t) {
                    var e, i, n;
                    try {
                        return r.setFileUpdatingOnQuestion(!1),
                        i = JSON.parse(t.responseText),
                        r.$("input").val(""),
                        i.errors ? void r.openDialog(new App.Views.Requests.Edit.AttachmentErrorDialog({
                            errors: i.errors
                        })) : (r.model.set({
                            answer_text: i.filename
                        }),
                        $.isNumeric(i.size) ? (n = i.size / 1e6,
                        r.model.set({
                            attachment_size: n.toFixed(2) + " MB"
                        })) : $(".file-size").remove(),
                        e = r.model.get("name"),
                        r.$("input").addClass(e),
                        $("." + e).css("width", "80px"),
                        r.request.trigger("save"))
                    } catch (s) {
                        return r.openDialog(new App.Views.Requests.Edit.AttachmentErrorDialog({
                            errors: '{"errors":[{"status":500,"message":"An error occurred while processing your upload. Please reload the page and try again."}]}'
                        }))
                    }
                }
                )
            });
            var r
        }
        ,
        e.prototype.open = function() {
            return window.open("/api/requests/" + this.request.id + "/attachments/" + this.model.get("name")),
            !1
        }
        ,
        e.prototype["delete"] = function() {
            var t, e;
            return this.setFileUpdatingOnQuestion(!0),
            $.ajax({
                url: "/api/requests/" + this.request.id + "/attachments/" + this.model.get("name"),
                type: "DELETE",
                success: (e = this,
                function() {
                    var t;
                    return t = e.model.get("name"),
                    e.model.set("answer_text", ""),
                    $("." + t).css("width", "auto"),
                    e.request.trigger("save")
                }
                ),
                complete: (t = this,
                function() {
                    return t.setFileUpdatingOnQuestion(!1)
                }
                )
            }),
            !1
        }
        ,
        e.prototype.setFileUpdatingOnQuestion = function(t) {
            return this.model.setFileUpdating(t)
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.QuestionRadio = function(t) {
        function e() {
            return this.choiceRequiresAttachment = i(this.choiceRequiresAttachment, this),
            this.prefixed_question_name = i(this.prefixed_question_name, this),
            this.selectChoice = i(this.selectChoice, this),
            this.setupChoices = i(this.setupChoices, this),
            this.update = i(this.update, this),
            this.render = i(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/question_radio"],
        e.prototype.initialize = function() {
            return this.request = this.options.request,
            this.sectionOrder = this.options.sectionOrder,
            this.file_upload_question = this.request.getFirstUploadQuestion(),
            this.bindTo(this.model, "setAnswer", this.setAnswer),
            this.bindTo(this.model, "previewAnswer", this.previewAnswer),
            this.bindTo(this.model, "endPreview", this.endPreview),
            this.bindTo(this.model, "change:answer", this.render),
            this.bindTo(this.model, "change:disabled", this.disable)
        }
        ,
        e.prototype.events = {
            "change input": "update"
        },
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                text: this.model.get("text"),
                name: this.prefixed_question_name(),
                datasource_type: this.model.get("datasource_type"),
                choices: this.model.choices
            })),
            this.model.hasAutomaticDatasource() ? this.setupChoices() : this.selectChoice(),
            this.disable()
        }
        ,
        e.prototype.disable = function() {
            return this.$("input").attr("disabled", this.model.get("disabled"))
        }
        ,
        e.prototype.update = function() {
            var t, e, i;
            return this.model.hasAutomaticDatasource() ? (e = this.$("input:checked"),
            this.model.set({
                answer: e.val(),
                answer_text: e.parent().text()
            })) : (t = this.model.choices.find((i = this,
            function(t) {
                return t.get("name") === i.$("input:checked").val()
            }
            )),
            this.request.stubFormRequiresAttachment() || this.choiceRequiresAttachment(t),
            t ? this.model.set({
                answer: t.get("name"),
                answer_text: t.get("text")
            }) : void 0)
        }
        ,
        e.prototype.setupChoices = function() {
            return $.ajax({
                url: this.model.datasourceUrl(),
                dataType: "jsonp",
                success: (e = this,
                function(t) {
                    return _.each(t, function(t) {
                        return $("<label><input type='radio' name='" + e.prefixed_question_name() + "' value='" + t.value + "' />" + t.label + "</label>").appendTo(e.$(".choices"))
                    }),
                    _.defer(function() {
                        return e.selectChoice()
                    })
                }
                )
            });
            var e
        }
        ,
        e.prototype.selectChoice = function() {
            var t;
            return t = this.model.get("answer"),
            this.$('input[value="' + t + '"]').attr("checked", !0)
        }
        ,
        e.prototype.prefixed_question_name = function() {
            return "S" + this.sectionOrder + "-" + this.model.get("name")
        }
        ,
        e.prototype.choiceRequiresAttachment = function(t) {
            var e;
            if (this.file_upload_question && !this.model.get("requires_attachment")) {
                if (null != t ? t.get("requires_attachment_choice") : void 0)
                    return this.file_upload_question.set("required", !0),
                    this.file_upload_question.required(),
                    this.request.attachment_required_questions.push(this.model.get("name"));
                if (-1 < (e = this.request.attachment_required_questions.indexOf(this.model.get("name"))) && this.request.attachment_required_questions.splice(e, 1),
                !(0 < this.request.attachment_required_questions.length))
                    return this.file_upload_question.set("required", !1),
                    this.file_upload_question.required()
            }
        }
        ,
        e.prototype.setAnswer = function(e, t) {
            if (null == t && (t = {}),
            !this.model.get("disabled") || t.include_disabled)
                return $('input[type=radio][name="' + this.prefixed_question_name() + '"][value]').filter(function() {
                    var t;
                    return (null != (t = this.value) ? t.toLowerCase() : void 0) === (null != e ? e.toLowerCase() : void 0)
                }).click(),
                this.model.set({
                    disabled: t.disable
                }),
                this.update()
        }
        ,
        e.prototype.previewAnswer = function(t) {
            if (!this.model.get("disabled"))
                return this.old_text = this.model.get("answer"),
                this.$("input").attr("checked", !1),
                this.$("input[value=" + t + "]").attr("checked", !0),
                this.previewing = !0
        }
        ,
        e.prototype.endPreview = function() {
            if (!this.model.get("disabled") && this.previewing)
                return this.$("input").attr("checked", !1),
                this.$("input[value=" + this.old_text + "]").attr("checked", !0),
                this.old_text = null,
                this.previewing = !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.QuestionSignature = function(t) {
        function e() {
            return this.changeSignature = i(this.changeSignature, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/question_signature"],
        e.prototype.events = {
            "change select": "changeSignature",
            "click .patient_sign": "openSignatureDialog"
        },
        e.prototype.initialize = function() {
            return this.request = this.options.request,
            this.is_ehr = this.request.get("is_ehr"),
            this.signatures = new App.Collections.Signatures({
                portal_services_url: this.request.get("portal_services_url"),
                request_id: this.request.id
            }),
            this.bindTo(this.model, "change:answer", this.draw),
            this.bindTo(this.model, "change:disabled", this.disable),
            this.bindTo(this.signatures, "add", this.addSignature)
        }
        ,
        e.prototype.render = function() {
            var t;
            return $(this.el).html(this.template({
                name: this.model.get("name"),
                is_patient_signature: this.isPatientSignature()
            })),
            this.signatures.fetch({
                xhrFields: {
                    withCredentials: !0
                },
                success: (t = this,
                function() {
                    return t.renderSignatures(),
                    t.draw()
                }
                )
            }),
            this.disable()
        }
        ,
        e.prototype.disable = function() {
            if (this.model.get("disabled"))
                return this.$("select").attr("disabled", !0),
                this.$("a").hide()
        }
        ,
        e.prototype.isPatientSignature = function() {
            return this.model.get("name").match(/patient/)
        }
        ,
        e.prototype.renderSignatures = function() {
            if (!this.isPatientSignature())
                return this.$("select").empty(),
                this.$("select").append("<option></option>"),
                this.signatures.each((i = this,
                function(t) {
                    var e;
                    if (t.get("physician_name"))
                        return i.$("select").append("<option value=" + t.id + " " + (t.id === (null != (e = i.model.get("answer")) ? e.signature_id : void 0) ? "selected" : void 0) + ">" + t.get("physician_name") + "</option>")
                }
                )),
                this.$("select").append("<option value='new'>New Signature</option>");
            var i
        }
        ,
        e.prototype.addSignature = function(t) {
            return this.setSignature(t),
            this.renderSignatures()
        }
        ,
        e.prototype.changeSignature = function(t) {
            var e, i, n;
            return this.hideErrorMessage(),
            "new" === (n = (e = $(t.currentTarget)).val()) ? (this.openSignatureDialog(),
            e.val("")) : (i = this.getSignature(n),
            this.setSignature(i))
        }
        ,
        e.prototype.getSignature = function(t) {
            var e, i;
            return i = this.signatures.get(t),
            0 !== (null != (e = JSON.parse(i.get("sigpath"))) ? e.length : void 0) || this.is_ehr || (i = null,
            this.displayErrorMessage()),
            i
        }
        ,
        e.prototype.displayErrorMessage = function() {
            return this.$(".error_message").css("display", "block")
        }
        ,
        e.prototype.hideErrorMessage = function() {
            return this.$(".error_message").css("display", "none")
        }
        ,
        e.prototype.openSignatureDialog = function() {
            var t;
            return this.hideErrorMessage(),
            t = this.model.get("name"),
            this.openDialog(new App.Views.Requests.Edit.NewSignatureDialog({
                collection: this.signatures,
                question_name: t,
                is_ehr: this.is_ehr
            }))
        }
        ,
        e.prototype.setSignature = function(t) {
            var e;
            return e = t ? {
                signature_id: t.id,
                points: JSON.parse(t.get("sigpath")),
                name: t.get("physician_name")
            } : null,
            this.model.set({
                answer: e
            })
        }
        ,
        e.prototype.draw = function() {
            var t, e, i, n, s, r, o, a, l;
            if (o = null != (a = this.model.get("answer")) ? a.points : void 0,
            s = this.model.get("name"),
            e = document.getElementById(s),
            "undefined" != typeof window.G_vmlCanvasManager && (e = window.G_vmlCanvasManager.initElement(e)),
            (t = e.getContext("2d")).clearRect(0, 0, 500, 500),
            o) {
                for (t.strokeStyle = "#008",
                t.lineWidth = 1,
                t.beginPath(),
                l = [],
                i = 0,
                n = o.length; i < n; i++)
                    1 === (r = o[i])[0] ? l.push(t.moveTo(r[1], r[2])) : (t.lineTo(r[1], r[2]),
                    l.push(t.stroke()));
                return l
            }
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.QuestionStatement = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/question_statement"],
        e.prototype.initialize = function() {
            return this.request = this.options.request
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template),
            Backbone.ModelBinding.bind(this)
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.QuestionTarget = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/question_target"],
        e.prototype.tagName = "section",
        e.prototype.className = "question-target-section",
        e.prototype.initialize = function(t) {
            return this.question_target_body = t.question.body
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                question_target_body: this.question_target_body
            }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.QuestionText = function(t) {
        function e() {
            return this.selectText = i(this.selectText, this),
            this.clear = i(this.clear, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/question_text"],
        e.prototype.initialize = function() {
            return this.request = this.options.request,
            this.bindTo(this.model, "setAnswer", this.setAnswer),
            this.bindTo(this.model, "previewAnswer", this.previewAnswer),
            this.bindTo(this.model, "endPreview", this.endPreview),
            this.bindTo(this.model, "blurAnswer", this.blurAnswer)
        }
        ,
        e.prototype.events = {
            "blur input": "validate"
        },
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                name: this.model.get("name"),
                error: this.model.getError()
            })),
            this.model.hasDatasource() && this.setupDatasource(),
            Backbone.ModelBinding.bind(this),
            this.maskInput()
        }
        ,
        e.prototype.validate = function() {
            return this.model.isValid()
        }
        ,
        e.prototype.maskInput = function() {
            var t;
            if (t = this.model.get("mask"))
                return this.$("input").mask(t)
        }
        ,
        e.prototype.setupDatasource = function() {
            var t, e, i;
            return this.model.hasAutomaticDatasource() ? (e = this.model.get("datasource_preset"),
            _.startsWith(e, "diagnoses") ? t = "Begin typing diagnosis code or description and select from list" : "drugs" === e && (t = "Begin typing the medication name and select from list."),
            null != t && this.$("input").attr("placeholder", t).placeholder(),
            this.$("input").autocomplete({
                source: (i = this,
                function(t, e) {
                    return i.model.datasourceUrl().includes(App.PortalServicesUrl) ? ("diagnoses_ten" === i.model.get("datasource_preset") ? i.url = i.model.datasourceUrl() + "/requests/" + i.request.id + "/diagnosis/icd10" : "diagnoses" === i.model.get("datasource_preset") ? i.url = i.model.datasourceUrl() + "/requests/" + i.request.id + "/diagnosis/icd9" : i.url = i.model.datasourceUrl() + "/requests/" + i.request.id + "/" + i.model.get("datasource_preset"),
                    $.ajax({
                        type: "GET",
                        url: i.url,
                        xhrFields: {
                            withCredentials: !0
                        },
                        dataType: "json",
                        data: {
                            term: t.term
                        },
                        success: function(t) {
                            return e(t)
                        }
                    })) : $.ajax({
                        url: i.model.datasourceUrl(),
                        dataType: "jsonp",
                        data: {
                            term: t.term
                        },
                        success: function(t) {
                            return e(t)
                        }
                    })
                }
                ),
                minLength: 3,
                select: this.selectText,
                change: this.selectText
            })) : "manual" === this.model.get("datasource_type") ? this.$("input").autocomplete({
                source: this.model.choices.pluck("text"),
                minLength: 3,
                select: this.selectText,
                change: this.selectText
            }) : void 0
        }
        ,
        e.prototype.clear = function() {
            if (this.model.hasDatasource())
                return this.model.set({
                    answer: null,
                    answer_text: null
                })
        }
        ,
        e.prototype.selectText = function(t, e) {
            var i, n;
            return e.item ? (this.model.set({
                answer: e.item.value,
                answer_text: e.item.label
            }),
            this.$("input").val(e.item.label)) : (this.model.set({
                answer: null,
                answer_text: ""
            }),
            this.$("input").val("")),
            n = $(":focusable").toArray(),
            i = $(n[n.indexOf(this.$("input")) + 1]),
            window.setTimeout(function() {
                return i.focus()
            }, 50),
            !1
        }
        ,
        e.prototype.setAnswer = function(t, e) {
            if (null == e && (e = {}),
            !this.model.get("disabled") || e.include_disabled)
                return this.model.set({
                    answer_text: t,
                    disabled: e.disable
                }),
                this.maskInput()
        }
        ,
        e.prototype.previewAnswer = function(t) {
            var e;
            if (!this.model.get("disabled"))
                return e = this.$("input"),
                this.old_text = this.model.get("answer_text"),
                e.addClass("preview"),
                e.val(t),
                this.previewing = !0
        }
        ,
        e.prototype.endPreview = function() {
            var t;
            if (!this.model.get("disabled") && this.previewing)
                return (t = this.$("input")).removeClass("preview"),
                t.val(this.old_text),
                this.old_text = null,
                this.previewing = !1
        }
        ,
        e.prototype.blurAnswer = function() {
            return this.$("input").blur()
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.QuestionTextarea = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/question_textarea"],
        e.prototype.initialize = function() {
            return this.request = this.options.request
        }
        ,
        e.prototype.events = {
            "blur textarea": "validate"
        },
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                error: this.model.getError()
            })),
            Backbone.ModelBinding.bind(this)
        }
        ,
        e.prototype.validate = function() {
            return this.model.isValid()
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.RedisplayInlinePrompts = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.initialize = function(t) {
            return this.request = t.request,
            this.prompts = t.prompts || [],
            this.optedOutLogIds = this.checkedOptOutLogIds()
        }
        ,
        e.prototype.applicable = function() {
            return 0 < this.prompts.length
        }
        ,
        e.prototype.showPrompts = function() {
            return this.redisplayPrompts(),
            this.recheckOptedOutPrompts()
        }
        ,
        e.prototype.redisplayPrompts = function() {
            return this.newInlinePromptsDialog().showPrompts(!1)
        }
        ,
        e.prototype.newInlinePromptsDialog = function() {
            return new App.Views.Requests.Edit.InlinePromptDialog({
                prompts: this.prompts,
                request: this.request
            })
        }
        ,
        e.prototype.recheckOptedOutPrompts = function() {
            var t, e, i, n, s;
            for (s = [],
            t = 0,
            i = (n = this.optedOutLogIds).length; t < i; t++)
                e = n[t],
                s.push($('[data-prompt-log-id="' + e + '"]').prop("checked", !0));
            return s
        }
        ,
        e.prototype.checkedOptOutLogIds = function() {
            var t, e, i, n, s;
            for (s = [],
            t = 0,
            e = (n = this.checkedOptOutBoxes()).length; t < e; t++)
                i = n[t],
                s.push(i.attributes["data-prompt-log-id"].value);
            return s
        }
        ,
        e.prototype.checkedOptOutBoxes = function() {
            return $("input[name=opt_out]:checked")
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.ReferenceMaterial = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/reference_material"],
        e.prototype.tagName = "section",
        e.prototype.initialize = function(t) {
            return this.ref_material = t.body
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                reference_material_body: this.ref_material
            }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.Reminder = function(t) {
        function e() {
            return this.fetch = i(this.fetch, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/reminder"],
        e.prototype.id = "reminders_view",
        e.prototype.events = {
            "click #reminder a.newer": "showNewer",
            "click #reminder a.older": "showOlder",
            "click .remind_dismiss": "deleteReminder"
        },
        e.prototype.initialize = function() {
            return this.bindTo(this.collection, "remove sync", this.render),
            this.fetch()
        }
        ,
        e.prototype.fetch = function() {
            return this.index = 0,
            this.collection.fetch({
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "Could not load reminders"
                    })
                }
            })
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                items: this.collection.models.slice(this.index, this.index + 5),
                has_newer: this.hasNewer(),
                has_older: this.hasOlder()
            }))
        }
        ,
        e.prototype.hasNewer = function() {
            return 0 < this.index
        }
        ,
        e.prototype.hasOlder = function() {
            return this.index + 5 < this.collection.length
        }
        ,
        e.prototype.deleteReminder = function(t) {
            var e;
            return e = $(t.target).data("id"),
            this.collection.get(e).destroy({
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "Could not delete"
                    })
                }
            })
        }
        ,
        e.prototype.showNewer = function() {
            return this.index -= 5,
            this.render(),
            !1
        }
        ,
        e.prototype.showOlder = function() {
            return this.index += 5,
            this.render(),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.RenewalDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/renewal_dialog"],
        e.prototype.className = "dialog renewal-dialog",
        e.prototype.events = {
            "click .close": "leave",
            "click button.renew": "renew"
        },
        e.prototype.initialize = function() {
            return this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                drug: this.model.get("drug"),
                patient_name: this.model.get("patient_fname") + " " + this.model.get("patient_lname"),
                form_description: this.model.get("form_description")
            }))
        }
        ,
        e.prototype.renew = function() {
            var t;
            return t = $("input[name=dismiss_renewal_dialog]").is(":checked"),
            this.model.renew(t),
            this.leave(),
            this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.ReviewButton = function(t) {
        function e() {
            return this.promptErrorHandler = i(this.promptErrorHandler, this),
            this.promptSuccessHandler = i(this.promptSuccessHandler, this),
            this.handlePrompt = i(this.handlePrompt, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/review_button"],
        e.prototype.events = {
            "click .review_responses": "reviewResponses"
        },
        e.prototype.initialize = function() {
            return this.bindTo(this.model.sections, "change reset", this.toggleSend),
            this.bindTo(this.model, "change:eligibility_status", this.toggleSend),
            this.bindTo(this.model, "change:permission_to_call_patient", this.toggleSend),
            this.bindTo(this.model, "change:pharmacy_info", this.toggleSend),
            this.bindTo(this.model, "change:pharmacy_sent_rx", this.toggleSend),
            this.bindTo(this.model, "change:pharmacy_info_v2", this.toggleSend)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                button_text: this.buttonText()
            })),
            this.setClasses(),
            this.toggleSend()
        }
        ,
        e.prototype.buttonText = function() {
            return "Review Key Responses"
        }
        ,
        e.prototype.setClasses = function() {
            if (!App.User.get("central"))
                return this.$("a.review_responses").addClass("api-configurable orange")
        }
        ,
        e.prototype.toggleSend = function() {
            return this.$("a.review_responses").toggleClass("disabled", !this.model.sendable())
        }
        ,
        e.prototype.shouldSendVerificationFax = function() {
            var t;
            return !0 === this.model.get("use_npi_verifications") && !0 === (null != (t = this.model.npiVerification()) ? t.get("shouldSendVerificationFax") : void 0)
        }
        ,
        e.prototype.reviewResponses = function() {
            return $(".review_responses").hasClass("disabled") || this.model.sendable() && (this.model.masqueraded() ? this.openDialog(new App.Views.Requests.Edit.MasqueradingSendToPlanDialog({
                model: this.model,
                sendToPlanButton: this
            })) : this.doReviewActions()),
            !1
        }
        ,
        e.prototype.doReviewActions = function() {
            if (this.shouldSendVerificationFax())
                try {
                    this.model.npiVerification().sendVerificationFax(this.model)
                } catch (t) {}
            switch (this.model.status()) {
            case "New":
            case "Question Response":
                return this.handlePrompt()
            }
        }
        ,
        e.prototype.saveAndSendToPlan = function() {
            return this.model.trigger("save", {
                send: !0
            })
        }
        ,
        e.prototype.handlePrompt = function() {
            var t, e, i;
            return t = new App.Services.PromptRequestBuilder(this.model),
            $.ajax({
                type: "POST",
                url: this.model.get("portal_services_url") + "/requests/" + this.model.id + "/prompts/retrieve",
                data: {
                    details: t.build(),
                    drug_id: this.model.drugDDID(),
                    form_id: this.model.form_id()
                },
                xhrFields: {
                    withCredentials: !0
                },
                success: (i = this,
                function(t) {
                    return i.promptSuccessHandler(t)
                }
                ),
                error: (e = this,
                function() {
                    return e.promptErrorHandler()
                }
                )
            }),
            this.unbindFromAll(),
            this.$("a.review_responses").addClass("disabled")
        }
        ,
        e.prototype.promptSuccessHandler = function(t) {
            return 0 < t.messages.length ? this.openDialog(new App.Views.Requests.Edit.PromptDialog({
                prompt: t,
                request: this.model
            })) : this.openDialog(new App.Views.Requests.Edit.DefaultPromptDialog({
                request: this.model
            }))
        }
        ,
        e.prototype.promptErrorHandler = function() {
            return alert("Unable to to return prompt, please try to send to plan")
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.Row = function(t) {
        function e() {
            return this.setVisibility = i(this.setVisibility, this),
            this.toggleVisibility = i(this.toggleVisibility, this),
            this.displayImportant = i(this.displayImportant, this),
            this.displayRequired = i(this.displayRequired, this),
            this.render = i(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/row"],
        e.prototype.className = "row",
        e.prototype.events = {
            "click a.delete": "delete"
        },
        e.prototype.initialize = function() {
            var e, i, n;
            return this.request = this.options.request,
            this.section = this.options.section,
            this.model.questions.each((e = this,
            function(t) {
                return e.bindTo(t, "change", e.displayRequired)
            }
            )),
            this.model.questions.each((i = this,
            function(t) {
                return i.bindTo(t, "change", i.displayImportant)
            }
            )),
            this.model.condition_groups.conditionalQuestions(this.section).each((n = this,
            function(t) {
                if (t)
                    return n.bindTo(t, "change", n.setVisibility)
            }
            )),
            this.bindTo(this.model, "change:visible", this.toggleVisibility)
        }
        ,
        e.prototype.render = function() {
            var i;
            return $(this.el).html(this.template),
            Backbone.ModelBinding.bind(this),
            this.displayRequired(),
            this.displayImportant(),
            this.displayQuestionMark(),
            this.model.questions.each((i = this,
            function(t) {
                var e;
                if (i.appendChildInto(i.$(".questions"), new App.Views.Requests.Edit.Question({
                    model: t,
                    request: i.request,
                    section: i.section
                })),
                i.shouldInsertPermissionToCallPatient(t))
                    return e = new App.Views.Requests.Edit.PermissionToCallPatient({
                        model: i.request
                    }),
                    i.$(".questions").append(e.el)
            }
            )),
            this.toggleVisibility()
        }
        ,
        e.prototype.displayRequired = function() {
            return $(this.el).toggleClass("tag", this.model.required() || this.model.important()),
            this.$(".content").toggleClass("required", this.model.required())
        }
        ,
        e.prototype.displayImportant = function() {
            return $(this.el).toggleClass("tag", this.model.important() || this.model.required()),
            this.$(".content").toggleClass("important", this.model.important())
        }
        ,
        e.prototype.displayQuestionMark = function() {
            return $(this.el).toggleClass("question", _.isEmpty(this.model.get("text")))
        }
        ,
        e.prototype.toggleVisibility = function() {
            return $(this.el).toggle(this.model.visible() && !this.model.invisible_to_user())
        }
        ,
        e.prototype.setVisibility = function() {
            return this.model.setVisibility(this.section)
        }
        ,
        e.prototype["delete"] = function() {
            return this.leave(),
            this.model.collection.remove(this.model),
            !1
        }
        ,
        e.prototype.shouldInsertPermissionToCallPatient = function(t) {
            return this.request.get("include_permission_to_call_patient") && "patient_phone" === t.get("name")
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.ScriptHeroNotifier = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/script_hero_notifier"],
        e.prototype.initialize = function(t) {
            return this.shNotifierBody = t.shNotifierBody
        }
        ,
        e.prototype.render = function() {
            return $("#scripthero_notifier").html(this.template({
                sh_notifier_body: this.shNotifierBody
            }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.Section = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/section"],
        e.prototype.tagName = "section",
        e.prototype.VALIDATION_ERROR_RE = /Please correct the following fields/i,
        e.prototype.NPI_NOT_FOUND = "We could not find a provider associated with this NPI. Please double check that the NPI number is correct or update your information in the NPPES database at https://nppes.cms.hhs.gov",
        e.prototype.events = {
            "click .arrow": "toggle",
            "click .add-row a": "addRow",
            "click .renewal-verification-required": "toggleRenewalVerificationCheckBox",
            "click .change_form": "changeForm"
        },
        e.prototype.initialize = function() {
            var t;
            if (this.request = this.options.request,
            this.bindTo(this.model, "change:sent", this.hideAddRow),
            null != (t = this.request.npiVerification()) && t.set("shouldSendVerificationFax", !1),
            !0 === this.shouldHandleNPIVerification())
                return _.extend(this.events, {
                    "keyup input[name=provider_npi]": "getNpiVerification"
                }),
                this.bindTo(this.model, "addressBook:selection", this.getNpiVerification),
                this.bindTo(this.model, "clear:npiFields", this.clearNpiFields),
                !0 === this.request.get("use_npi_dialog") ? this.request.npiVerification().loadVerifiedNpis().always(this.npi_dialog.bind(this)) : this.request.npiVerification().loadVerifiedNpis()
        }
        ,
        e.prototype.render = function() {
            var e;
            if ($(this.el).html(this.template({
                enableFormChangeButton: this.is_esi_to_anthem_message()
            })),
            this.model.get("hidden") && $(this.el).hide(),
            Backbone.ModelBinding.bind(this),
            this.renderAddressbook(),
            this.renderError(),
            this.model.rows.each((e = this,
            function(t) {
                return e.renderRow(t)
            }
            )),
            this.model.renewalVerificationRequired() && (this.$("header").addClass("renewal-verification-required"),
            this.$("header").find(".renewal-verification").addClass("renewal-verification-unchecked"),
            this.$("header").find(".verify-renewal-text").text(this.model.renewalVerificationText)),
            this.renderEligibility(),
            this.hideAddRow(),
            $(this.el).attr("id", this.model.get("text").replace(/\s+/g, "-").toLowerCase() + "-section"),
            !0 === this.shouldHandleNPIVerification())
                return _.defer(function() {
                    return $("input[name='provider_fax']").parents(".question").after("<div class='question provider_npi_fax'></div>")
                })
        }
        ,
        e.prototype.toggleRenewalVerificationCheckBox = function() {
            return this.model.getRenewalVerified() ? (this.$("header .renewal-verification").addClass("renewal-verification-unchecked").removeClass("renewal-verification-checked"),
            this.model.setRenewalVerified(!1)) : (this.$("header .renewal-verification").addClass("renewal-verification-checked").removeClass("renewal-verification-unchecked"),
            this.model.setRenewalVerified(!0))
        }
        ,
        e.prototype.hideAddRow = function() {
            if (this.request.expired() || this.request.cancelled() || this.request.deleted() || this.model.get("sent"))
                return this.$(".add-row").hide()
        }
        ,
        e.prototype.renderAddressbook = function() {
            if (this.model.get("addressbook") && this.request.get("addressbook_enabled"))
                return this.appendChildInto(this.$(".summary div"), new App.Views.Requests.Edit.Addressbook({
                    model: this.request,
                    section: this.model
                }))
        }
        ,
        e.prototype.renderEligibility = function() {
            return !this.model.get("eligibility") || this.model.get("sent") || App.User.get("anonymous") ? this.model.get("eligibility_required") && !this.model.get("eligibility") || this.model.get("sent") ? this.model.set("eligibility_required", !1) : void 0 : this.appendChildInto(this.$(".rows"), new App.Views.Requests.Edit.Eligibility({
                model: this.request,
                section: this.model
            }))
        }
        ,
        e.prototype.renderError = function() {
            return "error" === this.model.get("name") ? ($(this.el).addClass("error"),
            this.$("p.description").html(this.buildError())) : this.$(".caution").remove()
        }
        ,
        e.prototype.buildError = function() {
            var t, e, i;
            return (t = this.model.get("description")) && t.match(this.VALIDATION_ERROR_RE) ? (e = t.split("\n"),
            i = $("<ul/>").text(e.shift()),
            $.each(e, function(t, e) {
                return $(i).append($("<li/>").text(e))
            }),
            $("<p/>").append(i).html()) : t
        }
        ,
        e.prototype.renderRow = function(t) {
            return this.appendChildInto(this.$(".rows"), new App.Views.Requests.Edit.Row({
                model: t,
                request: this.request,
                section: this.model
            }))
        }
        ,
        e.prototype.toggle = function() {
            return this.model.set({
                collapsed: !this.model.get("collapsed")
            })
        }
        ,
        e.prototype.is_esi_to_anthem_message = function() {
            return this.model.get("recommend_epa_form_change")
        }
        ,
        e.prototype.changeForm = function() {
            return this.request.formChangeable() && this.openDialog(new App.Views.Requests.Edit.ChangeFormDialog({
                model: this.request
            })),
            !1
        }
        ,
        e.prototype.npi_dialog = function() {
            if (!this.request.findQuestion("provider_npi").get("answer_text"))
                return this.openDialog(new App.Views.Requests.Edit.NpiDialog({
                    model: this.request
                }))
        }
        ,
        e.prototype.getNpiVerification = function() {
            var t, e, i, n, s, r;
            if (null != (r = this.request.npiVerification()) && r.set("shouldSendVerificationFax", !1),
            this.request.npiVerification().get("dialog_npi") !== (i = (s = this.request.findQuestion("provider_npi")).get("answer_text")) && ($(".npi-not-found-text").remove(),
            $(".pending-npi-text").remove(),
            !s.required()))
                return null != (e = this.request.findQuestion("provider_fax")) && e.trigger("setAnswer", "", {
                    disable: !1
                }),
                this.request.npiVerification().set("dialog_npi", i),
                null != (t = this.request.npiVerification().findPrescriberByNpi(i)) ? this.displayNpi(t) : (n = this.request.get("npi_verification_message_data").message_identifier,
                this.request.npiVerification().searchNonVerifiedNpis(i, this.request.id, n, this.npiSuccessCallback.bind(this), this.npiFailCallback.bind(this)))
        }
        ,
        e.prototype.npiFailCallback = function() {
            if ($(".provider_npi_fax").empty(),
            this.displayProviderFax(),
            0 === $(".npi-not-found-text").length)
                return $("<div class='npi-not-found-text'> <p> " + this.NPI_NOT_FOUND + " </p> <br> </div>").insertBefore($("input[name='provider_npi']"))
        }
        ,
        e.prototype.npiSuccessCallback = function(t) {
            return 0 === t.fax_numbers.length ? this.displayNpi(t) : this.verifyNpi(t)
        }
        ,
        e.prototype.displayNpi = function(t) {
            var e, i;
            return $(".provider_npi_fax").empty(),
            this.autofillProviderData(t),
            "" !== (null != (e = this.request.findQuestion("provider_fax")) ? e.get("answer_text") : void 0) && null != e.get("answer_text") || "fax" === (null != (i = t.contact_method) ? i.toLowerCase() : void 0) && e.set({
                answer_text: t.fax_number
            }),
            this.displayProviderFax()
        }
        ,
        e.prototype.verifyNpi = function(t) {
            var e;
            return this.autofillProviderData(t),
            $("input[name='provider_fax']").css("display", "none"),
            e = new App.Views.Requests.Edit.PrescriberNPIVerification({
                npi_data: t,
                request: this.request
            }),
            $(".provider_npi_fax").html(e.render()),
            e.updateFaxNumberDisplays()
        }
        ,
        e.prototype.autofillProviderData = function(t) {
            return this.request.findQuestion("provider_first_name").set({
                answer_text: t.first_name
            }),
            this.request.findQuestion("provider_last_name").set({
                answer_text: t.last_name
            })
        }
        ,
        e.prototype.displayProviderFax = function() {
            var t;
            return $("input[name='provider_fax']").css("display", "block"),
            t = this.request.findQuestion("provider_fax"),
            $("input[name='provider_fax']").mask(t.attributes.mask)
        }
        ,
        e.prototype.clearNpiFields = function() {
            var t, e;
            return $(".provider_npi_fax").empty(),
            $("input[name='provider_fax']").css("display", "block"),
            t = this.request.findQuestion("provider_fax"),
            $("input[name='provider_fax']").mask(t.attributes.mask),
            null != (e = this.request.findQuestion("provider_state")) ? e.trigger("setAnswer", "", {
                disable: !1
            }) : void 0
        }
        ,
        e.prototype.shouldHandleNPIVerification = function() {
            return !0 === this.request.get("use_npi_verifications") && !0 === this.model.isProviderSection() && this.request.active() && !this.model.get("sent")
        }
        ,
        e.prototype.addRow = function() {
            var e, t;
            return t = this.model.row.clone(),
            e = this.model.nextRowNumber(),
            t.set({
                order: e,
                deleteable: !0,
                visible: !0
            }),
            t.get("name") && t.set({
                name: t.get("name") + "_" + e
            }),
            t.questions.each(function(t) {
                if (t.get("name"))
                    return t.set({
                        name: t.get("name") + "_" + e
                    })
            }),
            this.model.rows.add(t),
            this.renderRow(t),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.SendControlDialog = function(t) {
        function e() {
            return this.cancel = i(this.cancel, this),
            this.submitAssertions = i(this.submitAssertions, this),
            this.sendToPrescriber = i(this.sendToPrescriber, this),
            this.sendToPlan = i(this.sendToPlan, this),
            this.toggleHelpText = i(this.toggleHelpText, this),
            this.renderToken = i(this.renderToken, this),
            this.renderContent = i(this.renderContent, this),
            this.render = i(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/send_control/send_control_dialog"],
        e.prototype.errorTemplate = JST["requests/edit/send_control/error"],
        e.prototype.loadingTemplate = JST["requests/edit/send_control/loading"],
        e.prototype.tokenTemplate = JST["requests/edit/send_control/token"],
        e.prototype.className = "dialog send-control-dialog",
        e.prototype.events = {
            'click [data-action="cancel"]': "cancel",
            'click [data-action="send-to-prescriber"]': "sendToPrescriber",
            'click [data-action="send-to-plan"]': "sendToPlan",
            'click [data-action="submit-assertions"]': "submitAssertions",
            'click [data-action="toggle-help-text"]': "toggleHelpText"
        },
        e.prototype.initialize = function(t) {
            var e, i;
            return this.request = t.request,
            this.token = this.request.sendControlToken(),
            this.bindTo(this.token, "sync", this.renderToken),
            this.bindTo(this.token, "request", (e = this,
            function() {
                return e.renderContent(e.loadingTemplate)
            }
            )),
            this.bindTo(this.token, "error", (i = this,
            function() {
                return i.renderContent(i.errorTemplate)
            }
            )),
            this.prependChildInto("body", new App.Views.Shared.ModalBackground),
            this.render(),
            this.token.isNew() ? this.token.save() : this.token.fetch()
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                request: this.request
            }))
        }
        ,
        e.prototype.renderContent = function(t) {
            return $(".content-container", this.el).html(t({
                request: this.request,
                token: this.token
            }))
        }
        ,
        e.prototype.renderToken = function() {
            return this.token.get("status") ? this.token.isApproved() && !this.token.hasMessaging() ? this.sendToPlan() : this.renderContent(this.tokenTemplate) : this.renderContent(this.errorTemplate)
        }
        ,
        e.prototype.toggleHelpText = function(t) {
            var e;
            return e = $(t.target).closest("a.help-text-icon").data("for"),
            $(t.target).fadeOut(125),
            $(".help-text[data-for=" + e + "]", this.el).slideToggle(125)
        }
        ,
        e.prototype.sendToPlan = function() {
            return this.request.trigger("save", {
                send: !0
            }),
            this.leave()
        }
        ,
        e.prototype.sendToPrescriber = function() {
            return this.request.shareable() && this.request.trigger("save", {
                send_prescriber: !0
            }),
            this.leave()
        }
        ,
        e.prototype.submitAssertions = function() {
            var t, e;
            if ((e = $("form", this.el)[0]) && (e.reportValidity(),
            e.checkValidity()))
                return t = $(e).serializeArray().map(function(t) {
                    return {
                        key: t.name,
                        response: "true" === t.value
                    }
                }),
                this.token.saveAssertions(t)
        }
        ,
        e.prototype.cancel = function() {
            return this.leave()
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.SendToPlanButton = function(t) {
        function e() {
            return this.reportPromptFollowups = i(this.reportPromptFollowups, this),
            this.promptErrorHandler = i(this.promptErrorHandler, this),
            this.promptSuccessHandler = i(this.promptSuccessHandler, this),
            this.handleMultiplePrompts = i(this.handleMultiplePrompts, this),
            this.handleSinglePrompt = i(this.handleSinglePrompt, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/send_to_plan_button"],
        e.prototype.events = {
            "click .send_plan": "sendPlan"
        },
        e.prototype.initialize = function() {
            return this.bindTo(this.model.sections, "change reset", this.toggleSend),
            this.bindTo(this.model, "change:eligibility_status", this.toggleSend),
            this.bindTo(this.model, "change:permission_to_call_patient", this.toggleSend),
            this.bindTo(this.model, "change:pharmacy_info", this.toggleSend),
            this.bindTo(this.model, "change:pharmacy_sent_rx", this.toggleSend),
            this.bindTo(this.model, "change:pharmacy_info_v2", this.toggleSend)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                button_text: this.buttonText()
            })),
            this.setClasses(),
            this.toggleSend()
        }
        ,
        e.prototype.buttonText = function() {
            return App.User.get("central") ? "Create Request" : this.model.get("is_enrollment") ? "Submit" : this.model.isSpecialtyForm() ? "Send to Pharmacy" : this.model.isBvForm() ? "Start Benefit Verification" : "Send to Plan"
        }
        ,
        e.prototype.setClasses = function() {
            if (!App.User.get("central"))
                return this.$("a.send_plan").addClass("action_send_plan api-configurable send-to-plan-control orange")
        }
        ,
        e.prototype.toggleSend = function() {
            return this.$("a.send_plan").toggleClass("disabled", !this.model.sendable())
        }
        ,
        e.prototype.shouldSendVerificationFax = function() {
            var t;
            return !0 === this.model.get("use_npi_verifications") && !0 === (null != (t = this.model.npiVerification()) ? t.get("shouldSendVerificationFax") : void 0)
        }
        ,
        e.prototype.sendPlan = function() {
            return this.model.sendable() && (this.model.masqueraded() ? this.openDialog(new App.Views.Requests.Edit.MasqueradingSendToPlanDialog({
                model: this.model,
                sendToPlanButton: this
            })) : this.doSendPlanActions()),
            !1
        }
        ,
        e.prototype.doSendPlanActions = function() {
            if (this.shouldSendVerificationFax())
                try {
                    this.model.npiVerification().sendVerificationFax(this.model)
                } catch (t) {}
            if (window.showTwoButtons)
                return this.saveAndSendToPlan();
            switch (this.model.status()) {
            case "New":
            case "Question Response":
                return this.handlePrompt();
            default:
                return this.saveAndSendToPlan()
            }
        }
        ,
        e.prototype.saveAndSendToPlan = function() {
            return this.model.trigger("save", {
                send: !0
            })
        }
        ,
        e.prototype.handlePrompt = function() {
            return window.showMultiplePrompts ? (this.reportPromptFollowups(),
            this.handleMultiplePrompts()) : this.handleSinglePrompt()
        }
        ,
        e.prototype.handleSinglePrompt = function() {
            var t, e, i;
            return t = new App.Services.PromptRequestBuilder(this.model),
            $.ajax({
                type: "POST",
                url: this.model.get("portal_services_url") + "/requests/" + this.model.id + "/prompts/retrieve",
                data: {
                    details: t.build(),
                    drug_id: this.model.drugDDID(),
                    form_id: this.model.form_id()
                },
                xhrFields: {
                    withCredentials: !0
                },
                success: (i = this,
                function(t) {
                    return 0 < t.messages.length ? i.promptSuccessHandler([t]) : i.promptSuccessHandler([])
                }
                ),
                error: (e = this,
                function() {
                    return e.promptErrorHandler()
                }
                )
            })
        }
        ,
        e.prototype.handleMultiplePrompts = function() {
            var t, e, i;
            return t = new App.Services.PromptRequestBuilder(this.model),
            $.ajax({
                type: "POST",
                url: this.model.get("portal_services_url") + "/requests/" + this.model.id + "/prompts/retrieve",
                data: {
                    details: t.build(),
                    drug_id: this.model.drugDDID(),
                    form_id: this.model.form_id(),
                    all_prompts: !0
                },
                xhrFields: {
                    withCredentials: !0
                },
                success: (i = this,
                function(t) {
                    return window.prompts = t.prompts,
                    i.promptSuccessHandler(t.prompts)
                }
                ),
                error: (e = this,
                function() {
                    return window.prompts = [],
                    e.promptErrorHandler()
                }
                )
            })
        }
        ,
        e.prototype.promptSuccessHandler = function(t) {
            return 0 < t.length ? window.showMultiplePrompts ? this.openDialog(new App.Views.Requests.Edit.PromptsFoundDialog({
                prompts: t,
                request: this.model
            })) : this.openDialog(new App.Views.Requests.Edit.PromptDialog({
                prompt: t[0],
                request: this.model
            })) : this.saveAndSendToPlan()
        }
        ,
        e.prototype.promptErrorHandler = function() {
            return this.saveAndSendToPlan()
        }
        ,
        e.prototype.reportPromptFollowups = function() {
            var t, e, i;
            if (0 !== (e = this.displayedPromptsFollowupData()).length)
                return t = {
                    prompt_logs: e
                },
                i = {
                    xhrFields: {
                        withCredentials: !0
                    }
                },
                this.newMultiplePromptFollowupsApi().save(t, i)
        }
        ,
        e.prototype.displayedPromptsFollowupData = function() {
            var t, e, i, n, s, r;
            for (e = [],
            i = 0,
            n = (t = $("input[name=opt_out]")).length; i < n; i++)
                r = (s = t[i]).attributes["data-prompt-log-id"].value,
                e.push({
                    id: r,
                    opt_out: s.checked
                });
            return e
        }
        ,
        e.prototype.newMultiplePromptFollowupsApi = function() {
            return new App.Models.MultiplePromptFollowups({
                request_id: this.model.id,
                portal_services_url: this.model.get("portal_services_url")
            })
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.Sidebar = function(t) {
        function e() {
            return this.toggleRenew = i(this.toggleRenew, this),
            this.toggleSendPrescriber = i(this.toggleSendPrescriber, this),
            this.toggleArchive = i(this.toggleArchive, this),
            this.toggleDelete = i(this.toggleDelete, this),
            this.toggleSave = i(this.toggleSave, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/sidebar"],
        e.prototype.events = {
            "click .send_prescriber": "sendPrescriber",
            "click .other_actions": "showOtherActions",
            "click .save": "save",
            "click .delete": "showDeleteDialog",
            "click .archive": "showArchiveDialog",
            "click .renew": "renew"
        },
        e.prototype.initialize = function() {
            var t, e, i, n, s;
            for (n in this.bindTo(this.model.sections, "change reset", this.toggleSave),
            this.bindTo(this.model, "change:eligibility_status", this.toggleSave),
            this.bindTo(this.model, "change:permission_to_call_patient", this.toggleSave),
            this.bindTo(this.model, "change:pharmacy_info", this.toggleSave),
            this.bindTo(this.model, "change:pharmacy_sent_rx", this.toggleSave),
            this.bindTo(this.model, "change:pharmacy_info_v2", this.toggleSave),
            this.bindTo(this.model, "change", this.toggleDelete),
            this.bindTo(this.model, "change", this.toggleArchive),
            this.bindTo(this.model, "change", this.toggleSendPrescriber),
            this.bindTo(this.model, "change", this.toggleRenew),
            s = [],
            e = ["/images/buttonbgx_orange.png", "/images/buttonbg_orange.png"])
                t = e[n],
                i = new Image,
                s.push(i.src = t);
            return s
        }
        ,
        e.prototype.toggleSave = function() {
            if (this.model.rendered)
                return this.$("a.save").toggleClass("disabled", !this.model.saveable())
        }
        ,
        e.prototype.toggleDelete = function() {
            return this.$("a.delete").toggleClass("disabled", !this.model.deleteable())
        }
        ,
        e.prototype.toggleArchive = function() {
            return this.$("a.archive").toggleClass("disabled", !this.model.archivable())
        }
        ,
        e.prototype.toggleSendPrescriber = function() {
            return this.$("a.send_prescriber").toggleClass("disabled", !this.model.shareable())
        }
        ,
        e.prototype.toggleRenew = function() {
            return this.$("a.renew").toggleClass("disabled", !this.model.renewable())
        }
        ,
        e.prototype.save = function() {
            return this.toggleSave(),
            this.model.rendered = !1,
            this.model.saveable() && this.model.trigger("save"),
            !1
        }
        ,
        e.prototype.email = function() {
            return this.model.shareable() && this.model.saveable() ? this.model.trigger("save", {
                email: !0
            }) : this.model.shareable() && (window.location = "/api/requests/" + this.model.id + "/email"),
            !1
        }
        ,
        e.prototype.fax = function() {
            return this.model.shareable() && this.openDialog(new App.Views.Requests.Edit.FaxDialog({
                model: this.model
            })),
            !1
        }
        ,
        e.prototype.renew = function() {
            return this.model.renewable() && ("true" === $("meta[name=show-renewal-dialog]").attr("content") ? this.openDialog(new App.Views.Requests.Edit.RenewalDialog({
                model: this.model
            })) : (this.prependChildInto("body", new App.Views.Shared.ModalBackground),
            this.model.renew())),
            !1
        }
        ,
        e.prototype.sendPrescriber = function() {
            if (this.model.shareable())
                return this.model.trigger("save", {
                    send_prescriber: !0
                })
        }
        ,
        e.prototype.downloadButton = function() {
            return new App.Views.Requests.Edit.DownloadButton({
                model: this.model
            })
        }
        ,
        e.prototype.nextActionButton = function() {
            return this.model.downloadOnly() ? this.downloadButton() : new App.Views.Requests.Edit.SendToPlanButton({
                model: this.model,
                className: "send-to-plan-sidebar"
            })
        }
        ,
        e.prototype.render = function() {
            var t;
            return t = this.model.archived(),
            $(this.el).html(this.template({
                anonymous: App.User.get("anonymous"),
                central: App.User.get("central"),
                archived: t
            })),
            t || this.prependChild(this.nextActionButton()),
            this.model.downloadOnly() || this.prependChildInto(this.$("#other_actions_body"), this.downloadButton()),
            this.toggleSave(),
            this.toggleDelete(),
            this.toggleSendPrescriber(),
            this.toggleRenew(),
            this.toggleArchive(),
            this.initOtherActionsState()
        }
        ,
        e.prototype.showArchiveDialog = function() {
            var e;
            return this.model.archivable() && $.ajax({
                type: "GET",
                url: App.PortalServicesUrl + "/requests/archive_reasons",
                xhrFields: {
                    withCredentials: !0
                },
                success: (e = this,
                function(t) {
                    return e.openDialog(new App.Views.Requests.Shared.ArchiveDialog({
                        model: new App.Models.RequestTouch,
                        request: e.model,
                        archiveReasons: t
                    }))
                }
                ),
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "Request cannot be archived. Please try again later."
                    })
                }
            }),
            !1
        }
        ,
        e.prototype.showDeleteDialog = function() {
            return this.model.deleteable() && this.openDialog(new App.Views.Requests.Edit.DeleteDialog({
                model: this.model
            })),
            !1
        }
        ,
        e.prototype.initOtherActionsState = function() {
            if ("1" === $.cookie("hide_other_actions"))
                return this.$("#other_actions_container").hide()
        }
        ,
        e.prototype.showOtherActions = function() {
            return "1" !== $.cookie("hide_other_actions") ? $.cookie("hide_other_actions", "1", {
                domain: ".covermymeds.com",
                path: "/"
            }) : $.cookie("hide_other_actions", "0", {
                domain: ".covermymeds.com",
                path: "/"
            }),
            $("#other_actions").hasClass("active") ? $("#other_actions").removeClass("active") : $("#other_actions").addClass("active"),
            this.$("#other_actions_container").slideToggle()
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var a = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , l = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.StatusDialog = function(t) {
        function e() {
            return this.handleStatusCheck = a(this.handleStatusCheck, this),
            this.handleStatusCheckError = a(this.handleStatusCheckError, this),
            this.checkStatus = a(this.checkStatus, this),
            this.fetchEnrollmentConversionPrograms = a(this.fetchEnrollmentConversionPrograms, this),
            this.caseKeySuccess = a(this.caseKeySuccess, this),
            this.renderBridgeEnrollmentView = a(this.renderBridgeEnrollmentView, this),
            this.renderCaseView = a(this.renderCaseView, this),
            this.update = a(this.update, this),
            this.shouldRenderEnrollmentDialog = a(this.shouldRenderEnrollmentDialog, this),
            this.shouldSkipStatusDialog = a(this.shouldSkipStatusDialog, this),
            this.shouldRenderBridgeEnrollmentView = a(this.shouldRenderBridgeEnrollmentView, this),
            this.shouldRenderCaseView = a(this.shouldRenderCaseView, this),
            this.onRequestUpdate = a(this.onRequestUpdate, this),
            this.onLongPollCheck = a(this.onLongPollCheck, this),
            e.__super__.constructor.apply(this, arguments)
        }
        var i, n, s, r, o;
        return l(e, t),
        s = 180 * (r = 1e3),
        i = .5,
        n = 2700 * r,
        5 * r,
        o = "PA Response",
        e.prototype.template = JST["requests/edit/status_dialog"],
        e.prototype.className = "dialog status-dialog",
        e.prototype.metricService = null,
        e.prototype.events = {
            "click p.convert a": "convert",
            "click button.convert": "convert",
            "click .close": "manualClose",
            "click .return-to-dashboard": "returnToDashboard",
            "click .start-enrollment": "startEnrollment",
            "click .start-bridge": "displayEnrollmentPrograms"
        },
        e.prototype.notifier = function() {
            return CMMNotifier.instance()
        }
        ,
        e.prototype.messageChannel = null,
        e.prototype.messageEvent = "update",
        e.prototype.listenForRequestUpdate = function() {
            if (this.longPoller = new CMM.LongPoller(this.onLongPollCheck,{
                timeout: s,
                decayRate: i,
                maxTime: n
            }),
            this.longPoller.start(),
            !this.model.id)
                throw "Request key is missing";
            return this.messageChannel = "request-" + this.model.id,
            this.notifier().bind(this.messageChannel, this.messageEvent, this.onRequestUpdate)
        }
        ,
        e.prototype.stopListenForRequestUpdate = function() {
            return this.longPoller.stop(),
            this.notifier().unbind(this.messageChannel, this.messageEvent, this.onRequestUpdate)
        }
        ,
        e.prototype.onLongPollCheck = function() {
            return this.checkStatus({
                type: "Backup Long Poll"
            })
        }
        ,
        e.prototype.onRequestUpdate = function() {
            return this.checkStatus({
                type: "Web Socket"
            })
        }
        ,
        e.prototype.checkStatusAfterDialogExpires = function() {
            var t, e;
            if (this.status_dialog.get("expires_in_seconds"))
                return t = this.status_dialog.get("expires_in_seconds") * r,
                $.doTimeout("waiting", t, (e = this,
                function() {
                    return e.checkStatus({
                        type: "Elapsed Time"
                    })
                }
                ))
        }
        ,
        e.prototype.initialize = function() {
            return this.fetchEnrollmentConversionPrograms(),
            this.original_status = this.model.status(),
            this.status_dialog = this.options.status_dialog,
            this.originallyShowOnSend = this.status_dialog.get("show_on_send"),
            this.metricService = new App.Services.MetricService(this.model),
            this.prependChildInto("body", new App.Views.Shared.ModalBackground),
            this.listenForRequestUpdate(),
            this.checkStatusAfterDialogExpires(),
            this.bindTo(this.model, "update", this.update)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                nickname: this.model.nickname(),
                reference: this.model.reference(),
                epa_image: this.model.formImage()
            })),
            this.update()
        }
        ,
        e.prototype.shouldRenderCaseView = function() {
            return this.model.isInPaResponse() && this.model.get("is_amp_drug") && this.model.get("use_dashboard_redirect")
        }
        ,
        e.prototype.shouldRenderBridgeEnrollmentView = function() {
            return this.model.get("bridge_experiment") && this.model.isInPaResponse() && $("#bridge_dialog_content").is(":empty")
        }
        ,
        e.prototype.shouldSkipStatusDialog = function() {
            return this.model.get("pa_nav_experiment") && this.model.isPaDenied()
        }
        ,
        e.prototype.shouldRenderEnrollmentDialog = function() {
            return this.model.get("allow_enrollment") && !this.shouldRenderCaseView() && !this.model.get("bridge_experiment") && this.model.isInPaResponse()
        }
        ,
        e.prototype.update = function() {
            return this.shouldSkipStatusDialog() && this.autoClose(),
            this.shouldRenderCaseView() && !this.model.get("bridge_experiment") && this.renderCaseView(),
            this.shouldRenderBridgeEnrollmentView() && this.renderBridgeEnrollmentView(),
            this.$(".text").html(this.status_dialog.text(this.model)),
            this.status_dialog.get("include_response_message") && this.$(".response").html(this.model.lastSectionDescription()),
            this.$("p.convert").toggle(this.status_dialog.get("allow_conversion")),
            this.$("button.close").toggle(!this.status_dialog.get("force_conversion")),
            this.$("button.return-to-dashboard").toggle(!this.status_dialog.get("force_conversion")),
            this.$("button.convert").toggle(this.status_dialog.get("force_conversion")),
            this.$("#enrollment_dialog_content").toggle(this.shouldRenderEnrollmentDialog()),
            this.$("img.spinner").toggle(this.status_dialog.get("display_spinner"))
        }
        ,
        e.prototype.renderCaseView = function() {
            if ($("#case_view_link_content").is(":empty"))
                return this.caseKey = new App.Models.CaseKey({
                    model: this.model
                }),
                this.caseKey.fetch({
                    xhrFields: {
                        withCredentials: !0
                    },
                    success: this.caseKeySuccessHandler.bind(this)
                })
        }
        ,
        e.prototype.caseKeySuccessHandler = function() {
            var t;
            if (this.caseKey.get("display_redirect_for_user"))
                return this.caseKey.get("case_key") ? (t = this.model.get("providers_url") + "/cases/" + this.caseKey.get("case_key"),
                new App.Views.Requests.Edit.AmpCase({
                    providers_url: t
                }).render()) : $("#case_view_link_content").append(JST["requests/edit/amp_case_in_progress"])
        }
        ,
        e.prototype.renderBridgeEnrollmentView = function() {
            return this.caseKey = new App.Models.CaseKey({
                model: this.model
            }),
            this.caseKey.fetch({
                xhrFields: {
                    withCredentials: !0
                },
                success: this.caseKeySuccess.bind(this),
                error: this.handleRenderBridgeEnrollmentError.bind(this)
            })
        }
        ,
        e.prototype.caseKeySuccess = function() {
            return this.caseKey.get("case_key") && this.model.isPaDenied() ? (this.hubEnrollment = new App.Models.HubEnrollment({
                model: this.model,
                case_key: this.caseKey.get("case_key")
            }),
            this.hubEnrollment.fetch({
                xhrFields: {
                    withCredentials: !0
                },
                success: this.hubEnrollmentSuccessHandler.bind(this),
                error: this.handleRenderBridgeEnrollmentError.bind(this)
            })) : this.hubEnrollmentSuccessHandler()
        }
        ,
        e.prototype.hubEnrollmentSuccessHandler = function() {
            var t;
            return t = this.hubEnrollment && this.hubEnrollment.get("hub_enrollment") && null !== this.hubEnrollment.get("hub_enrollment").sentToPlanAt,
            !this.model.isPaDenied() || t && this.caseKey.get("case_key") ? this.shouldRenderCaseView() ? this.caseKeySuccessHandler() : void 0 : new App.Views.Requests.Edit.BridgePrograms({
                enrollmentPrograms: this.model.get("enrollmentPrograms")
            }).render()
        }
        ,
        e.prototype.handleRenderBridgeEnrollmentError = function() {
            return this.caseKey && this.shouldRenderCaseView() ? this.caseKeySuccessHandler() : this.model.get("allow_enrollment") ? this.$("#enrollment_dialog_content").show() : void 0
        }
        ,
        e.prototype.fetchEnrollmentConversionPrograms = function() {
            return new App.Models.EnrollmentConversionProgram({
                requestId: this.model.id,
                ddid: this.model.drugDDID(),
                portalServicesUrl: this.model.get("portal_services_url"),
                copayExperimentEnabled: this.model.get("copay_experiment")
            }).fetch({
                xhrFields: {
                    withCredentials: !0
                },
                success: this.enrollmentProgramSuccessHandler.bind(this)
            })
        }
        ,
        e.prototype.enrollmentProgramSuccessHandler = function(t, e) {
            return this.model.set("enrollmentPrograms", e),
            (e = new App.Views.Requests.Edit.EnrollmentPrograms({
                enrollmentPrograms: e,
                requestId: this.model.id,
                userId: this.model.get("current_user_id"),
                copayExperimentEnabled: this.model.get("copay_experiment")
            })).render()
        }
        ,
        e.prototype.checkStatus = function(t) {
            var e;
            return e = (null != t ? t : {
                type: null
            }).type,
            this.model.fetch({
                success: this.handleStatusCheck,
                data: {
                    type: e
                },
                error: this.handleStatusCheckError
            })
        }
        ,
        e.prototype.handleStatusCheckError = function(t, e) {
            if (406 === e.status)
                return new App.Views.Shared.Notice({
                    message: "Your request has been converted to fax."
                }),
                window.location = e.responseText
        }
        ,
        e.prototype.handleStatusCheck = function() {
            return this.model.hasEnabledQuestion() ? this.autoClose() : this.isSendingDialog() ? (this.status_dialog = this.model.status_dialog_sending,
            this.checkStatusAfterDialogExpires(),
            this.update()) : this.isLoadingDialog() ? (this.status_dialog = this.model.status_dialog_loading,
            this.checkStatusAfterDialogExpires(),
            this.update(),
            this.longPoller.resetTimeout()) : this.autoClose()
        }
        ,
        e.prototype.autoClose = function() {
            return this.originallyShowOnSend && this.metricService.logCompletion(),
            this.model.trigger("refresh"),
            this.leave()
        }
        ,
        e.prototype.manualClose = function() {
            return this.originallyShowOnSend && this.metricService.logClose(),
            this.model.trigger("refresh"),
            this.leave()
        }
        ,
        e.prototype.returnToDashboard = function() {
            return window.location = "/cmm_php"
        }
        ,
        e.prototype.isSendingDialog = function() {
            return this.model.sending() && this.model.status_dialog_sending.hasBehavior() && this.model.status() === this.original_status
        }
        ,
        e.prototype.isLoadingDialog = function() {
            return this.model.status_dialog_loading.hasBehavior() && this.model.status() !== this.original_status
        }
        ,
        e.prototype.convert = function() {
            return window.location = "/api/requests/" + this.model.id + "/convert"
        }
        ,
        e.prototype.startEnrollment = function(t) {
            return $(t.currentTarget).parent().submit()
        }
        ,
        e.prototype.displayEnrollmentPrograms = function() {
            return this.$("#enrollment_dialog_content").show(),
            this.$("#bridge_dialog_content").hide()
        }
        ,
        e.prototype.isRequestInPaResponse = function() {
            return this.model.status() === o
        }
        ,
        e.prototype.leave = function() {
            try {
                return this.stopListenForRequestUpdate()
            } catch (t) {} finally {
                this.status_dialog.get("force_conversion") ? this.convert() : ($.doTimeout("waiting"),
                e.__super__.leave.apply(this, arguments))
            }
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.V2LinkSection = function(t) {
        function e() {
            return this.render = i(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/edit/v2_link_section"],
        e.prototype.shouldRenderLink = function() {
            return "true" === $("meta[name=v2-app-enabled]").attr("content")
        }
        ,
        e.prototype.render = function() {
            if (this.shouldRenderLink())
                return $(this.el).html(this.template({
                    url: window.location.origin + "/v2" + window.location.pathname
                }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Edit.VerifiedNpiDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/edit/verified_npi_dialog"],
        e.prototype.className = "dialog npi-dialog",
        e.prototype.events = {
            "click button.continue-to-pa": "fillProviderData"
        },
        e.prototype.initialize = function(t) {
            return this.request = t.request,
            this.verified_npi = t.cached_npi,
            this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                verified_npi: this.verified_npi
            }))
        }
        ,
        e.prototype.fillProviderData = function() {
            var t, e;
            if (this.leave(),
            t = this.verified_npi,
            this.request.findQuestion("provider_npi").set({
                answer_text: t.npi
            }),
            this.request.findQuestion("provider_first_name").set({
                answer_text: t.first_name
            }),
            this.request.findQuestion("provider_last_name").set({
                answer_text: t.last_name
            }),
            "fax" === (null != (e = t.contact_method) ? e.toLowerCase() : void 0))
                return this.fillFaxNumber()
        }
        ,
        e.prototype.fillFaxNumber = function() {
            var t;
            return (t = this.request.findQuestion("provider_fax")).set({
                answer_text: this.verified_npi.fax_number
            }),
            $("input[name='provider_fax']").mask(t.attributes.mask)
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.GroupIndex.Buttons = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/group_index/buttons"],
        e.prototype.render = function() {
            return $(this.el).html(this.template)
        }
        ,
        e.prototype.events = {
            "click .new-request": "newRequest",
            "click .enter-key": "enterKey"
        },
        e.prototype.newRequest = function() {
            return Backbone.history.navigate("requests/new", !0),
            !1
        }
        ,
        e.prototype.enterKey = function() {
            return Backbone.history.navigate("requests/key", !0),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.GroupIndex.HistoryDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/group_index/history_dialog"],
        e.prototype.className = "dialog history",
        e.prototype.events = {
            "click .close": "leave"
        },
        e.prototype.render = function() {
            return App.User.get("copc_pilot_user") && (this.template = JST["requests/group_index/history_dialog_copc"]),
            $(this.el).html(this.template({
                nickname: this.model.nickname(),
                reference: this.model.reference(),
                request_actions: this.collection
            }))
        }
        ,
        e.prototype.leave = function() {
            return $(this.parent.el).show(),
            e.__super__.leave.apply(this, arguments),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.GroupIndex.Main = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.render = function() {
            if (document.title = "Dashboard | CoverMyMeds",
            $("#header a.home").hide(),
            $("#header #signpost").removeClass().addClass("dashboard"),
            $("#app").html("<div id='index'></div>"),
            App.User.get("copc_pilot_user") && $("body").addClass("copc_pilot"),
            this.renderChildInto("#sidebar", new App.Views.Requests.GroupIndex.Buttons({
                collection: this.collection
            })),
            this.appendChildInto("#sidebar", new App.Views.Shared.Index.Scoper({
                collection: this.collection,
                name: "requests"
            })),
            this.appendChildInto("#sidebar", new App.Views.Shared.Index.Filters({
                collection: this.collection
            })),
            this.appendChildInto("#sidebar", new App.Views.Shared.Index.Sorters({
                collection: this.collection
            })),
            this.appendChildInto("#sidebar", new App.Views.Shared.Index.Searcher({
                collection: this.collection
            })),
            this.renderChildInto("#index", new App.Views.Shared.Index.Collection({
                collection: this.collection,
                child_view: App.Views.Requests.GroupIndex.Request,
                name: "request"
            })),
            this.appendChildInto("#index", new App.Views.Shared.Index.Pagination({
                collection: this.collection
            })),
            this.collection.last_request && !this.collection.last_request.deleted())
                return this.openDialog(new App.Views.Requests.GroupIndex.TakeActionDialog({
                    model: new App.Models.RequestAction,
                    request: this.collection.last_request,
                    requests: this.collection
                }))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.GroupIndex.Request = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/group_index/request"],
        e.prototype.events = {
            "click a.take-action": "showTakeActionDialog",
            "click a.archive": "showArchiveDialog",
            mouseenter: "showLinks",
            mouseleave: "hideLinks",
            "click a.edit": "edit"
        },
        e.prototype.tagName = "li",
        e.prototype.className = "request",
        e.prototype.render = function() {
            return App.User.get("copc_pilot_user") && (this.template = JST["requests/group_index/request_copc"]),
            $(this.el).html(this.template({
                form_image: this.model.formImage(),
                nickname: this.model.nickname(),
                reference: this.model.reference(),
                custom_ref: this.model.custom_ref(),
                rx_number: this.model.rx_number(),
                patient_dob: this.model.get("patient_dob"),
                next_action_name: this.model.get("next_action_name"),
                last_action_name: this.model.get("last_action_name"),
                action_date: this.model.actionDate(),
                followup_date: this.model.followupDate(),
                drug_DDID_text: this.model.get("drug_DDID_text"),
                created_by_name: this.model.created_by_name(),
                created: this.model.created(),
                archived: this.model.archived(),
                archivable: this.model.archivable(),
                being_edited_by: this.model.get("being_edited_by"),
                epa: this.model.get("is_ePA"),
                full_status: this.model.fullStatus(),
                outcome: this.model.outcome(),
                access_type: this.model.accessType(),
                is_appeal: this.model.isAppeal()
            })),
            this.hideLinks()
        }
        ,
        e.prototype.showLinks = function() {
            return this.$(".links").show()
        }
        ,
        e.prototype.hideLinks = function() {
            return this.$(".links").hide()
        }
        ,
        e.prototype.edit = function() {
            return 2 === this.model.accessType() ? this.showSharingDialog() : Backbone.history.navigate("requests/" + this.model.id, !0),
            !1
        }
        ,
        e.prototype.showTakeActionDialog = function() {
            return this.openDialog(new App.Views.Requests.GroupIndex.TakeActionDialog({
                model: new App.Models.RequestAction,
                request: this.model,
                requests: this.model.collection
            })),
            !1
        }
        ,
        e.prototype.showArchiveDialog = function() {
            var e;
            return this.model.archivable() && $.ajax({
                type: "GET",
                url: App.PortalServicesUrl + "/requests/archive_reasons",
                xhrFields: {
                    withCredentials: !0
                },
                success: (e = this,
                function(t) {
                    return e.openDialog(new App.Views.Requests.Shared.ArchiveDialog({
                        model: new App.Models.RequestTouch,
                        request: e.model,
                        archiveReasons: t
                    }))
                }
                ),
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "Request cannot be archived. Please try again later."
                    })
                }
            }),
            !1
        }
        ,
        e.prototype.showSharingDialog = function() {
            return this.openDialog(new App.Views.Requests.Shared.SharingDialog({
                request: this.model
            })),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.GroupIndex.TakeActionDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/group_index/take_action_dialog"],
        e.prototype.className = "dialog take-action",
        e.prototype.events = {
            "change select[name=due_date]": "setDate",
            "change input[name=due_date]": "setDateSelect",
            "click .close": "leave",
            "click button.save": "save",
            "click button.history": "viewHistory"
        },
        e.prototype.initialize = function() {
            return this.prependChildInto("body", new App.Views.Shared.ModalBackground)
        }
        ,
        e.prototype.render = function() {
            var t, e, i, n;
            return $(this.el).html(this.template({
                nickname: this.options.request.nickname(),
                reference: this.options.request.reference(),
                actions: this.options.requests.actions
            })),
            this.datepicker = this.$("input[name=due_date]").datepicker({
                minDate: 0
            }),
            this.setDate(),
            i = this.options.request.get("next_accountaction_id"),
            this.$("select[name=last_action]").val(i),
            t = this.options.requests.actions.get(i),
            e = this.options.requests.actions.indexOf(t),
            n = this.options.requests.actions.at(e + 1),
            this.$("select[name=next_action]").val(null != n ? n.id : void 0)
        }
        ,
        e.prototype.setDate = function() {
            return this.datepicker.datepicker("setDate", this.$("select[name=due_date]").val()),
            this.verifyDate()
        }
        ,
        e.prototype.setDateSelect = function() {
            return this.$("select[name=due_date]").val("Custom"),
            this.verifyDate()
        }
        ,
        e.prototype.verifyDate = function() {
            var t;
            return t = this.$("input[name=due_date]").val(),
            moment(t, "MM/DD/YYYY", !0).isValid() ? (this.$("button.save").removeAttr("disabled"),
            this.$("#invalid_due_date").text("")) : (this.$("button.save").attr("disabled", "disabled"),
            this.$("#invalid_due_date").text("Please use this format: mm/dd/yyyy"))
        }
        ,
        e.prototype.save = function() {
            return this.model.set({
                request_id: this.options.request.id,
                last_action_id: this.$("select[name=last_action]").val(),
                next_action_id: this.$("select[name=next_action]").val(),
                due_date: this.$("input[name=due_date]").val(),
                note: this.$("textarea[name=note]").val()
            }),
            this.model.save(this.model.toJSON(), {
                success: (e = this,
                function() {
                    return new App.Views.Shared.Notice({
                        message: "Your action has been recorded."
                    }),
                    e.options.requests.fetch(),
                    e.leave()
                }
                ),
                error: (t = this,
                function() {
                    return new App.Views.Shared.Error({
                        message: "There was an error recording your action. Make sure a due date is entered in the format 01/15/2012"
                    }),
                    t.leave()
                }
                )
            });
            var t, e
        }
        ,
        e.prototype.viewHistory = function() {
            var e;
            return new App.Collections.RequestActions({
                request_id: this.options.request.id
            }).fetch({
                success: (e = this,
                function(t) {
                    return e.openDialog(new App.Views.Requests.GroupIndex.HistoryDialog({
                        model: e.options.request,
                        collection: t
                    })),
                    $(e.el).hide()
                }
                )
            }),
            !1
        }
        ,
        e.prototype.leave = function() {
            return e.__super__.leave.apply(this, arguments),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Shared.ArchiveDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/shared/archive_dialog"],
        e.prototype.className = "dialog",
        e.prototype.events = {
            "click .close": "leave",
            "click button.archive": "archive",
            "click .archive-reason": "selectReason"
        },
        e.prototype.initialize = function() {
            return $("#reasons").hide(),
            $(".error").hide(),
            this.prependChildInto("body", new App.Views.Shared.ModalBackground),
            this.request = this.options.request,
            this.archive_reasons = this.options.archiveReasons
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                outcome_value: this.outcome_value(),
                archive_reasons: this.archive_reasons,
                selectedValue: this.selectedValue,
                staleRequestArchivable: this.request.get("stale_request_archivable")
            }))
        }
        ,
        e.prototype.selectReason = function(t) {
            return this.selectedValue = t.currentTarget.value,
            $(".error").hide(),
            $(".reasons").hide(),
            $("#reasons-" + this.selectedValue).show(),
            $("button.archive").prop("disabled", !1)
        }
        ,
        e.prototype.archive = function() {
            var t, e, i, n, s, r, o, a;
            if ($("button.archive").prop("disabled", !0),
            i = this.outcome_value(),
            e = !1,
            s = this.getReasonElt(),
            t = $("input.archive-reason:checked").siblings(".default-reason"),
            i ? t.length ? n = t.val() : s.length && (o = this.getReasonTextInput(),
            r = this.getReasonSelectInput(),
            o.val() && o.val().trim() ? n = o.val().trim() : r.val() ? n = r.val().trim() : ($("#e-reason").show(),
            $("button.archive").prop("disabled", !1),
            e = !0)) : ($("#e-outcome").show(),
            $("button.archive").prop("disabled", !1)),
            null != i && !e)
                return this.model.set({
                    request_id: this.request.id,
                    outcome: i,
                    reason: n,
                    archive: !0
                }),
                this.model.save(this.model.toJSON(), {
                    xhrFields: {
                        withCredentials: !0
                    },
                    success: function() {
                        return new App.Views.Shared.Notice({
                            message: "Your request was archived successfully."
                        }),
                        Backbone.history.navigate("requests", !0)
                    },
                    error: (a = this,
                    function() {
                        return new App.Views.Shared.Error({
                            message: "Your request could not be archived."
                        }),
                        $("button.archive").prop("disabled", !1),
                        a.leave()
                    }
                    )
                })
        }
        ,
        e.prototype.outcome_value = function() {
            var t;
            if (t = this.request.outcome(),
            !this.request.get("is_ePA") || !t)
                return this.$("input:checked").val();
            switch (t) {
            case "Favorable":
            case "Unfavorable":
            case "Unsent":
                return t;
            default:
                return "Unknown"
            }
        }
        ,
        e.prototype.leave = function() {
            return e.__super__.leave.apply(this, arguments),
            !1
        }
        ,
        e.prototype.getReasonElt = function() {
            return $("#reasons-" + this.outcome_value())
        }
        ,
        e.prototype.getReasonTextInput = function() {
            return $("#reasons-" + this.outcome_value() + " input[type=text]")
        }
        ,
        e.prototype.getReasonSelectInput = function() {
            return $("#reasons-" + this.outcome_value() + " option:selected")
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Shared.HubDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/shared/hub_dialog"],
        e.prototype.className = "dialog",
        e.prototype.events = {
            "click a.cancel": "declineHub",
            "click a.confirm": "enrollHub"
        },
        e.prototype.initialize = function() {
            return this.prependChildInto("body", new App.Views.Shared.ModalBackground),
            this.dialog_details = this.options.dialog_details,
            this.request = this.options.request
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                dialog_details: this.dialog_details
            }))
        }
        ,
        e.prototype.enrollHub = function() {
            var t;
            return t = this.request.id,
            this.model.set({
                request_id: t,
                outcome: "hub-accept"
            }),
            this.model.save(this.model.toJSON(), {
                xhrFields: {
                    withCredentials: !0
                },
                success: function() {},
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "An error has occurred."
                    })
                }
            }, this.leave())
        }
        ,
        e.prototype.declineHub = function() {
            return this.model.set({
                request_id: this.request.id,
                outcome: "hub-decline"
            }),
            this.model.save(this.model.toJSON(), {
                xhrFields: {
                    withCredentials: !0
                },
                success: function() {},
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "Your request could not be enrolled."
                    })
                }
            }),
            this.leave()
        }
        ,
        e.prototype.leave = function() {
            return e.__super__.leave.apply(this, arguments),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Shared.IhtHubExperimentDialog = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["requests/shared/iht_hub_experiment_dialog"],
        e.prototype.className = "iht_pilot_modal",
        e.prototype.events = {
            "click a.cancel": "declineHub",
            "click a.confirm": "enrollHub"
        },
        e.prototype.initialize = function() {
            return this.prependChildInto("body", new App.Views.Shared.ModalBackground),
            this.request = this.options.request
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template)
        }
        ,
        e.prototype.enrollHub = function() {
            var t;
            return t = this.request.id,
            this.model.set({
                request_id: t,
                outcome: "hub-accept"
            }),
            this.model.save(this.model.toJSON(), {
                xhrFields: {
                    withCredentials: !0
                },
                success: function() {},
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "An error has occurred."
                    })
                }
            }, this.leave())
        }
        ,
        e.prototype.declineHub = function() {
            return this.model.set({
                request_id: this.request.id,
                outcome: "hub-decline"
            }),
            this.model.save(this.model.toJSON(), {
                xhrFields: {
                    withCredentials: !0
                },
                success: function() {},
                error: function() {
                    return new App.Views.Shared.Error({
                        message: "Your request could not be enrolled."
                    })
                }
            }),
            this.leave()
        }
        ,
        e.prototype.leave = function() {
            return e.__super__.leave.apply(this, arguments),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Requests.Shared.SharingDialog = function(t) {
        function e() {
            return this.accept_callback = i(this.accept_callback, this),
            this.decline_callback = i(this.decline_callback, this),
            this.cancel = i(this.cancel, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["requests/shared/sharing_dialog"],
        e.prototype.className = "dialog",
        e.prototype.events = {
            "click button.cancel": "cancel",
            "click button.accept": "accept",
            "click button.delete": "decline"
        },
        e.prototype.initialize = function() {
            return this.prependChildInto("body", new App.Views.Shared.ModalBackground),
            this.request = this.options.request,
            this.autoshare = new App.Models.Autoshare({
                request_id: this.request.get("id")
            })
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                request: this.request
            }))
        }
        ,
        e.prototype.accept = function() {
            return this.disable_buttons(),
            this.$el.find("button.accept").html("Accepting\u2026"),
            this.autoshare.save({
                status: "ACCEPT"
            }, {
                success: this.accept_callback
            })
        }
        ,
        e.prototype.decline = function() {
            return this.disable_buttons(),
            this.$el.find("button.delete").html("Deleting\u2026"),
            this.autoshare.save({
                status: "DECLINE"
            }, {
                success: this.decline_callback
            })
        }
        ,
        e.prototype.cancel = function() {
            return this.on_request_page() ? Backbone.history.navigate("requests", !0) : this.leave()
        }
        ,
        e.prototype.decline_callback = function() {
            return this.on_request_page() ? Backbone.history.navigate("requests", !0) : Backbone.history.loadUrl()
        }
        ,
        e.prototype.accept_callback = function() {
            return this.on_request_page() ? Backbone.history.loadUrl() : Backbone.history.navigate("requests/" + this.request.id, !0)
        }
        ,
        e.prototype.on_request_page = function() {
            return Backbone.history.fragment === "requests/" + this.request.get("id")
        }
        ,
        e.prototype.disable_buttons = function() {
            return this.$el.find("button").prop("disabled", !0)
        }
        ,
        e.prototype.leave = function() {
            return e.__super__.leave.apply(this, arguments),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Shared.Index.Collection = function(t) {
        function e() {
            return this.loading = i(this.loading, this),
            this.render = i(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.initialize = function() {
            return this.bindTo(this.collection, "reset", this.render),
            this.bindTo(this.collection, "fetching", this.loading)
        }
        ,
        e.prototype.tagName = "ul",
        e.prototype.id = "results",
        e.prototype.events = {
            "click .new": "newItem"
        },
        e.prototype.render = function() {
            var e;
            return $(this.el).html("<ul id='sorter'><li class='selected'><h1>" + _.capitalize(this.options.name) + "s</h1></li></ul>"),
            0 === this.collection.length && !1 === this.options.name ? $(this.el).append("<li><div class='empty'><a class='new' href='#'>Create a new " + this.options.name + "</a><ul><li>Feel free to create a fake " + this.options.name + " -- you can delete it at any time.</li></div></li>") : this.collection.each((e = this,
            function(t) {
                return e.appendChild(new e.options.child_view({
                    model: t
                }))
            }
            )),
            $(this.el).removeClass("spinner"),
            this
        }
        ,
        e.prototype.loading = function() {
            return $(this.el).addClass("spinner"),
            this.$("li").hide()
        }
        ,
        e.prototype.newItem = function() {
            return Backbone.history.navigate(this.options.name + "s/new", !0),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Shared.Index.Filters = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["shared/index/filters"],
        e.prototype.id = "filters",
        e.prototype.events = {
            "click a[data-filter]": "changeFilter"
        },
        e.prototype.initialize = function() {
            return this.bindTo(this.collection, "reset", this.render),
            this.bindTo(this.collection.filters, "reset", this.render),
            this.bindTo(this.collection, "syncFilters", this.syncFilters)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                collection: this.collection
            }))
        }
        ,
        e.prototype.changeFilter = function(t) {
            return this.collection.changeFilter($(t.currentTarget).data("filter")),
            !1
        }
        ,
        e.prototype.syncFilters = function() {
            return this.collection.filters.fetch({
                success: (t = this,
                function() {
                    return t.render()
                }
                )
            });
            var t
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Shared.Index.Pagination = function(t) {
        function e() {
            return this.loading = i(this.loading, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["shared/index/pagination"],
        e.prototype.events = {
            "click a.prev": "previousPage",
            "click a.next": "nextPage"
        },
        e.prototype.initialize = function() {
            return this.bindTo(this.collection, "reset", this.render),
            this.bindTo(this.collection.filters, "reset", this.render),
            this.bindTo(this.collection, "fetching", this.loading)
        }
        ,
        e.prototype.id = "pagination",
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                collection: this.collection
            })),
            $(this.el).show()
        }
        ,
        e.prototype.loading = function() {
            return $(this.el).hide()
        }
        ,
        e.prototype.previousPage = function() {
            return this.collection.previousPage() && !1
        }
        ,
        e.prototype.nextPage = function() {
            return this.collection.nextPage() && !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Shared.Index.Scoper = function(t) {
        function e() {
            return this.render = i(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["shared/index/scoper"],
        e.prototype.id = "scoper",
        e.prototype.initialize = function() {
            return this.bindTo(this.collection, "reset", this.render)
        }
        ,
        e.prototype.render = function() {
            var t, e;
            return $(this.el).html(this.template({
                collection: this.collection,
                name: this.options.name
            })),
            $(".token-input-dropdown").remove(),
            this.token = this.$("input").tokenInput(this.collection.scoperUrl(), {
                preventDuplicates: !0,
                prePopulate: this.collection.scope_info,
                onAdd: (e = this,
                function() {
                    return e.collection.changeScope(_.pluck(e.token.tokenInput("get"), "id"))
                }
                ),
                onDelete: (t = this,
                function() {
                    return t.collection.changeScope(_.pluck(t.token.tokenInput("get"), "id"))
                }
                )
            }),
            this
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Shared.Index.Searcher = function(t) {
        function e() {
            return this.render = i(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["shared/index/searcher"],
        e.prototype.events = {
            submit: "searchFilter",
            "click a.search": "searchFilter",
            "click a.clear": "clear"
        },
        e.prototype.id = "searcher",
        e.prototype.tagName = "form",
        e.prototype.initialize = function() {
            return this.bindTo(this.collection, "reset", this.render),
            this.bindTo(this.collection, "error", this.renderError)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                collection: this.collection
            }))
        }
        ,
        e.prototype.searchFilter = function() {
            return $("a.search").hasClass("disabled") || ($("a.search").addClass("disabled"),
            this.collection.searchFilter(this.$("input").val())),
            !1
        }
        ,
        e.prototype.renderError = function(t, e) {
            var i;
            try {
                i = JSON.parse(e.responseText).error
            } catch (n) {
                i = "Uh oh! Something went wrong. Please try again."
            }
            return new App.Views.Shared.Error({
                message: i
            })
        }
        ,
        e.prototype.clear = function() {
            return this.collection.searchFilter(""),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        return function() {
            return t.apply(e, arguments)
        }
    }
      , n = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Shared.Index.Sorters = function(t) {
        function e() {
            return this.render = i(this.render, this),
            e.__super__.constructor.apply(this, arguments)
        }
        return n(e, t),
        e.prototype.template = JST["shared/index/sorters"],
        e.prototype.events = {
            "click a[data-sorter]": "changeSorter"
        },
        e.prototype.tagName = "ul",
        e.prototype.id = "sorters",
        e.prototype.initialize = function() {
            return this.bindTo(this.collection, "reset", this.render)
        }
        ,
        e.prototype.render = function() {
            return $(this.el).html(this.template({
                collection: this.collection
            })),
            this
        }
        ,
        e.prototype.changeSorter = function(t) {
            return this.collection.changeSorter($(t.currentTarget).data("sorter")),
            !1
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Shared.ModalBackground = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.className = "modal-background",
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Shared.Navigation = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.el = "#header",
        e.prototype.events = {
            "click a.root": "root",
            "click a.users": "users",
            "click a.groups": "groups"
        },
        e.prototype.root = function() {
            return Backbone.history.navigate("", !0),
            !1
        }
        ,
        e.prototype.users = function() {
            return Backbone.history.navigate("users", !0),
            !1
        }
        ,
        e.prototype.groups = function() {
            return Backbone.history.navigate("groups", !0),
            !1
        }
        ,
        e
    }(Backbone.View)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Shared.Notice = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.className = "success",
        e.prototype.defaultMessage = "",
        e.prototype.initialize = function() {
            return this.message = this.options.message || this.defaultMessage,
            this.render()
        }
        ,
        e.prototype.render = function() {
            var t;
            return $(this.el).html(this.message),
            $(this.el).hide(),
            $("#notice").html(this.el),
            $(this.el).slideDown(),
            $.doTimeout(5e3, (t = this,
            function() {
                return $(t.el).slideUp(),
                $.doTimeout(2e3, function() {
                    return t.remove()
                })
            }
            )),
            this
        }
        ,
        e
    }(Backbone.View),
    App.Views.Shared.Error = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.className = "error",
        e.prototype.defaultMessage = "Uh oh! Something went wrong. Please try again.",
        e.prototype.render = function() {
            return $("ul#results").removeClass("spinner"),
            e.__super__.render.apply(this, arguments)
        }
        ,
        e
    }(App.Views.Shared.Notice)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Users.Index.Main = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.render = function() {
            return document.title = "Users | CoverMyMeds",
            $("#header a.home").show(),
            $("#header #signpost").removeClass().addClass("signpost-users"),
            $("#app").html("<div id='index'></div>"),
            this.appendChildInto("#sidebar", new App.Views.Shared.Index.Filters({
                collection: this.collection
            })),
            this.appendChildInto("#sidebar", new App.Views.Shared.Index.Sorters({
                collection: this.collection
            })),
            this.appendChildInto("#sidebar", new App.Views.Shared.Index.Searcher({
                collection: this.collection
            })),
            this.renderChildInto("#index", new App.Views.Shared.Index.Collection({
                collection: this.collection,
                child_view: App.Views.Users.Index.User,
                name: "user"
            })),
            this.appendChildInto("#index", new App.Views.Shared.Index.Pagination({
                collection: this.collection
            })),
            this
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    var i = function(t, e) {
        function i() {
            this.constructor = t
        }
        for (var n in e)
            s.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype,
        t.prototype = new i,
        t.__super__ = e.prototype,
        t
    }
      , s = {}.hasOwnProperty;
    App.Views.Users.Index.User = function(t) {
        function e() {
            return e.__super__.constructor.apply(this, arguments)
        }
        return i(e, t),
        e.prototype.template = JST["users/index/user"],
        e.prototype.tagName = "li",
        e.prototype.render = function() {
            return $(this.el).html(this.template(this.model.attributes))
        }
        ,
        e
    }(App.Views.CompositeView)
}
.call(this),
function() {
    App.CookieWrapper = function() {
        function t() {}
        return t.prototype.get = function(t) {
            return jQuery.cookie("location:" + t + ":" + App.User.id)
        }
        ,
        t.prototype.set = function(t, e) {
            return jQuery.cookie("location:" + t + ":" + App.User.id, e, {
                path: "/"
            })
        }
        ,
        t
    }()
}
.call(this),
function() {
    jQuery(function(o) {
        return o.widget("custom.pharmacySearch", {
            options: {
                pharmacyInfo: null,
                pharmacySentRx: null,
                portal_services_url: null
            },
            _create: function() {
                return this._on(this.element, {
                    updatePharmacyInfo: this.updatePharmacyInfo
                }),
                this._on(this.element, {
                    keyup: this.toggleImportant
                }),
                this.element.addClass("pharmacy_search_widget"),
                this.setupSearch(),
                this.initPharmacy()
            },
            initPharmacy: function() {
                var t, e, i;
                return (t = this.options.pharmacyInfo) ? (this.showSpinner(),
                o.ajax({
                    type: "GET",
                    url: this.options.portal_services_url + "/requests/" + this.options.request_id + "/pharmacies/" + t,
                    xhrFields: {
                        withCredentials: !0
                    },
                    success: (i = this,
                    function(t) {
                        return i.setPharmacyAddress(t),
                        i.element.val(t.name),
                        i.checkPharmacy()
                    }
                    ),
                    complete: (e = this,
                    function() {
                        return e.hideSpinner()
                    }
                    )
                })) : this.toggleImportant()
            },
            setupSearch: function() {
                var t, e, i;
                return e = "Enter a pharmacy name and ZIP code, or the pharmacy's fax number",
                this.element.attr("placeholder", e).placeholder(),
                (t = this.element.autocomplete({
                    source: (i = this,
                    function(t, e) {
                        return i.showSpinner(),
                        "true" === App.UsePortalServicesFor.pharmacy_search ? o.ajax({
                            type: "GET",
                            url: App.PortalServicesUrl + "/requests/" + i.options.request_id + "/pharmacies/search",
                            dataType: "json",
                            xhrFields: {
                                withCredentials: !0
                            },
                            data: {
                                term: t.term
                            },
                            success: function(t) {
                                return e(t)
                            },
                            complete: function() {
                                return i.hideSpinner()
                            }
                        }) : o.ajax({
                            url: "/api/datasources/pharmacy_search",
                            dataType: "jsonp",
                            data: {
                                term: t.term
                            },
                            success: function(t) {
                                return e(t)
                            },
                            complete: function() {
                                return i.hideSpinner()
                            }
                        })
                    }
                    ),
                    minLength: 3,
                    select: o.proxy(this.selectPharmacy, this)
                })).autocomplete("instance")._renderItem = function(t, e) {
                    var i;
                    return e.error ? o("<li>").append('<div class="name">' + e.error + '</div><div class="ui-clearfix"></div>').appendTo(t) : (i = e.pharmacy.address_2 ? ", " + e.pharmacy.address_2 : "",
                    o("<li>").attr("data-value", e.value).attr("style", "padding-top:5px;padding-bottom:5px").append('<div class="name">' + e.pharmacy.name + '</div><div class="address">' + e.pharmacy.address_1 + i + "<br/>" + e.pharmacy.city + ", " + e.pharmacy.state + " " + e.pharmacy.zip_code + '</div><div class="ui-clearfix"></div>').appendTo(t))
                }
                ,
                t.autocomplete("instance")._renderMenu = function(i, t) {
                    return o.each(t, (n = this,
                    function(t, e) {
                        return n._renderItemData(i, e)
                    }
                    ));
                    var n
                }
                ,
                t
            },
            selectPharmacy: function(t, e) {
                var i, n, s, r;
                return r = null,
                (s = e.item) ? (r = s.value,
                this.element.val(s.label),
                this.setPharmacyAddress(s.pharmacy)) : this.clearPharmacyAddress(),
                this.element.trigger("updatePharmacyInfo", [r]),
                n = o(":focusable").toArray(),
                i = o(n[n.indexOf(this.element) + 1]),
                window.setTimeout(function() {
                    return i.focus()
                }, 50),
                !1
            },
            clearPharmacyAddress: function() {
                return o("#pharmacy-search-address").html("")
            },
            setPharmacyAddress: function(t) {
                var e, i;
                return i = t.address_2 ? t.address_2 + "<br />" : "",
                e = '<div class="address">' + t.address_1 + "<br/>" + i + t.city + ", " + t.state + " " + t.zip_code + "</div>",
                o("#pharmacy-search-address").html(e)
            },
            checkPharmacy: function() {
                var t, e, i, n;
                return t = this.options.pharmacyInfo,
                this.showSpinner(),
                o.ajax({
                    type: "GET",
                    url: this.options.portal_services_url + "/requests/" + this.options.request_id + "/npi/valid",
                    xhrFields: {
                        withCredentials: !0
                    },
                    data: o.param({
                        npi: t
                    }),
                    success: (n = this,
                    function() {
                        return n.showPharmacyOptout()
                    }
                    ),
                    error: (i = this,
                    function() {
                        return i.hidePharmacyOptout()
                    }
                    ),
                    complete: (e = this,
                    function() {
                        return e.hideSpinner()
                    }
                    )
                })
            },
            hideSpinner: function() {
                return o("#pharmacy_search_spinner").hide()
            },
            showSpinner: function() {
                return o("#pharmacy_search_spinner").show()
            },
            hidePharmacyOptout: function() {
                return o(".optout_row").hide()
            },
            showPharmacyOptout: function() {
                if (o(".optout_row").show(),
                this.options.pharmacySentRx)
                    return o("input[name=pharmacy_sent_rx]").prop("checked", !0)
            },
            updatePharmacyInfo: function(t, e) {
                if (this.options.pharmacyInfo = e,
                this.options.pharmacyInfo)
                    return this.checkPharmacy()
            },
            toggleImportant: function() {
                var t;
                return t = 0 === this.element.val().length,
                this.element.closest(".row").toggleClass("tag", t),
                this.element.closest(".content").toggleClass("important", t)
            }
        })
    })
}
.call(this);
var CMM = CMM || {};
!function() {
    "use strict";
    var t = function(t, e) {
        function i() {
            a = setTimeout(function() {
                c += 1,
                u = new Date,
                t(),
                o && o < l || (l += s,
                s /= r,
                i())
            }, s)
        }
        var n, s, r, o, a, l, u, c, h = 1e4, p = 1;
        if (n = e.timeout || h,
        s = n,
        1 < (r = e.decayRate || p) || r <= 0)
            throw "Decay rate must be be greater than 0 and less than or equal to 1";
        o = e.maxTime,
        c = l = 0,
        this.start = function() {
            i()
        }
        ,
        this.stop = function() {
            clearTimeout(a),
            a = null,
            this.resetTimeout()
        }
        ,
        this.getCount = function() {
            return c
        }
        ,
        this.getNextCheckAt = function() {
            if (u)
                return new Date(u.getTime() + s)
        }
        ,
        this.resetTimeout = function() {
            s = n,
            c = 0,
            u = null
        }
    };
    CMM.LongPoller = t
}(),
function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : (t = t || self).ahoy = e()
}(this, function() {
    "use strict";
    function i() {
        return E.urlPrefix + E.visitsUrl
    }
    function s() {
        return E.urlPrefix + E.eventsUrl
    }
    function t(t) {
        return 0 === Object.keys(t).length
    }
    function n() {
        return (E.useBeacon || E.trackNow) && t(E.headers) && $ && "undefined" != typeof window.navigator.sendBeacon && !E.withCredentials
    }
    function r(t, e, i) {
        P.set(t, e, i, E.cookieDomain || E.domain)
    }
    function o(t) {
        return P.get(t)
    }
    function a(t) {
        P.set(t, "", -1)
    }
    function l(t) {
        o("ahoy_debug") && window.console.log(t)
    }
    function u() {
        for (var t; t = V.shift(); )
            t();
        H = !0
    }
    function c(t, e) {
        var i = t.matches || t.matchesSelector || t.mozMatchesSelector || t.msMatchesSelector || t.oMatchesSelector || t.webkitMatchesSelector;
        return i ? i.apply(t, [e]) : (l("Unable to match"),
        !1)
    }
    function e(t, e, i) {
        document.addEventListener(t, function(t) {
            c(t.target, e) && i(t)
        })
    }
    function h(t) {
        "interactive" === document.readyState || "complete" === document.readyState ? setTimeout(t, 0) : document.addEventListener("DOMContentLoaded", t)
    }
    function p() {
        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(t) {
            var e = 16 * Math.random() | 0;
            return ("x" == t ? e : 3 & e | 8).toString(16)
        })
    }
    function d() {
        E.cookies && $ && r("ahoy_events", JSON.stringify(L), 1)
    }
    function f() {
        var t = document.querySelector("meta[name=csrf-token]");
        return t && t.content
    }
    function m() {
        var t = document.querySelector("meta[name=csrf-param]");
        return t && t.content
    }
    function g(t) {
        var e = f();
        e && t.setRequestHeader("X-CSRF-Token", e)
    }
    function y(t, e, i) {
        if ($)
            if (F && F.ajax)
                F.ajax({
                    type: "POST",
                    url: t,
                    data: JSON.stringify(e),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    beforeSend: g,
                    success: i,
                    headers: E.headers,
                    xhrFields: {
                        withCredentials: E.withCredentials
                    }
                });
            else {
                var n = new XMLHttpRequest;
                for (var s in n.open("POST", t, !0),
                n.withCredentials = E.withCredentials,
                n.setRequestHeader("Content-Type", "application/json"),
                E.headers)
                    E.headers.hasOwnProperty(s) && n.setRequestHeader(s, E.headers[s]);
                n.onload = function() {
                    200 === n.status && i()
                }
                ,
                g(n),
                n.send(JSON.stringify(e))
            }
    }
    function _(t) {
        var e = {
            events: [t]
        };
        return E.cookies && (e.visit_token = t.visit_token,
        e.visitor_token = t.visitor_token),
        delete t.visit_token,
        delete t.visitor_token,
        e
    }
    function v(e) {
        I.ready(function() {
            y(s(), _(e), function() {
                for (var t = 0; t < L.length; t++)
                    if (L[t].id == e.id) {
                        L.splice(t, 1);
                        break
                    }
                d()
            })
        })
    }
    function w(n) {
        I.ready(function() {
            var t = _(n)
              , e = m()
              , i = f();
            e && i && (t[e] = i),
            t.events_json = JSON.stringify(t.events),
            delete t.events,
            window.navigator.sendBeacon(s(), q(t))
        })
    }
    function b() {
        return E.page || window.location.pathname
    }
    function x(t) {
        return t && 0 < t.length ? t : null
    }
    function k(t) {
        for (var e in t)
            t.hasOwnProperty(e) && null === t[e] && delete t[e];
        return t
    }
    function C(t) {
        var e = t.target;
        return k({
            tag: e.tagName.toLowerCase(),
            id: x(e.id),
            "class": x(e.className),
            page: b(),
            section: S(e)
        })
    }
    function S(t) {
        for (; t && t !== document; t = t.parentNode)
            if (t.hasAttribute("data-section"))
                return t.getAttribute("data-section");
        return null
    }
    function T() {
        if (H = !1,
        N = I.getVisitId(),
        O = I.getVisitorId(),
        R = o("ahoy_track"),
        !1 === E.cookies || !1 === E.trackVisits)
            l("Visit tracking disabled"),
            u();
        else if (N && O && !R)
            l("Active visit"),
            u();
        else if (N || r("ahoy_visit", N = p(), E.visitDuration),
        o("ahoy_visit")) {
            l("Visit started"),
            O || r("ahoy_visitor", O = p(), E.visitorDuration);
            var t = {
                visit_token: N,
                visitor_token: O,
                platform: E.platform,
                landing_page: window.location.href,
                screen_width: window.screen.width,
                screen_height: window.screen.height,
                js: !0
            };
            for (var e in 0 < document.referrer.length && (t.referrer = document.referrer),
            E.visitParams)
                E.visitParams.hasOwnProperty(e) && (t[e] = E.visitParams[e]);
            l(t),
            y(i(), t, function() {
                a("ahoy_track"),
                u()
            })
        } else
            l("Cookies disabled"),
            u()
    }
    var A = function(t) {
        return void 0 === t
    }
      , D = function(t) {
        return Array.isArray(t)
    }
      , M = function(t) {
        return t && "number" == typeof t.size && "string" == typeof t.type && "function" == typeof t.slice
    }
      , q = function(i, n, s, r) {
        return (n = n || {}).indices = !A(n.indices) && n.indices,
        n.nullsAsUndefineds = !A(n.nullsAsUndefineds) && n.nullsAsUndefineds,
        n.booleansAsIntegers = !A(n.booleansAsIntegers) && n.booleansAsIntegers,
        s = s || new FormData,
        A(i) || (null === i ? n.nullsAsUndefineds || s.append(r, "") : "boolean" != typeof i ? D(i) ? i.length && i.forEach(function(t, e) {
            q(t, n, s, r + "[" + (n.indices ? e : "") + "]")
        }) : i instanceof Date ? s.append(r, i.toISOString()) : i !== Object(i) || M(t = i) && "string" == typeof t.name && ("object" == typeof t.lastModifiedDate || "number" == typeof t.lastModified) || M(i) ? s.append(r, i) : Object.keys(i).forEach(function(t) {
            var e = i[t];
            if (D(e))
                for (; 2 < t.length && t.lastIndexOf("[]") === t.length - 2; )
                    t = t.substring(0, t.length - 2);
            q(e, n, s, r ? r + "[" + t + "]" : t)
        }) : s.append(r, n.booleansAsIntegers ? i ? 1 : 0 : i)),
        s;
        var t
    }
      , P = {
        set: function(t, e, i, n) {
            var s = ""
              , r = "";
            if (i) {
                var o = new Date;
                o.setTime(o.getTime() + 60 * i * 1e3),
                s = "; expires=" + o.toGMTString()
            }
            n && (r = "; domain=" + n),
            document.cookie = t + "=" + escape(e) + s + r + "; path=/"
        },
        get: function(t) {
            var e, i, n = t + "=", s = document.cookie.split(";");
            for (e = 0; e < s.length; e++) {
                for (i = s[e]; " " === i.charAt(0); )
                    i = i.substring(1, i.length);
                if (0 === i.indexOf(n))
                    return unescape(i.substring(n.length, i.length))
            }
            return null
        }
    }
      , E = {
        urlPrefix: "",
        visitsUrl: "/ahoy/visits",
        eventsUrl: "/ahoy/events",
        page: null,
        platform: "Web",
        useBeacon: !0,
        startOnReady: !0,
        trackVisits: !0,
        cookies: !0,
        cookieDomain: null,
        headers: {},
        visitParams: {},
        withCredentials: !1,
        visitDuration: 240,
        visitorDuration: 1051200
    }
      , I = window.ahoy || window.Ahoy || {};
    I.configure = function(t) {
        for (var e in t)
            t.hasOwnProperty(e) && (E[e] = t[e])
    }
    ,
    I.configure(I);
    var N, O, R, F = window.jQuery || window.Zepto || window.$, H = !1, V = [], $ = "undefined" != typeof JSON && "undefined" != typeof JSON.stringify, L = [];
    I.ready = function(t) {
        H ? t() : V.push(t)
    }
    ,
    I.getVisitId = I.getVisitToken = function() {
        return o("ahoy_visit")
    }
    ,
    I.getVisitorId = I.getVisitorToken = function() {
        return o("ahoy_visitor")
    }
    ,
    I.reset = function() {
        return a("ahoy_visit"),
        a("ahoy_visitor"),
        a("ahoy_events"),
        a("ahoy_track"),
        !0
    }
    ,
    I.debug = function(t) {
        return !1 === t ? a("ahoy_debug") : r("ahoy_debug", "t", 525600),
        !0
    }
    ,
    I.track = function(t, e) {
        var i = {
            name: t,
            properties: e || {},
            time: (new Date).getTime() / 1e3,
            id: p(),
            js: !0
        };
        return I.ready(function() {
            E.cookies && !I.getVisitId() && T(),
            I.ready(function() {
                l(i),
                i.visit_token = I.getVisitId(),
                i.visitor_token = I.getVisitorId(),
                n() ? w(i) : (L.push(i),
                d(),
                setTimeout(function() {
                    v(i)
                }, 1e3))
            })
        }),
        !0
    }
    ,
    I.trackView = function(t) {
        var e = {
            url: window.location.href,
            title: document.title,
            page: b()
        };
        if (t)
            for (var i in t)
                t.hasOwnProperty(i) && (e[i] = t[i]);
        I.track("$view", e)
    }
    ,
    I.trackClicks = function() {
        e("click", "a, button, input[type=submit]", function(t) {
            var e = t.target
              , i = C(t);
            i.text = "input" == i.tag ? e.value : (e.textContent || e.innerText || e.innerHTML).replace(/[\s\r\n]+/g, " ").trim(),
            i.href = e.href,
            I.track("$click", i)
        })
    }
    ,
    I.trackSubmits = function() {
        e("submit", "form", function(t) {
            var e = C(t);
            I.track("$submit", e)
        })
    }
    ,
    I.trackChanges = function() {
        e("change", "input, textarea, select", function(t) {
            var e = C(t);
            I.track("$change", e)
        })
    }
    ,
    I.trackAll = function() {
        I.trackView(),
        I.trackClicks(),
        I.trackSubmits(),
        I.trackChanges()
    }
    ;
    try {
        L = JSON.parse(o("ahoy_events") || "[]")
    } catch (D) {}
    for (var B = 0; B < L.length; B++)
        v(L[B]);
    return I.start = function() {
        T(),
        I.start = function() {}
    }
    ,
    h(function() {
        E.startOnReady && I.start()
    }),
    I
});
var CMM = CMM || {};
CMM.SessionTimeout = {
    checkDuration: 15e3,
    modalDuration: 33e5,
    logoutDuration: 3e5,
    autosaveDuration: 1e4,
    modalInterval: null,
    countdownInterval: null,
    sessionExpirationTimestamp: null,
    hasLocalStorage: function() {
        var t = "test";
        try {
            return localStorage.setItem(t, t),
            localStorage.removeItem(t),
            !0
        } catch (e) {
            return !1
        }
    }(),
    cancel: function() {
        CMM.SessionTimeout.hideModal(),
        window.clearInterval(CMM.SessionTimeout.modalInterval),
        window.clearInterval(CMM.SessionTimeout.countdownInterval)
    },
    initModal: function() {
        CMM.SessionTimeout.setSessionTimestamp(CMM.SessionTimeout.modalDuration + CMM.SessionTimeout.logoutDuration),
        CMM.SessionTimeout.modalInterval = window.setInterval(CMM.SessionTimeout.checkSessionTimestamp, CMM.SessionTimeout.checkDuration)
    },
    setSessionTimestamp: function(t) {
        CMM.SessionTimeout.sessionExpirationTimestamp = (new Date).getTime() + t,
        CMM.SessionTimeout.hasLocalStorage && localStorage.setItem("session_expiration", CMM.SessionTimeout.sessionExpirationTimestamp)
    },
    getSessionTimestamp: function() {
        return CMM.SessionTimeout.hasLocalStorage ? window.parseInt(localStorage.getItem("session_expiration")) : CMM.SessionTimeout.sessionExpirationTimestamp
    },
    getTimeRemaining: function() {
        var t = (new Date).getTime();
        return CMM.SessionTimeout.getSessionTimestamp() - t
    },
    checkSessionTimestamp: function() {
        CMM.SessionTimeout.getTimeRemaining() < CMM.SessionTimeout.logoutDuration && (window.clearInterval(CMM.SessionTimeout.modalInterval),
        CMM.SessionTimeout.showModal())
    },
    showModal: function() {
        $("body").prepend($('<div class="modal-background">')),
        $("body").append(CMM.SessionTimeout.buildModal({
            title: "Your session will expire soon!",
            content: "Due to a period of inactivity and to protect your patients' information, <strong>your session will expire <span id=\"session-timeout-countdown\"></span>.</strong> Please note we'll autosave your most recent changes."
        }));
        var o = $("#session-timeout-countdown")
          , a = CMM.SessionTimeout.autosaveDuration / 1e3
          , l = !1
          , t = function() {
            var t = CMM.SessionTimeout.getTimeRemaining()
              , e = Math.round(t / 1e3)
              , i = Math.max(0, Math.floor(e / 60))
              , n = Math.max(0, e - 60 * i)
              , s = i + " minute" + (1 < i ? "s" : "")
              , r = n + " second" + (1 < n ? "s" : "");
            0 === i && 0 === n ? o.text("now") : o.text("in " + (0 < i ? s : "") + (0 < i && 0 < n ? " " : "") + (0 < n ? r : "")),
            window.navigator.onLine && (e < 0 ? (window.clearInterval(CMM.SessionTimeout.countdownInterval),
            CMM.SessionTimeout.logoutRedirect()) : e < a && !1 === l && (l = !0,
            $("#action_save").trigger("click")))
        };
        t(),
        CMM.SessionTimeout.countdownInterval = window.setInterval(t, 1e3)
    },
    hideModal: function() {
        $(".modal-background").remove(),
        $("#session-timeout-modal").remove()
    },
    buildModal: function(t) {
        return $('<div id="session-timeout-modal" class="dialog status-dialog">').append(function() {
            return $('<div class="title">').append(function() {
                return t.title
            })
        }).append(function() {
            return $('<div class="content">').append(function() {
                return $('<div class="text">').append(function() {
                    return $("<p>").append(function() {
                        return t.content
                    })
                })
            })
        }).append(function() {
            return $('<div class="actions">').append(function() {
                return $('<button class="session-logout">Log out</button>').on("click", CMM.SessionTimeout.logOutButtonClickHandler)
            }).append(function() {
                return $('<button class="session-keepworking">Keep working</button>').on("click", CMM.SessionTimeout.keepWorkingButtonClickHandler)
            })
        })
    },
    keepWorkingButtonClickHandler: function() {
        window.clearInterval(CMM.SessionTimeout.countdownInterval),
        CMM.SessionTimeout.hideModal(),
        CMM.SessionTimeout.refreshSession()
    },
    logOutButtonClickHandler: function() {
        window.clearInterval(CMM.SessionTimeout.countdownInterval),
        $("#session-timeout-modal button.session-keepworking").hide(),
        $("#session-timeout-modal button.session-logout").text("Logging out...").prop("disabled", !0),
        $("#action_save").trigger("click"),
        window.setTimeout(CMM.SessionTimeout.logoutRedirect, CMM.SessionTimeout.autosaveDuration)
    },
    refreshSession: function() {
        $.ajax({
            method: "GET",
            url: "/api/user_has_active_session",
            complete: function(t, e) {
                "error" === e ? CMM.SessionTimeout.logoutRedirect() : CMM.SessionTimeout.initModal()
            }
        })
    },
    logoutRedirect: function() {
        $("body").append(function() {
            return $('<iframe src="' + window.location.origin + '/logout" width="1" height="1" style="visibility: hidden;">').on("load", function() {
                window.location.href = window.location.origin.replace("dashboard", "account") + "/login?message=sessionExpired&destination_url=" + window.location.href
            })
        })
    }
},
$(document).ready(CMM.SessionTimeout.initModal);
